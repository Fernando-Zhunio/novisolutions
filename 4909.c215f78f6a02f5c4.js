"use strict";(self.webpackChunkng=self.webpackChunkng||[]).push([[4909],{3101:(At,T,i)=>{i.r(T),i.d(T,{ReportesModule:()=>bt});var c=i(69808),p=i(59516),t=i(5e3),w=i(8735),m=i(47423),f=i(25245);const J=function(){return["./create"]};let Y=(()=>{class o{constructor(e){this.s_standart=e}ngOnInit(){this.s_standart.index("reports/group-products").subscribe(()=>{})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(w.X))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-group-products"]],decls:6,vars:2,consts:[[1,"mt-4"],[1,"font-5xl","pl-1","font-facebook","list-group-item-accent-warning"],["mat-fab","","routerLinkActive","router-link-active",2,"position","fixed","bottom","10px","right","10px",3,"routerLink"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Grupo de productos"),t.qZA(),t.TgZ(3,"button",2)(4,"mat-icon"),t._uU(5,"add"),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("routerLink",t.DdM(1,J)))},dependencies:[p.rH,p.Od,m.lW,f.Hw]}),o})();var u=i(4721),s=i(93075),h=i(67322),_=i(77531);function Q(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Nombre requerido"),t.qZA())}function E(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Stock m\xednimo requerido"),t.qZA())}let b=(()=>{class o{constructor(){this.form_group_product=new s.cw({name:new s.NI(null,[s.kI.required]),min_stock:new s.NI(1,[s.kI.required])}),this.state="Creando grupo de productos"}ngOnInit(){}saveData(){}uploadFile(e){const n=e.target.files[0],r=new FileReader;r.readAsDataURL(n),r.onload=()=>{this.file_excel=r.result}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-or-edit-group-products"]],decls:22,vars:4,consts:[[1,"mt-3"],[1,"font-5xl","pl-1","font-facebook","list-group-item-accent-warning"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-md-10"],["matInput","","type","text","formControlName","name","required",""],[4,"ngIf"],[1,"col-md-2"],["type","number","matInput","","formControlName","min_stock","required",""],[1,"form-group","col-12"],["for","my-input"],["id","my-input","type","file",1,"form-control",3,"change"],[1,"col-12"],["mat-raised-button","","color","primary"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"form",2),t.NdJ("ngSubmit",function(){return n.saveData()}),t.TgZ(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"Nombre"),t.qZA(),t._UZ(8,"input",4),t.YNc(9,Q,2,0,"mat-error",5),t.qZA(),t.TgZ(10,"mat-form-field",6)(11,"mat-label"),t._uU(12,"Cantidad minima"),t.qZA(),t._UZ(13,"input",7),t.YNc(14,E,2,0,"mat-error",5),t.qZA(),t.TgZ(15,"div",8)(16,"label",9),t._uU(17,"Subir archivo"),t.qZA(),t.TgZ(18,"input",10),t.NdJ("change",function(l){return n.uploadFile(l)}),t.qZA()(),t.TgZ(19,"div",11)(20,"button",12),t._uU(21,"Guardar"),t.qZA()()()()()),2&e&&(t.xp6(2),t.Oqu(n.state),t.xp6(2),t.Q6J("formGroup",n.form_group_product),t.xp6(5),t.Q6J("ngIf",n.form_group_product.get("name").invalid),t.xp6(5),t.Q6J("ngIf",n.form_group_product.get("min_stock").invalid))},dependencies:[c.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.sg,s.u,h.TO,h.KE,h.hX,_.Nt,m.lW]}),o})();var A=i(29724),Z=i(9224),g=i(26688),x=i(14623),y=i(32368),C=i(94166);function L(o,a){if(1&o&&(t.TgZ(0,"div",26)(1,"strong"),t._uU(2,"CUIDADO!"),t.qZA(),t._uU(3," los datos de stock no se han actualizado desde "),t.TgZ(4,"b"),t._uU(5),t.ALo(6,"amTimeAgo"),t.ALo(7,"amLocale"),t.qZA(),t._uU(8,", lo cual significa que la informaci\xf3n de este reporte no es fiable, \xfasela bajo su responsabilidad. "),t.qZA()),2&o){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,1,t.xi3(7,3,e.mbaStatus.updated_at,"es")))}}function F(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"div",22)(2,"span",23),t._uU(3,"Estado del servicio MBA:\xa0"),t.qZA(),t.TgZ(4,"mat-chip-list")(5,"mat-chip",24),t._uU(6),t.ALo(7,"amTimeAgo"),t.ALo(8,"amLocale"),t.qZA()()(),t.YNc(9,L,9,6,"div",25),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngClass","down"===(null==e.mbaStatus?null:e.mbaStatus.value)?"down":"up"),t.xp6(1),t.AsE("","down"===(null==e.mbaStatus?null:e.mbaStatus.value)?"CAIDO":"EN LINEA"," DESDE : ",t.lcZ(7,4,t.xi3(8,6,e.mbaStatus.updated_at,"es"))," "),t.xp6(3),t.Q6J("ngIf","down"===e.mbaStatus.value)}}function H(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-option",27),t.NdJ("click",function(){const l=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.addWarehousesSelects(l.value.id))}),t.TgZ(1,"div",28)(2,"span"),t._uU(3),t.TgZ(4,"small"),t._uU(5),t.qZA()(),t.TgZ(6,"span"),t._UZ(7,"i",29),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(3),t.hij("",e.value.name," "),t.xp6(2),t.hij("(",e.value.code,")")}}function G(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-option",27),t.NdJ("click",function(){const l=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.removeWarehousesSelects(l.value.id))}),t.TgZ(1,"div",28)(2,"span"),t._uU(3),t.TgZ(4,"small"),t._uU(5),t.qZA()(),t.TgZ(6,"span"),t._UZ(7,"i",30),t.qZA()()()}if(2&o){const e=a.$implicit;t.xp6(3),t.hij("",e.value.name," "),t.xp6(2),t.hij("(",e.value.code,")")}}const M=function(o){return{filter:o}};let B=(()=>{class o{constructor(e){this.s_standart=e,this.warehouses=[],this.warehousesMap=new Map,this.warehousesSelectsMap=new Map,this.search="",this.isLoad=!1,this.mbaStatus=null,this.show_global_stock=!1,this.allWarehouse=!1}ngOnInit(){this.isLoad=!0,this.s_standart.show("reports/general-stock").subscribe(e=>{e&&"object"==typeof e&&e.hasOwnProperty("success")&&e.success&&(this.isLoad=!1,this.warehouses=e.data.warehouses,this.warehousesMap=new Map(this.warehouses.map(n=>[n.id,n])),this.mbaStatus=e.data.mba_status,e.data.user_warehouses&&this.assignedDataOnInit(e.data.user_warehouses))})}assignedDataOnInit(e){e.map(n=>{this.addWarehousesSelects(n)})}addWarehousesSelects(e){const n=this.warehousesMap.get(e);this.warehousesSelectsMap.set(e,n);const r=this.warehouses.findIndex(l=>l.id==e);this.warehouses.splice(r,1),this.warehousesMap.delete(e)}removeWarehousesSelects(e){if(this.allWarehouse)return;const n=this.warehousesSelectsMap.get(e);this.warehousesMap.set(e,n),this.warehouses.push(n),this.warehousesSelectsMap.delete(e),this.filterWarehouse()}filterWarehouse(){const e=this.warehouses.filter(n=>n.name.toUpperCase().includes(this.search.toUpperCase()));this.warehousesMap=new Map(e.map(n=>[n.id,n]))}saveInServer(){const e=this.convertDataSend();e.warehouses_ids.length>0&&(this.isLoad=!0,this.s_standart.store("reports/general-stock",Object.assign({},e)).subscribe(r=>{r&&"object"==typeof r&&r.hasOwnProperty("success")&&r.success&&(this.isLoad=!1,A.J.swalToast(r.data.message,"success")),this.isLoad=!1},r=>{console.log(r),this.isLoad=!1}))}convertDataSend(){const e=this.allWarehouse?["all"]:Array.from(this.warehousesSelectsMap.keys()),n={};return n.warehouses_ids=e,this.show_global_stock&&(n.show_global_stock=!0),n}changeAllWarehouse(e){this.allWarehouse=!!e.checked}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(w.X))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-download-stock"]],decls:40,vars:21,consts:[[1,"my-3","font-5xl"],[1,"card-body","pb-0"],[4,"ngIf"],[1,"row","m-0","card-body","pt-0"],[1,"col-12","my-2"],["type","text","placeholder","Buscador de bodegas",1,"form-control","input-facebook","rounded-fz","mb-2",3,"ngModel","keyup","ngModelChange"],[1,"col-12","col-md-6","border-right","mb-lg-3"],[1,"shadow-lg","mr-2","rounded-fz","card-body"],[1,"font-2xl","mb-2"],[1,"badge","bg-success"],[1,"warehouse",3,"ngStyle","multiple"],["class","border-bottom",3,"click",4,"ngFor","ngForOf"],[1,"col-md-6","col-12"],[1,"shadow-lg","ml-2","rounded-fz","card-body",2,"position","sticky","top","20px"],[1,"font-2xl"],[1,"bg-warning","mt-3","text-white",3,"color"],[1,"badge","badge-info"],[3,"ngStyle","multiple"],[1,"my2"],[3,"change"],[3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent",1,"my-3",3,"disabled","click"],[1,"d-flex","align-items-center","mb-2"],[1,"lead"],[3,"ngClass"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-warning"],[1,"border-bottom",3,"click"],[1,"warehouse-item"],[1,"fas","fa-share-square","text-primary"],[1,"fas","fa-share-square","text-danger","rotate-180"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Descarga de reporte"),t.qZA(),t.TgZ(2,"mat-card")(3,"div",1),t.YNc(4,F,10,9,"ng-container",2),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"input",5),t.NdJ("keyup",function(){return n.filterWarehouse()})("ngModelChange",function(l){return n.search=l}),t.qZA()(),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8),t._uU(11,"Bodegas "),t.TgZ(12,"span",9),t._uU(13),t.qZA()(),t.TgZ(14,"mat-selection-list",10),t.YNc(15,H,8,2,"mat-list-option",11),t.ALo(16,"keyvalue"),t.qZA()()(),t.TgZ(17,"div",12)(18,"div",13)(19,"div",14),t._uU(20,"Bodegas seleccionadas"),t.qZA(),t.TgZ(21,"mat-chip-list")(22,"mat-chip",15),t._uU(23,"Total de bodegas seleccionadas:\xa0 "),t.TgZ(24,"span",16),t._uU(25),t.qZA()()(),t.TgZ(26,"mat-selection-list",17),t.YNc(27,G,8,2,"mat-list-option",11),t.ALo(28,"keyvalue"),t.qZA(),t.TgZ(29,"div",18)(30,"mat-slide-toggle",19),t.NdJ("change",function(l){return n.changeAllWarehouse(l)}),t._uU(31,"Traer todas las Bodegas"),t.qZA(),t._UZ(32,"br"),t.TgZ(33,"mat-slide-toggle",20),t.NdJ("ngModelChange",function(l){return n.show_global_stock=l}),t._uU(34,"Mostrar conteo global"),t.qZA(),t._UZ(35,"br"),t.TgZ(36,"button",21),t.NdJ("click",function(){return n.saveInServer()}),t._uU(37,"Descargar reporte "),t.TgZ(38,"mat-icon"),t._uU(39,"save_alt"),t.qZA()()()()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.mbaStatus),t.xp6(3),t.Q6J("ngModel",n.search),t.xp6(6),t.Oqu(n.warehousesMap.size),t.xp6(1),t.Q6J("ngStyle",t.VKq(17,M,n.allWarehouse?"blur(3px)":"none"))("multiple",!1),t.xp6(1),t.Q6J("ngForOf",t.lcZ(16,13,n.warehousesMap)),t.xp6(7),t.Q6J("color","warn"),t.xp6(3),t.Oqu(n.allWarehouse?"Todas":n.warehousesSelectsMap.size),t.xp6(1),t.Q6J("ngStyle",t.VKq(19,M,n.allWarehouse?"blur(3px)":"none"))("multiple",!1),t.xp6(1),t.Q6J("ngForOf",t.lcZ(28,15,n.warehousesSelectsMap)),t.xp6(6),t.Q6J("ngModel",n.show_global_stock),t.xp6(3),t.Q6J("disabled",n.warehousesSelectsMap.size<1&&!n.allWarehouse||n.isLoad))},dependencies:[c.mk,c.sg,c.O5,c.PC,s.Fj,s.JJ,Z.a8,m.lW,f.Hw,g.qn,g.HS,s.On,x.Ub,x.vS,y.Rr,c.Nd,C.eG,C.Ue],styles:[".input-facebook[_ngcontent-%COMP%]{background:white;font-size:20px;border:3px solid #7b9d9d}.down[_ngcontent-%COMP%]{background-color:red!important;color:#fff!important}.up[_ngcontent-%COMP%]{background-color:green!important;color:#fff!important}.warehouse[_ngcontent-%COMP%]{height:500px;overflow:auto}.warehouse-item[_ngcontent-%COMP%]{display:flex!important;justify-content:space-between!important;flex-direction:row}.rotate-180[_ngcontent-%COMP%]{transform:rotateY(180deg)}"]}),o})();var d=i(32075),D=i(40479),k=i(95625),S=i(57261),P=i(28300),U=i(20773);function W(o,a){1&o&&(t.TgZ(0,"div",18)(1,"div",19),t._UZ(2,"mat-spinner",20),t.TgZ(3,"p",21),t._uU(4,"Cargando datos"),t.qZA()()()),2&o&&(t.xp6(2),t.Q6J("diameter",25))}function j(o,a){1&o&&(t.TgZ(0,"th",22),t._uU(1,"#"),t.qZA())}function z(o,a){if(1&o&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.id)}}function $(o,a){1&o&&(t.TgZ(0,"th",22),t._uU(1,"Nombre"),t.qZA())}function X(o,a){if(1&o&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function K(o,a){1&o&&(t.TgZ(0,"th",22),t._uU(1,"Titulo"),t.qZA())}function V(o,a){if(1&o&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.title," ")}}function tt(o,a){1&o&&(t.TgZ(0,"th",22),t._uU(1,"Creado"),t.qZA())}function et(o,a){if(1&o&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.created_at,"medium")," ")}}function ot(o,a){1&o&&(t.TgZ(0,"th",22),t._uU(1,"Extension"),t.qZA())}function nt(o,a){if(1&o&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.ext," ")}}function at(o,a){1&o&&(t.TgZ(0,"th",22),t._uU(1,"Link"),t.qZA())}function rt(o,a){if(1&o&&(t.TgZ(0,"td",23)(1,"a",24),t._uU(2,"descarga"),t.qZA()()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("href",null==e?null:e.permalink,t.LSH)}}function st(o,a){1&o&&(t.TgZ(0,"th",22),t._uU(1,"Acciones"),t.qZA())}function it(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw();return t.KtG(l.deleteReport(r.id))}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}}function lt(o,a){if(1&o&&(t.TgZ(0,"td",23)(1,"div"),t.YNc(2,it,3,0,"button",25),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngxPermissionsOnly",e.permissions.destroy)}}function dt(o,a){1&o&&t._UZ(0,"tr",27)}function ct(o,a){1&o&&t._UZ(0,"tr",28)}const pt=function(){return["./create"]};let mt=(()=>{class o{constructor(e,n){this.methodsHttp=e,this.snackBar=n,this.url="system-orders/reports",this.permissions=D.Xx,this.dataSource=[],this.isLoading=!1,this.columnsToDisplay=["id","name","title","created_at","ext","permalink","actions"]}ngOnInit(){}getData(e){console.log(e),this.dataSource=e}hasLoading(e){console.log(e),this.isLoading=e}deleteReport(e){A.J.swalFire({text:"\xbfEst\xe1 seguro de eliminar el reporte?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"No, cancelar",showConfirmButton:!0}).then(n=>{n.isConfirmed&&this.methodsHttp.methodDelete(`${this.url}/${e}`).subscribe({next:()=>{this.snackBar.open("Reporte eliminado","Cerrar",{duration:5e3}),this.dataSource.splice(this.dataSource.findIndex(r=>r.id===e),1),this.table.renderRows()}})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(k.s),t.Y36(S.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-index-reports"]],viewQuery:function(e,n){if(1&e&&t.Gf(d.BZ,5),2&e){let r;t.iGM(r=t.CRH())&&(n.table=r.first)}},decls:34,vars:10,consts:[["placeholder","Buscador de reportes",3,"customLoader","customTemplate","url$","title","data","_isLoading"],["menuBar",""],[1,"ml-1","bg-stack-overflow","text-white",3,"routerLink"],["customTemplate","",1,"position-relative"],["class","is-loading center w-100 h-100",4,"ngIf"],[1,"position-relative","table-container","shadow"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",2,"width","max-content !important",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","title"],["matColumnDef","created_at"],["matColumnDef","ext"],["matColumnDef","permalink"],["matColumnDef","actions","stickyEnd",""],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"is-loading","center","w-100","h-100"],[1,"center"],[3,"diameter"],[1,"m-0","ml-2"],["mat-header-cell",""],["mat-cell",""],["download","",3,"href"],["mat-icon-button","","color","warn",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"app-search-template",0),t.NdJ("data",function(l){return n.getData(l)})("_isLoading",function(l){return n.hasLoading(l)}),t.ynx(2,1),t.TgZ(3,"mat-chip",2)(4,"mat-icon"),t._uU(5,"add"),t.qZA(),t._uU(6,"Reporte"),t.qZA(),t.BQk(),t.TgZ(7,"div",3),t.YNc(8,W,5,1,"div",4),t.TgZ(9,"div",5)(10,"table",6),t.ynx(11,7),t.YNc(12,j,2,0,"th",8),t.YNc(13,z,2,1,"td",9),t.BQk(),t.ynx(14,10),t.YNc(15,$,2,0,"th",8),t.YNc(16,X,2,1,"td",9),t.BQk(),t.ynx(17,11),t.YNc(18,K,2,0,"th",8),t.YNc(19,V,2,1,"td",9),t.BQk(),t.ynx(20,12),t.YNc(21,tt,2,0,"th",8),t.YNc(22,et,3,4,"td",9),t.BQk(),t.ynx(23,13),t.YNc(24,ot,2,0,"th",8),t.YNc(25,nt,2,1,"td",9),t.BQk(),t.ynx(26,14),t.YNc(27,at,2,0,"th",8),t.YNc(28,rt,3,1,"td",9),t.BQk(),t.ynx(29,15),t.YNc(30,st,2,0,"th",8),t.YNc(31,lt,3,1,"td",9),t.BQk(),t.YNc(32,dt,1,0,"tr",16),t.YNc(33,ct,1,0,"tr",17),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("customLoader",!0)("customTemplate",!0)("url$",n.url)("title","Reportes"),t.xp6(2),t.Q6J("routerLink",t.DdM(9,pt)),t.xp6(5),t.Q6J("ngIf",n.isLoading),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",n.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",n.columnsToDisplay))},dependencies:[c.O5,p.rH,m.lW,f.Hw,g.HS,P._,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,u.gE,U.Ou,c.uU],styles:[".table-container[_ngcontent-%COMP%]{overflow:auto}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:10px!important;padding-right:10px!important;max-width:200px}table[_ngcontent-%COMP%]{width:100%;min-width:100%;border-collapse:inherit!important}.is-loading[_ngcontent-%COMP%]{position:absolute;background:rgba(255,255,255,.4431372549);z-index:2;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}"]}),o})();var I=i(40317),O=i(15439),ut=i(67376),R=i(43649),N=i(74107),ft=i(90508);const ht=["filterOrderMin"],gt=["filterOrderMax"];function _t(o,a){if(1&o&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Zt(o,a){if(1&o&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}const q=D.Xx,Ct=[{path:"",component:mt,data:{permissions:{only:q.index}}},{path:"create",component:(()=>{class o extends ut.Q{constructor(e,n,r,l){super(),this.act_router=e,this.methodsHttp=n,this.router=r,this.location=l,this.title="Reportes - ",this.urlSave="system-orders/reports",this.form=new s.cw({name:new s.NI(null,s.kI.required),format:new s.NI(null,s.kI.required),start_date:new s.NI(null,s.kI.required),end_date:new s.NI(null,s.kI.required)}),this.dpMin=null,this.dpMax=null,this.formats=[],this.reports=[]}ngOnInit(){this.init(!0)}ngAfterViewInit(){this.dpMin=new I.Z(this.dpMinDateElement.nativeElement,{classes:"z-indez-1020",position:"bottom right",locale:R.Z,timepicker:!0,dateFormat:"yyyy/MM/dd",timeFormat:"HH:mm",autoClose:!0,onSelect:({date:e})=>{var n;this.dpMax.update({minDate:e}),null===(n=this.form.get("start_date"))||void 0===n||n.setValue(O(e,"YYYY/MM/DD HH:mm").format("YYYY-MM-DD HH:mm"))}}),this.dpMax=new I.Z(this.dpMaxDateElement.nativeElement,{classes:"z-indez-1020",locale:R.Z,position:"bottom right",timepicker:!0,autoClose:!0,dateFormat:"yyyy/MM/dd",timeFormat:"HH:mm",onSelect:({date:e})=>{var n;this.dpMin&&this.dpMin.update({maxDate:e});const r=O(e,"YYYY/MM/DD HH:mm").format("YYYY-MM-DD HH:mm");null===(n=this.form.get("end_date"))||void 0===n||n.setValue(r)}})}setData(e){this.formats=e.formats,this.reports=e.reports}onSubmit(){this.form.valid?this.saveInServer():this.form.markAllAsTouched(),console.log(this.form)}go(e=null){this.goBack()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.gz),t.Y36(k.s),t.Y36(p.F0),t.Y36(c.Ye))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-or-edit-report"]],viewQuery:function(e,n){if(1&e&&(t.Gf(ht,5),t.Gf(gt,5)),2&e){let r;t.iGM(r=t.CRH())&&(n.dpMinDateElement=r.first),t.iGM(r=t.CRH())&&(n.dpMaxDateElement=r.first)}},features:[t.qOj],decls:31,vars:5,consts:[[1,"my-3","d-flex","align-items-center"],["mat-mini-fab","",3,"click"],[1,"font-4xl","m-0"],[1,"row"],[1,"col-md-6"],[3,"formGroup","ngSubmit"],[1,"w-100"],["formControlName","name","placeholder","Tipo"],[3,"value",4,"ngFor","ngForOf"],["formControlName","format","placeholder","Formato"],["readonly","","formControlName","start_date","matInput","","placeholder","Fecha inicial",2,"font-size","11px"],["filterOrderMin",""],["readonly","","formControlName","end_date","matInput","","placeholder","Fecha final",2,"font-size","11px"],["filterOrderMax",""],["mat-raised-button","","color","primary",3,"disabled"],["src","assets/vectores/report-orders.svg","alt",""],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.goBack()}),t.TgZ(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA()(),t.TgZ(4,"h2",2),t._uU(5),t.qZA()(),t.TgZ(6,"div")(7,"div")(8,"div",3)(9,"div",4)(10,"mat-card")(11,"form",5),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(12,"mat-form-field",6)(13,"mat-select",7),t.YNc(14,_t,2,2,"mat-option",8),t.qZA()(),t.TgZ(15,"mat-form-field",6)(16,"mat-select",9),t.YNc(17,Zt,2,2,"mat-option",8),t.qZA()(),t.TgZ(18,"mat-form-field",6),t._UZ(19,"input",10,11),t.qZA(),t.TgZ(21,"mat-form-field",6),t._UZ(22,"input",12,13),t.qZA(),t.TgZ(24,"div",6)(25,"button",14)(26,"mat-icon"),t._uU(27,"save"),t.qZA(),t._uU(28," Guardar"),t.qZA()()()()(),t.TgZ(29,"div",4),t._UZ(30,"img",15),t.qZA()()()()),2&e&&(t.xp6(5),t.Oqu(n.title),t.xp6(6),t.Q6J("formGroup",n.form),t.xp6(3),t.Q6J("ngForOf",n.reports),t.xp6(3),t.Q6J("ngForOf",n.formats),t.xp6(8),t.Q6J("disabled",n.isLoading))},dependencies:[c.sg,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,Z.a8,h.KE,_.Nt,m.lW,f.Hw,N.gD,ft.ey]}),o})(),data:{isEdit:!1,permissions:{only:q.create}}},{path:"group-products",component:Y,data:{permissions:{only:["super-admin","purchase-department.imports.index"]}},canActivate:[u.DD]},{path:"group-products/create",component:b,data:{isEdit:!1,permissions:{only:["super-admin","purchase-department.imports.create"]}},canActivate:[u.DD]},{path:"group-products/edit",component:b,data:{isEdit:!0,permissions:{only:["super-admin","purchase-department.imports.edit"]}},canActivate:[u.DD]},{path:"general-stock",component:B,data:{isEdit:!0,permissions:{only:["super-admin","reports.general-stock.export"]}},canActivate:[u.DD]}];let vt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(Ct),p.Bz]}),o})();var Tt=i(71158),wt=i(75401);let bt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,vt,s.UX,Z.QW,h.lN,_.c,m.ot,f.Ps,Tt.c,g.Hi,s.u5,x.ie,C._G,y.rP,wt.r,d.p0,u.VI,s.UX,N.LD,U.Cq,S.ZX]}),o})()}}]);