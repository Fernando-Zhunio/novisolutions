"use strict";(self.webpackChunkng=self.webpackChunkng||[]).push([[4571],{82085:(F,P,r)=>{r.d(P,{v:()=>t});var a=r(69808),_=r(86087),h=r(93075),I=r(85899),C=r(5e3);let t=(()=>{class f{}return f.\u0275fac=function(Z){return new(Z||f)},f.\u0275mod=C.oAB({type:f}),f.\u0275inj=C.cJS({imports:[a.ez,h.u5,_.TU,I.Cv]}),f})()},29055:(F,P,r)=>{r.d(P,{g:()=>Q});var a=r(5e3),_=r(86087),h=r(95625),I=r(69808),C=r(93075),t=r(85899);function f(p,v){if(1&p&&(a.TgZ(0,"div")(1,"h2",10),a._uU(2),a.Hsn(3,2),a.qZA()()),2&p){const l=a.oxw();a.xp6(2),a.hij(" ",l.title," ")}}function O(p,v){1&p&&(a.ynx(0),a.Hsn(1,3),a.BQk())}function Z(p,v){if(1&p&&(a.TgZ(0,"div",11)(1,"div",12)(2,"p",13),a._uU(3),a.qZA(),a._UZ(4,"mat-progress-bar",14),a.qZA()()),2&p){const l=a.oxw();a.xp6(3),a.Oqu(l.commentLoading)}}function y(p,v){1&p&&(a.TgZ(0,"div")(1,"h2",11),a._uU(2,"No hay resultados"),a.qZA()())}function m(p,v){1&p&&(a.TgZ(0,"div",15),a._uU(1," Comienza a buscar "),a.qZA())}const T=function(){return[10,20,30]};function D(p,v){if(1&p){const l=a.EpF();a.TgZ(0,"mat-paginator",16),a.NdJ("page",function(x){a.CHM(l);const U=a.oxw();return a.KtG(U.changePaginator(x))}),a.qZA()}if(2&p){const l=a.oxw();a.Q6J("hidden",l.isLoading)("pageSizeOptions",a.DdM(5,T))("pageSize",l.paginator.pageSize)("length",l.paginator.length)("pageIndex",l.paginator.pageIndex)}}const w=[[["","inputBtn",""]],[["","comment",""]],[["","moreTitle",""]],[["","data",""]]],Y=["[inputBtn]","[comment]","[moreTitle]","[data]"];let Q=(()=>{class p{constructor(l){this.methodsHttp=l,this.classes="",this.title=null,this.placeholder="Buscador",this.init=!0,this.styles="",this.commentLoading="Cargando espere por favor...",this.data=new a.vpe,this.isLoading=!1,this.paginator=new _.kl,this.textSearch=""}ngOnInit(){this.paginator.length=0,this.paginator.pageIndex=0,this.paginator.pageSize=10,this.init?this.search():this.isLoading=void 0,console.log(this.isLoading)}search(l=null){this.isLoading=!0,this.methodsHttp.methodGetPaginate(this.url,{page:(l=l||this.paginator).pageIndex+1,pageSize:l.pageSize,search:this.textSearch}).subscribe(x=>{this.isLoading=!1,this.paginator.length=x.data.total,this.paginator.pageIndex=x.data.current_page-1,this.paginator.pageSize=x.data.per_page,this.data.emit(x.data)},x=>{this.isLoading=!1,console.log(x)})}searchText(){this.search({pageIndex:0,pageSize:this.paginator.pageSize,length:0})}changePaginator(l){this.paginator=l,this.search()}}return p.\u0275fac=function(l){return new(l||p)(a.Y36(h.s))},p.\u0275cmp=a.Xpm({type:p,selectors:[["app-search"]],inputs:{classes:"classes",title:"title",placeholder:"placeholder",url:"url",init:"init",styles:"styles",commentLoading:"commentLoading"},outputs:{data:"data"},ngContentSelectors:Y,decls:17,vars:10,consts:[[4,"ngIf"],[1,"mt-3","sticky-top"],[1,"content-input","p-1","position-relative","center"],["type","text",1,"input-default","shadow",3,"placeholder","ngModel","keydown.enter","ngModelChange"],[1,"btn-default",3,"click"],[1,"fa-solid","fa-magnifying-glass"],[1,"content-btns"],["class","text-center",4,"ngIf"],["class","font-weight-lighter lead m-3 text-center",4,"ngIf"],["showFirstLastButtons","",3,"hidden","pageSizeOptions","pageSize","length","pageIndex","page",4,"ngIf"],[1,"my-2","font-3xl"],[1,"text-center"],[1,"text-muted","justify-content-center","my-2"],[1,"font-2xl"],["color","accent","mode","buffer"],[1,"font-weight-lighter","lead","m-3","text-center"],["showFirstLastButtons","",3,"hidden","pageSizeOptions","pageSize","length","pageIndex","page"]],template:function(l,g){1&l&&(a.F$t(w),a.TgZ(0,"div"),a.YNc(1,f,4,1,"div",0),a.TgZ(2,"div",1)(3,"div",2)(4,"input",3),a.NdJ("keydown.enter",function(){return g.searchText()})("ngModelChange",function(U){return g.textSearch=U}),a.qZA(),a.TgZ(5,"button",4),a.NdJ("click",function(){return g.searchText()}),a._UZ(6,"i",5),a.qZA(),a.TgZ(7,"div",6),a.Hsn(8),a.qZA()(),a.TgZ(9,"div"),a.Hsn(10,1),a.qZA()(),a.TgZ(11,"div"),a.YNc(12,O,2,0,"ng-container",0),a.YNc(13,Z,5,1,"div",7),a.YNc(14,y,3,0,"div",0),a.YNc(15,m,2,0,"div",8),a.YNc(16,D,1,6,"mat-paginator",9),a.qZA()()),2&l&&(a.Akn(g.styles),a.xp6(1),a.Q6J("ngIf",g.title),a.xp6(3),a.Q6J("placeholder",g.placeholder)("ngModel",g.textSearch),a.xp6(8),a.Q6J("ngIf",!g.isLoading&&g.paginator.length>0),a.xp6(1),a.Q6J("ngIf",g.isLoading),a.xp6(1),a.Q6J("ngIf",g.paginator.length<=0&&!g.isLoading&&void 0!==g.isLoading),a.xp6(1),a.Q6J("ngIf",void 0===g.isLoading),a.xp6(1),a.Q6J("ngIf",g.paginator.length>0))},dependencies:[I.O5,C.Fj,C.JJ,C.On,_.NW,t.pW],styles:[".input-default[_ngcontent-%COMP%]{outline:none;width:100%;font-weight:700;font-size:1.3em;padding:10px 35px 10px 40px;border:none;border-radius:6px;font-weight:400;height:45px}.btn-default[_ngcontent-%COMP%]{border:none;width:35px;height:35px;border-radius:50%;background:transparent;font-size:18px;color:gray;position:absolute;left:9px}.content-btns[_ngcontent-%COMP%]{position:absolute;right:14px}.grid-default[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:20px;margin-top:20px}.loading-container[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;height:100%;margin:10px}.loading-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#dadada3d;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);height:100%;width:100%}"]}),p})()},83525:(F,P,r)=>{r.r(P),r.d(P,{CampaignModule:()=>_e});var a=r(69808),_=r(59516),h=r(4721),I=r(40479),C=r(64828),t=r(5e3),f=r(95625),O=r(57261),Z=r(25245),y=r(26688),m=r(32075),T=r(90508),D=r(16940),w=r(27544),Y=r(78536);const Q=function(){return["./create"]};function p(n,i){1&n&&(t.TgZ(0,"mat-chip-list")(1,"mat-chip",18)(2,"mat-icon"),t._uU(3,"add"),t.qZA(),t._uU(4," Campa\xf1a "),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,Q)))}function v(n,i){1&n&&(t.TgZ(0,"th",19),t._uU(1," ID "),t.qZA())}function l(n,i){if(1&n&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function g(n,i){1&n&&(t.TgZ(0,"th",19),t._uU(1," Titulo "),t.qZA())}function x(n,i){if(1&n&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.title," ")}}function U(n,i){1&n&&(t.TgZ(0,"th",19),t._uU(1," Descripci\xf3n "),t.qZA())}function X(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",20)(1,"div",21,22),t.NdJ("click",function(){t.CHM(e);const s=t.MAs(2);return t.KtG(s.classList.toggle("text-truncate"))}),t.TgZ(3,"span"),t._uU(4),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(4),t.Oqu(e.description)}}function V(n,i){1&n&&(t.TgZ(0,"th",19),t._uU(1," Tipo duraci\xf3n "),t.qZA())}function tt(n,i){if(1&n&&(t.TgZ(0,"td",20)(1,"span",23),t._UZ(2,"i",24),t._uU(3),t.ALo(4,"translatefz"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.Tol(e.duration_type),t.xp6(1),t.Q6J("hidden","undefined"===e.duration_type),t.xp6(1),t.hij(" ",t.lcZ(4,4,e.duration_type),"")}}function et(n,i){1&n&&(t.TgZ(0,"th",19),t._uU(1," Inicio "),t.qZA())}function nt(n,i){if(1&n&&(t.TgZ(0,"td",20),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.start_date,"medium")," ")}}function ot(n,i){1&n&&(t.TgZ(0,"th",19),t._uU(1," Fin "),t.qZA())}function it(n,i){if(1&n&&(t.TgZ(0,"td",20),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.end_date,"medium")," ")}}function at(n,i){1&n&&(t.TgZ(0,"th",19),t._uU(1," Estado "),t.qZA())}function rt(n,i){if(1&n&&(t.TgZ(0,"td",20)(1,"span",23),t._uU(2),t.ALo(3,"translatefz"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.Tol(e.status),t.xp6(1),t.Oqu(t.lcZ(3,3,e.status))}}function ct(n,i){1&n&&(t.TgZ(0,"th",19),t._uU(1," Creado "),t.qZA())}function st(n,i){if(1&n&&(t.TgZ(0,"td",20),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.created)," ")}}function lt(n,i){1&n&&(t.TgZ(0,"th",19),t._uU(1," Acciones "),t.qZA())}const mt=function(n){return["./",n,"edit"]};function dt(n,i){if(1&n&&(t.TgZ(0,"button",28),t._UZ(1,"i",29),t.qZA()),2&n){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,mt,e.id))}}function pt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,d=t.oxw();return t.KtG(d.deleteData(s.id))}),t._UZ(1,"i",31),t.qZA()}}const ut=function(n){return["./",n,"promotions"]};function gt(n,i){if(1&n&&(t.TgZ(0,"button",32),t._UZ(1,"i",33),t.qZA()),2&n){const e=t.oxw().$implicit;t.Q6J("matBadge",e.promotions_count||0)("routerLink",t.VKq(2,ut,e.id))}}function _t(n,i){if(1&n&&(t.TgZ(0,"td",20),t.YNc(1,dt,2,3,"button",25),t.YNc(2,pt,2,0,"button",26),t.YNc(3,gt,2,4,"button",27),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngxPermissionsOnly",e.permissions.edit),t.xp6(1),t.Q6J("ngxPermissionsOnly",e.permissions.destroy),t.xp6(1),t.Q6J("ngxPermissionsOnly",e.permissions.index)}}function ft(n,i){1&n&&t._UZ(0,"tr",34)}function ht(n,i){1&n&&t._UZ(0,"tr",35)}let xt=(()=>{class n extends C.${constructor(e,o){super(),this.methodsHttp=e,this.snackBar=o,this.columnsToDisplay=["id","title","description","duration_type","start_date","end_date","status","created_at","actions"],this.url="catalogs/campaigns",this.permissions=I.A2,this.dataSource=[]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.s),t.Y36(O.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-campaign-index"]],features:[t.qOj],decls:35,vars:6,consts:[["placeholder","Buscador de campa\xf1as",3,"title","url$","data"],["menuBar",""],[4,"ngxPermissionsOnly"],["table",""],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","description"],["matColumnDef","duration_type"],["matColumnDef","start_date"],["matColumnDef","end_date"],["matColumnDef","status"],["matColumnDef","created_at"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["routerLinkActive","router-link-active",1,"mat-orange","ml-2",3,"routerLink"],["mat-header-cell",""],["mat-cell",""],[1,"text-truncate",3,"click"],["toggle",""],[1,"badge-fz"],[1,"fas","fa-calendar-alt",3,"hidden"],["class","btn-icon-edit","matRipple","",3,"routerLink",4,"ngxPermissionsOnly"],["matRipple","","class","btn-icon-delete",3,"click",4,"ngxPermissionsOnly"],["class","btn-icon-delete text-info","matBadgeOverlap","false","matRipple","","data-toggle","tooltip","data-placement","top","title","Promociones",3,"matBadge","routerLink",4,"ngxPermissionsOnly"],["matRipple","",1,"btn-icon-edit",3,"routerLink"],[1,"far","fa-edit"],["matRipple","",1,"btn-icon-delete",3,"click"],[1,"far","fa-trash-alt"],["matBadgeOverlap","false","matRipple","","data-toggle","tooltip","data-placement","top","title","Promociones",1,"btn-icon-delete","text-info",3,"matBadge","routerLink"],[1,"fa-tags","fas"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"app-search-template-table",0),t.NdJ("data",function(d){return o.getData(d)}),t.ynx(1,1),t.YNc(2,p,5,2,"mat-chip-list",2),t.BQk(),t.ynx(3,3),t.TgZ(4,"table",4,3),t.ynx(6,5),t.YNc(7,v,2,0,"th",6),t.YNc(8,l,2,1,"td",7),t.BQk(),t.ynx(9,8),t.YNc(10,g,2,0,"th",6),t.YNc(11,x,2,1,"td",7),t.BQk(),t.ynx(12,9),t.YNc(13,U,2,0,"th",6),t.YNc(14,X,5,1,"td",7),t.BQk(),t.ynx(15,10),t.YNc(16,V,2,0,"th",6),t.YNc(17,tt,5,6,"td",7),t.BQk(),t.ynx(18,11),t.YNc(19,et,2,0,"th",6),t.YNc(20,nt,3,4,"td",7),t.BQk(),t.ynx(21,12),t.YNc(22,ot,2,0,"th",6),t.YNc(23,it,3,4,"td",7),t.BQk(),t.ynx(24,13),t.YNc(25,at,2,0,"th",6),t.YNc(26,rt,4,5,"td",7),t.BQk(),t.ynx(27,14),t.YNc(28,ct,2,0,"th",6),t.YNc(29,st,3,3,"td",7),t.BQk(),t.ynx(30,15),t.YNc(31,lt,2,0,"th",6),t.YNc(32,_t,4,3,"td",7),t.BQk(),t.YNc(33,ft,1,0,"tr",16),t.YNc(34,ht,1,0,"tr",17),t.qZA(),t.BQk(),t.qZA()),2&e&&(t.Q6J("title","Campa\xf1as")("url$","catalogs/campaigns"),t.xp6(2),t.Q6J("ngxPermissionsOnly",o.permissions.create),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(29),t.Q6J("matHeaderRowDef",o.columnsToDisplay),t.xp6(1),t.Q6J("matRowDefColumns",o.columnsToDisplay))},dependencies:[_.rH,_.Od,Z.Hw,y.qn,y.HS,h.gE,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,T.wG,D.p,w.k,a.uU,Y.P],styles:[".list[_ngcontent-%COMP%]{list-style:disc;padding-left:25px;color:gray}.active[_ngcontent-%COMP%]{color:green;background-color:#7fad7f33}.inactive[_ngcontent-%COMP%]{color:red;background-color:#f003}.date_range[_ngcontent-%COMP%]{color:#2c8bca;background-color:#2c8bca33}.undefined[_ngcontent-%COMP%]{color:#686868;background-color:#68686833}"]}),n})();var c=r(93075),H=r(40317),B=r(67376),R=r(43649),q=r(15439),E=r(9224),M=r(47423),k=r(67322),S=r(77531),J=r(74107);const vt=["dateMin"],Ct=["dateMax"];let z=(()=>{class n extends B.Q{constructor(e,o,s,d){super(),this.act_router=e,this.methodsHttp=o,this.router=s,this.location=d,this.title="Campa\xf1a ",this.urlSave="catalogs/campaigns",this.airDate1=null,this.airDate2=null,this.form=new c.cw({title:new c.NI("",[c.kI.required]),description:new c.NI(""),duration_type:new c.NI("",[c.kI.required]),status:new c.NI("",[c.kI.required]),start_date:new c.NI({value:"",disabled:!0},[this.validatorRequiredIf(()=>{var u;return"date_range"==(null===(u=this.form.get("duration_type"))||void 0===u?void 0:u.value)},c.kI.required)]),end_date:new c.NI({value:"",disabled:!0},[this.validatorRequiredIf(()=>{var u;return"date_range"==(null===(u=this.form.get("duration_type"))||void 0===u?void 0:u.value)},c.kI.required)])})}ngOnInit(){this.init(!1)}ngAfterViewInit(){this.dpMin=new H.Z(this.dpMinDateElement.nativeElement,{classes:"z-indez-1020",position:"top right",locale:R.Z,timepicker:!0,dateFormat:"yyyy-MM-dd",timeFormat:"HH:mm:00",autoClose:!0,onSelect:({date:e})=>{var o;this.dpMax.update({minDate:e}),null===(o=this.form.get("start_date"))||void 0===o||o.setValue(q(e,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss"))}}),this.dpMax=new H.Z(this.dpMaxDateElement.nativeElement,{classes:"z-indez-1020",locale:R.Z,position:"top right",timepicker:!0,autoClose:!0,dateFormat:"yyyy-MM-dd",timeFormat:"HH:mm:00",onSelect:({date:e})=>{var o;this.dpMin.update({maxDate:e}),null===(o=this.form.get("end_date"))||void 0===o||o.setValue(q(e,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss"))}})}validatorRequiredIf(e,o){return s=>s.parent&&e()?o(s):null}setData(e){this.form.patchValue({title:null==e?void 0:e.title,description:null==e?void 0:e.description,duration_type:null==e?void 0:e.duration_type,status:null==e?void 0:e.status,start_date:null!=e&&e.start_date?q(null==e?void 0:e.start_date,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss"):null,end_date:null!=e&&e.end_date?q(null==e?void 0:e.end_date,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD HH:mm:ss"):null}),this.selectionChange({value:null==e?void 0:e.duration_type})}getDataForSendServer(){return console.log(this.form.value),this.form.valid?this.form.value:(this.form.markAllAsTouched(),null)}go(){this.router.navigate(["/catalogo/campaigns"])}selectionChange(e){var o,s,d,u;"date_range"==e.value?(null===(o=this.form.get("start_date"))||void 0===o||o.enable(),null===(s=this.form.get("end_date"))||void 0===s||s.enable()):(null===(d=this.form.get("start_date"))||void 0===d||d.disable(),null===(u=this.form.get("end_date"))||void 0===u||u.disable())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.gz),t.Y36(f.s),t.Y36(_.F0),t.Y36(a.Ye))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-or-edit-campaign"]],viewQuery:function(e,o){if(1&e&&(t.Gf(vt,5),t.Gf(Ct,5)),2&e){let s;t.iGM(s=t.CRH())&&(o.dpMinDateElement=s.first),t.iGM(s=t.CRH())&&(o.dpMaxDateElement=s.first)}},features:[t.qOj],decls:51,vars:3,consts:[[2,"height","calc(100vh - 55px)"],[1,"my-3","position-absolute"],["mat-mini-fab","",3,"click"],[1,"row","h-100","center"],[1,"col-md-6","center"],[1,"col-9"],[1,"font-4xl","font-weight-bold","text-center"],[1,"w-100"],[3,"formGroup"],["matInput","","placeholder","Titulo","formControlName","title"],["matInput","","placeholder","Descripci\xf3n","formControlName","description"],["placeholder","Estado","formControlName","status"],["selectType",""],["select","","value","active"],["value","inactive"],["placeholder","Tipo de duraci\xf3n","formControlName","duration_type",3,"selectionChange"],["value","undefined"],["value","date_range"],["readonly","","matInput","","placeholder","Fecha Inicio","formControlName","start_date"],["dateMin",""],["readonly","","matInput","","placeholder","Fecha Fin","formControlName","end_date"],["dateMax",""],["color","primary","mat-raised-button","",3,"disabled","click"],[1,"col-md-6"],["src","assets/vectores/campaign.svg","alt","campaign"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return o.goBack()}),t.TgZ(3,"mat-icon"),t._uU(4,"arrow_back"),t.qZA()()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"h1",6),t._uU(9),t.qZA(),t.TgZ(10,"mat-card",7)(11,"div")(12,"form",8)(13,"div")(14,"mat-form-field",7),t._UZ(15,"input",9),t.qZA()(),t.TgZ(16,"div")(17,"mat-form-field",7),t._UZ(18,"textarea",10),t.qZA()(),t.TgZ(19,"div")(20,"mat-form-field",7)(21,"mat-select",11,12)(23,"mat-option",13),t._uU(24,"Activo"),t.qZA(),t.TgZ(25,"mat-option",14),t._uU(26,"Inactivo"),t.qZA()()()(),t.TgZ(27,"div")(28,"mat-form-field",7)(29,"mat-select",15,12),t.NdJ("selectionChange",function(d){return o.selectionChange(d)}),t.TgZ(31,"mat-option",16),t._uU(32,"Indefinido"),t.qZA(),t.TgZ(33,"mat-option",17),t._uU(34,"Rango de Fechas"),t.qZA()()()(),t.TgZ(35,"div")(36,"div")(37,"mat-form-field",7),t._UZ(38,"input",18,19),t.qZA()(),t.TgZ(40,"div")(41,"mat-form-field",7),t._UZ(42,"input",20,21),t.qZA()()(),t.TgZ(44,"div")(45,"button",22),t.NdJ("click",function(){return o.saveInServer()}),t.TgZ(46,"mat-icon"),t._uU(47,"save"),t.qZA(),t._uU(48," Guardar"),t.qZA()()()()()()(),t.TgZ(49,"div",23),t._UZ(50,"img",24),t.qZA()()()),2&e&&(t.xp6(9),t.Oqu(o.title),t.xp6(3),t.Q6J("formGroup",o.form),t.xp6(33),t.Q6J("disabled",o.isLoading))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,E.a8,Z.Hw,M.lW,k.KE,S.Nt,J.gD,T.ey]}),n})();var $=r(29724),Zt=r(83200);const Tt=["inputQuantity"];function It(n,i){1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Sin productos seleccionados"),t.qZA()())}function yt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",31)(1,"div",32),t._UZ(2,"img",33),t.TgZ(3,"div")(4,"h3",34)(5,"span",35),t._uU(6),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"mat-form-field"),t._UZ(9,"input",36),t.qZA(),t.TgZ(10,"mat-form-field"),t._UZ(11,"input",37),t.qZA()()(),t.TgZ(12,"button",38),t.NdJ("click",function(){const d=t.CHM(e).index,u=t.oxw(2);return t.KtG(u.deleteProduct(d))}),t._UZ(13,"i",39),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("formGroup",e),t.xp6(1),t.Q6J("src",e.get("img").value||"assets/img/img_not_available.png",t.LSH),t.xp6(4),t.hij("#",e.get("code").value,""),t.xp6(1),t.hij(" ",e.get("name").value," ")}}function At(n,i){if(1&n&&(t.TgZ(0,"div")(1,"h3",25),t._uU(2,"Productos seleccionados"),t.qZA(),t.TgZ(3,"div")(4,"div",26),t.YNc(5,yt,14,4,"div",27),t.qZA(),t.TgZ(6,"div",28)(7,"h3",29),t._uU(8," Total: "),t.TgZ(9,"span",30),t._uU(10),t.ALo(11,"currency"),t.qZA()()()()()),2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.formArrayProductSelected.controls),t.xp6(5),t.Oqu(t.lcZ(11,2,e.getTotalPrice()))}}function Pt(n,i){if(1&n&&(t.TgZ(0,"div",40),t._uU(1," Campa\xf1a : "),t.TgZ(2,"span",41),t._uU(3),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.AsE("#",e.campaign.id," ",e.campaign.title,"")}}let G=(()=>{class n extends B.Q{constructor(e,o,s,d,u){super(),this.act_router=e,this.methodsHttp=o,this.router=s,this.location=d,this.dialogProductSearch=u,this.title="Promoci\xf3n ",this.urlSave="catalogs/campaigns",this.airDate1=null,this.airDate2=null,this.form=new c.cw({title:new c.NI("",[c.kI.required]),description:new c.NI(""),status:new c.NI("",[c.kI.required]),price:new c.NI(1,[c.kI.required])}),this.formArrayProductSelected=new c.Oe([])}ngOnInit(){this.init(!1),this.methodsHttp.methodGet("catalogs/campaigns/"+this.act_router.snapshot.params.campaign_id).subscribe(o=>{null!=o&&o.success&&(this.campaign=o.data)})}generateUrl(){return"catalogs/campaigns/"+this.act_router.snapshot.params.campaign_id+"/promotions"}go(){this.location.back()}addProduct({id:e,name:o,img:s,code:d},u=null,N=null){this.validateNotRepeatProduct(e)&&this.formArrayProductSelected.push(new c.cw({id:new c.NI(e,[c.kI.required]),price:new c.NI(null!=u?u:1,[c.kI.required,c.kI.min(0)]),quantity:new c.NI(null!=N?N:1,[c.kI.required,c.kI.min(1)]),name:new c.NI(o),img:new c.NI(s),code:new c.NI(d)}))}deleteProduct(e){this.formArrayProductSelected.removeAt(e)}getDataForSendServer(){if(console.log(this.formArrayProductSelected.controls.values()),this.form.valid&&this.formArrayProductSelected.controls.length>0)return Object.assign(Object.assign({},this.form.value),{products:Array.from(this.formArrayProductSelected.controls.values()).map(e=>({id:e.value.id,quantity:e.value.quantity,price:e.value.price}))});$.J.swalToast(this.form.invalid?"Formulario invalido":"No hay productos seleccionados","error")}setData(e){this.form.patchValue({title:e.title,description:e.note,status:e.status,price:e.price_formated}),e.products.forEach(o=>{this.addProduct({id:o.id,name:o.name,img:o.image,code:o.code},o.pivot.price,o.pivot.quantity)})}openDialogProductSearch(){this.dialogProductSearch.open("catalogs/campaigns/promotions/search-products",{data:{isMultiple:!0}}).subscribe(o=>{null!=o&&o.data&&(console.log(o),this.addProduct(o.data))})}validateNotRepeatProduct(e){return-1===this.formArrayProductSelected.controls.findIndex(o=>o.value.id===e)}getTotalPrice(){return Array.from(this.formArrayProductSelected.controls.values()).reduce((e,o)=>e+o.value.price,0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.gz),t.Y36(f.s),t.Y36(_.F0),t.Y36(a.Ye),t.Y36(Zt.S))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-or-edit-promotion"]],viewQuery:function(e,o){if(1&e&&t.Gf(Tt,5),2&e){let s;t.iGM(s=t.CRH())&&(o.inputQuantity=s.first)}},features:[t.qOj],decls:44,vars:6,consts:[[2,"height","calc(100vh - 55px)"],[1,"my-3","position-absolute"],["mat-mini-fab","",3,"click"],[1,"row","h-100","center"],[1,"col-md-6","center"],[1,"col-9"],[1,"font-4xl","font-weight-bold","text-center"],[1,"w-100"],[3,"formGroup"],["matInput","","placeholder","Titulo","formControlName","title"],["type","number","matInput","","placeholder","Precio","formControlName","price"],["matPrefix",""],["matInput","","placeholder","Descripci\xf3n","formControlName","description"],["placeholder","Estado","formControlName","status"],["selectType",""],["select","","value","active"],["value","inactive"],["color","primary","mat-button","",3,"disabled","click"],[1,"fa-regular","fa-floppy-disk"],[1,"col-md-6"],[4,"ngIf","ngIfElse"],["TemplateProducts",""],["mat-raised-button","","color","primary",3,"click"],[1,"fa-solid","fa-magnifying-glass"],["class","campaign",4,"ngIf"],[1,"font-3xl","font-weight-bold"],[1,"px-2",2,"max-height","60vh","overflow","auto"],["class","my-3 item-product",4,"ngFor","ngForOf"],[1,"mb-2","px-3","py-2"],[1,"my-1"],[1,"text-primary"],[1,"my-3","item-product"],[1,"d-flex","align-items-center",3,"formGroup"],["alt","product image",1,"img-product","mr-2",3,"src"],[1,"m-0"],[1,"text-danger"],["matInput","","min","1","type","number","placeholder","Cantidad","formControlName","quantity"],["matInput","","min","0.1","type","number","placeholder","Precio","formControlName","price"],["color","warn","mat-icon-button","",3,"click"],[1,"fa-solid","fa-trash"],[1,"campaign"],[1,"text-success"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return o.goBack()}),t.TgZ(3,"mat-icon"),t._uU(4,"arrow_back"),t.qZA()()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"h1",6),t._uU(9),t.qZA(),t.TgZ(10,"mat-card",7)(11,"div")(12,"form",8)(13,"div")(14,"mat-form-field",7),t._UZ(15,"input",9),t.qZA()(),t.TgZ(16,"div")(17,"mat-form-field",7),t._UZ(18,"input",10),t.TgZ(19,"span",11),t._uU(20,"$"),t.qZA()()(),t.TgZ(21,"div")(22,"mat-form-field",7),t._UZ(23,"textarea",12),t.qZA()(),t.TgZ(24,"div")(25,"mat-form-field",7)(26,"mat-select",13,14)(28,"mat-option",15),t._uU(29,"Activo"),t.qZA(),t.TgZ(30,"mat-option",16),t._uU(31,"Inactivo"),t.qZA()()()(),t.TgZ(32,"div")(33,"button",17),t.NdJ("click",function(){return o.saveInServer()}),t._uU(34," Guardar "),t._UZ(35,"i",18),t.qZA()()()()()()(),t.TgZ(36,"div",19),t.YNc(37,It,3,0,"div",20),t.YNc(38,At,12,4,"ng-template",null,21,t.W1O),t.TgZ(40,"button",22),t.NdJ("click",function(){return o.openDialogProductSearch()}),t._uU(41," Buscar productos "),t._UZ(42,"i",23),t.qZA()()()(),t.YNc(43,Pt,4,2,"div",24)),2&e){const s=t.MAs(39);t.xp6(9),t.Oqu(o.title),t.xp6(3),t.Q6J("formGroup",o.form),t.xp6(21),t.Q6J("disabled",o.isLoading),t.xp6(4),t.Q6J("ngIf",o.formArrayProductSelected.controls.length<1)("ngIfElse",s),t.xp6(6),t.Q6J("ngIf",o.campaign)}},dependencies:[a.sg,a.O5,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.qQ,c.sg,c.u,E.a8,Z.Hw,M.lW,k.KE,k.qo,S.Nt,J.gD,T.ey,a.H9],styles:[".container-quantity[_ngcontent-%COMP%]{position:fixed;z-index:1021;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.1411764706);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.item-product[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;border-radius:10px;box-shadow:0 .5rem 1rem #00000026}.img-product[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:10px;object-fit:cover}.campaign[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;z-index:1000;padding:5px 10px;box-shadow:0 0 10px #0003;border-radius:10px;opacity:.8}"]}),n})();var Ot=r(92340),bt=r(11673),L=r(67399),Dt=r(41571),A=r(14623),j=r(85899);function Ut(n,i){1&n&&(t.TgZ(0,"mat-list-item"),t._UZ(1,"mat-progress-bar",3),t.qZA())}function Nt(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-list-item")(2,"h2",7),t._uU(3,"Descripci\xf3n"),t.qZA()(),t.TgZ(4,"mat-list-item",8)(5,"div",9),t._uU(6),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(6),t.Oqu(null==e.promotion?null:e.promotion.note)}}function wt(n,i){if(1&n&&(t.TgZ(0,"mat-list-item"),t._UZ(1,"img",10),t.TgZ(2,"div",11),t._uU(3),t.qZA(),t.TgZ(4,"div",11),t._uU(5," Cantidad: "),t.TgZ(6,"span",12),t._uU(7),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("src",e.image||"assets/img/img_default_null.jpg",t.LSH),t.xp6(2),t.Oqu(e.name),t.xp6(4),t.Oqu(e.pivot.quantity)}}function Yt(n,i){if(1&n&&(t.YNc(0,Nt,7,1,"ng-container",4),t.TgZ(1,"mat-list-item")(2,"h2",5),t._uU(3,"Productos"),t.qZA()(),t.YNc(4,wt,8,3,"mat-list-item",6)),2&n){const e=t.oxw();t.Q6J("ngIf",null==e.promotion?null:e.promotion.note),t.xp6(4),t.Q6J("ngForOf",e.promotion.products)}}let qt=(()=>{class n{constructor(e,o){this.methodsHttp=e,this.data=o,this.isLoading=!1}ngOnInit(){this.isLoading=!0,Dt.F.disabled_loader=!0,this.subscription=this.methodsHttp.methodGet(`catalogs/campaigns/${this.data.campaignId}/promotions/${this.data.promotionId}`).subscribe(e=>{this.promotion=e.data,console.log(this.promotion),this.isLoading=!1})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.s),t.Y36(L.OG))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-details-promotion"]],decls:4,vars:2,consts:[["dense",""],[4,"ngIf","ngIfElse"],["TemplateIsLoading",""],["mode","buffer"],[4,"ngIf"],[1,"font-weight-bold","m-0","mt-2"],[4,"ngFor","ngForOf"],[1,"font-weight-bold","m-0"],[1,"h-auto"],[2,"max-width","350px"],["matListAvatar","",3,"src"],["mat-line",""],[1,"text-primary"]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-list",0),t.YNc(1,Ut,2,0,"mat-list-item",1),t.YNc(2,Yt,5,2,"ng-template",null,2,t.W1O),t.qZA()),2&e){const s=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.isLoading)("ngIfElse",s)}},dependencies:[a.sg,a.O5,A.i$,A.Tg,A.eA,T.X2,j.pW]}),n})();var K=r(11926);const Mt=function(){return["./create"]};function kt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip-list")(1,"mat-chip",22)(2,"mat-icon"),t._uU(3,"add"),t.qZA(),t._uU(4," promoci\xf3n "),t.qZA(),t.TgZ(5,"mat-chip",23),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.isOpenFile=!s.isOpenFile)}),t._UZ(6,"i",24),t._uU(7," Importar por excel "),t.qZA()()}2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,Mt)))}function Qt(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1," Rango de Fechas: "),t.TgZ(2,"span",26),t._uU(3),t.ALo(4,"translatefz"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,1,e.campaign.duration_type))}}function Et(n,i){if(1&n&&(t.TgZ(0,"div"),t._uU(1," De : "),t.TgZ(2,"span",26),t._uU(3),t.ALo(4,"date"),t.qZA(),t._UZ(5,"br"),t._uU(6," Hasta : "),t.TgZ(7,"span",28),t._uU(8),t.ALo(9,"date"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,2,e.campaign.start_date,"medium")),t.xp6(5),t.Oqu(t.xi3(9,5,e.campaign.end_date,"medium"))}}function St(n,i){if(1&n&&(t.TgZ(0,"div",25)(1,"div")(2,"div"),t._uU(3," Campa\xf1a : "),t.TgZ(4,"span",26),t._uU(5),t.qZA()(),t.YNc(6,Qt,5,3,"div",27),t.qZA(),t.YNc(7,Et,10,8,"div",27),t.qZA()),2&n){const e=t.oxw();t.xp6(5),t.AsE("#",e.campaign.id," ",e.campaign.title,""),t.xp6(1),t.Q6J("ngIf","date_range"!==e.campaign.duration_type),t.xp6(1),t.Q6J("ngIf","date_range"===(null==e.campaign?null:e.campaign.duration_type))}}function Jt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",29)(1,"button",30),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.isOpenFile=!1)}),t.TgZ(2,"mat-icon"),t._uU(3,"close"),t.qZA()(),t.TgZ(4,"div",31),t._UZ(5,"file-pond",32,33),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("options",e.pondOptions)}}function Lt(n,i){1&n&&(t.TgZ(0,"th",34),t._uU(1,"ID"),t.qZA())}function Ft(n,i){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.id)}}function Ht(n,i){1&n&&(t.TgZ(0,"th",34),t._uU(1,"Titulo"),t.qZA())}function Bt(n,i){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.title)}}function Rt(n,i){1&n&&(t.TgZ(0,"th",34),t._uU(1,"Productos"),t.qZA())}function zt(n,i){if(1&n&&(t.TgZ(0,"mat-list-item"),t._UZ(1,"img",39),t.TgZ(2,"div",40)(3,"span",41),t._uU(4),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"div",40),t._uU(7," Cantidad: "),t.TgZ(8,"span",42),t._uU(9),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("src",e.image||"assets/img/img_default_null.jpg",t.LSH),t.xp6(3),t.Oqu(e.code),t.xp6(1),t.Oqu(e.name),t.xp6(4),t.Oqu(e.pivot.quantity)}}function $t(n,i){if(1&n&&(t.TgZ(0,"td",36)(1,"mat-list",37),t.YNc(2,zt,10,4,"mat-list-item",38),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngForOf",e.products)}}function Gt(n,i){1&n&&(t.TgZ(0,"th",34),t._uU(1,"Descripci\xf3n"),t.qZA())}function jt(n,i){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.note)}}function Kt(n,i){1&n&&(t.TgZ(0,"th",34),t._uU(1,"Estado"),t.qZA())}function Wt(n,i){if(1&n&&(t.TgZ(0,"td",35)(1,"span",43),t._uU(2),t.ALo(3,"translatefz"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.Tol(e.status),t.xp6(1),t.Oqu(t.lcZ(3,3,e.status))}}function Xt(n,i){1&n&&(t.TgZ(0,"th",34),t._uU(1,"Precio"),t.qZA())}function Vt(n,i){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.price_formated))}}function te(n,i){1&n&&(t.TgZ(0,"th",34),t._uU(1,"Creado"),t.qZA())}function ee(n,i){if(1&n&&(t.TgZ(0,"td",35),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.created_at,"medium"))}}function ne(n,i){1&n&&(t.TgZ(0,"th",34),t._uU(1,"Acciones"),t.qZA())}const oe=function(n){return["./",n,"edit"]};function ie(n,i){if(1&n&&(t.TgZ(0,"button",46),t._UZ(1,"i",47),t.qZA()),2&n){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,oe,e.id))}}function ae(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,d=t.oxw();return t.KtG(d.deleteData(s.id))}),t._UZ(1,"i",49),t.qZA()}}function re(n,i){if(1&n&&(t.TgZ(0,"td",35),t.YNc(1,ie,2,3,"button",44),t.YNc(2,ae,2,0,"button",45),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngxPermissionsOnly",e.permissions.edit),t.xp6(1),t.Q6J("ngxPermissionsOnly",e.permissions.destroy)}}function ce(n,i){1&n&&t._UZ(0,"tr",50)}function se(n,i){1&n&&t._UZ(0,"tr",51)}const b=I.A2,me=[{path:"",component:xt,data:{permissions:{only:b.index}},canActivate:[h.DD]},{path:"create",component:z,data:{permissions:{only:b.create},isEdit:!1},canActivate:[h.DD]},{path:":id/edit",component:z,data:{permissions:{only:b.edit},isEdit:!0},canActivate:[h.DD]},{path:":campaign_id/promotions",component:(()=>{class n extends C.${constructor(e,o,s,d,u){super(),this.methodsHttp=e,this.snackBar=o,this.act_router=s,this.router=d,this.btnSheet=u,this.isOpenFile=!1,this.columnsToDisplay=["id","title","products","description","status","price","created_at","actions"],this.permissions=I.A2,this.pondOptions=null,this.campaignId=this.act_router.snapshot.params.campaign_id,this.url="catalogs/campaigns/"+this.campaignId+"/promotions",this.pondOptions={allowMultiple:!0,labelIdle:"Arrastre o presione aqu\xed",name:"file",maxParallelUploads:5,server:{url:`${Ot.N.server}`,process:{url:`catalogs/campaigns/${this.campaignId}/promotions/import`,headers:{Authorization:`Bearer ${bt.W.getToken}`,Accept:"application/json"},onload:fe=>{const W=JSON.parse(fe);return console.log(W),$.J.swalFire({title:"Procesando excel en el servidor",text:"El excel se esta procesando en el servidor, en unos momento recibir\xe1 una notificaci\xf3n describiendo el estado del proceso",icon:"success"}),W.id}}}}}ngOnInit(){this.methodsHttp.methodGet("catalogs/campaigns/"+this.act_router.snapshot.params.campaign_id).subscribe(o=>{null!=o&&o.success&&(this.campaign=o.data)})}openDetails(e){this.btnSheet.open(qt,{data:{campaignId:this.campaignId,promotionId:e}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.s),t.Y36(O.ux),t.Y36(_.gz),t.Y36(_.F0),t.Y36(L.ch))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-promotion-index"]],viewQuery:function(e,o){if(1&e&&t.Gf(m.BZ,5),2&e){let s;t.iGM(s=t.CRH())&&(o.table=s.first)}},features:[t.qOj],decls:36,vars:9,consts:[["placeholder","Buscador de promociones",3,"title","url$","data"],["menuBar",""],[4,"ngxPermissionsOnly"],["subheader",""],["class","campaign mb-3",4,"ngIf"],["class","attach-file mb-4 position-relative",4,"ngIf"],["table",""],[1,"table-container-promotions"],["multiTemplateDataRows","","mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","products"],["mat-cell","","style","max-width: 300px;",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","status"],["matColumnDef","price"],["matColumnDef","created_at"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"mat-orange","ml-2",3,"routerLink"],["selected","","color","primary",1,"ml-2",3,"click"],[1,"fas","fa-file-excel","mr-1"],[1,"campaign","mb-3"],[1,"text-success"],[4,"ngIf"],[1,"text-danger"],[1,"attach-file","mb-4","position-relative"],["mat-icon-button","","color","warn",1,"btn-close",3,"click"],[1,"container"],["className","m-0 shadow",3,"options"],["myPond",""],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"max-width","300px"],["dense",""],[4,"ngFor","ngForOf"],["matListAvatar","","width","50",3,"src"],["mat-line",""],[1,"text-primary","mr-1"],[1,"text-primary"],[1,"badge-fz"],["mat-icon-button","","color","primary","mat-icon-button","",3,"routerLink",4,"ngxPermissionsOnly"],["mat-icon-button","","color","warn",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","color","primary","mat-icon-button","",3,"routerLink"],[1,"fa-regular","fa-pen-to-square"],["mat-icon-button","","color","warn",3,"click"],[1,"fa-solid","fa-trash"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"app-search-template-table",0),t.NdJ("data",function(d){return o.getData(d)}),t.ynx(1,1),t.YNc(2,kt,8,2,"mat-chip-list",2),t.BQk(),t.ynx(3,3),t.YNc(4,St,8,4,"div",4),t.YNc(5,Jt,7,1,"div",5),t.BQk(),t.ynx(6,6),t.TgZ(7,"div",7)(8,"table",8,6),t.ynx(10,9),t.YNc(11,Lt,2,0,"th",10),t.YNc(12,Ft,2,1,"td",11),t.BQk(),t.ynx(13,12),t.YNc(14,Ht,2,0,"th",10),t.YNc(15,Bt,2,1,"td",11),t.BQk(),t.ynx(16,13),t.YNc(17,Rt,2,0,"th",10),t.YNc(18,$t,3,1,"td",14),t.BQk(),t.ynx(19,15),t.YNc(20,Gt,2,0,"th",10),t.YNc(21,jt,2,1,"td",11),t.BQk(),t.ynx(22,16),t.YNc(23,Kt,2,0,"th",10),t.YNc(24,Wt,4,5,"td",11),t.BQk(),t.ynx(25,17),t.YNc(26,Xt,2,0,"th",10),t.YNc(27,Vt,3,3,"td",11),t.BQk(),t.ynx(28,18),t.YNc(29,te,2,0,"th",10),t.YNc(30,ee,3,4,"td",11),t.BQk(),t.ynx(31,19),t.YNc(32,ne,2,0,"th",10),t.YNc(33,re,3,2,"td",11),t.BQk(),t.YNc(34,ce,1,0,"tr",20),t.YNc(35,se,1,0,"tr",21),t.qZA()(),t.BQk(),t.qZA()),2&e&&(t.Q6J("title","Promociones")("url$",o.url),t.xp6(2),t.Q6J("ngxPermissionsOnly",o.permissions.create),t.xp6(2),t.Q6J("ngIf",o.campaign),t.xp6(1),t.Q6J("ngIf",o.isOpenFile),t.xp6(3),t.Q6J("dataSource",o.dataSource),t.xp6(26),t.Q6J("matHeaderRowDef",o.columnsToDisplay)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.columnsToDisplay))},dependencies:[a.sg,a.O5,_.rH,Z.Hw,M.lW,y.qn,y.HS,h.gE,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,A.i$,A.Tg,A.eA,T.X2,K.w5,D.p,a.H9,a.uU,Y.P],styles:[".list[_ngcontent-%COMP%]{list-style:disc;padding-left:25px;color:gray}.campaign[_ngcontent-%COMP%]{padding:5px 10px;box-shadow:0 0 10px #0003;border-radius:10px}.active[_ngcontent-%COMP%]{color:green;background-color:#7fad7f33}.inactive[_ngcontent-%COMP%]{color:red;background-color:#f003}.date_range[_ngcontent-%COMP%]{color:#2c8bca;background-color:#2c8bca33}.undefined[_ngcontent-%COMP%]{color:#686868;background-color:#68686833}.table-container-promotions[_ngcontent-%COMP%]{overflow:auto;max-height:700px}"]}),n})(),data:{permissions:{only:b.index}},canActivate:[h.DD]},{path:":campaign_id/promotions/create",component:G,data:{permissions:{only:b.create},isEdit:!1},canActivate:[h.DD]},{path:":campaign_id/promotions/:id/edit",component:G,data:{permissions:{only:b.edit},isEdit:!0},canActivate:[h.DD]}];let de=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz.forChild(me),_.Bz]}),n})();var pe=r(81974),ue=r(90808),ge=r(9398);let _e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[a.ez,c.UX,c.u5,de,E.QW,Z.Ps,M.ot,k.lN,S.c,y.Hi,J.LD,pe.F,ue.S,h.VI,m.p0,L._r,A.ie,j.Cv,K.er,T.si,D.p,w.g,ge.L]}),n})()}}]);