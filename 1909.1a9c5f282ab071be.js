"use strict";(self.webpackChunkng=self.webpackChunkng||[]).push([[1909],{16940:(P,h,o)=>{o.d(h,{p:()=>C});var g=o(69808),t=o(5e3),e=o(86087),r=o(20773),c=o(72349),l=o(9178);function p(_,s){1&_&&(t.TgZ(0,"div",5)(1,"div",6),t._UZ(2,"mat-spinner",7),t.TgZ(3,"p",8),t._uU(4,"Cargando datos"),t.qZA()()()),2&_&&(t.xp6(2),t.Q6J("diameter",25))}const u=function(){return[10,20,30]};function f(_,s){if(1&_){const n=t.EpF();t.TgZ(0,"mat-paginator",9),t.NdJ("page",function(i){t.CHM(n);const d=t.oxw();return t.KtG(d.changePaginator(i))}),t.qZA()}if(2&_){const n=t.oxw();t.Q6J("hidden",n.__isLoading)("pageSizeOptions",t.DdM(5,u))("pageSize",null==n.paginator?null:n.paginator.per_page)("length",null==n.paginator?null:n.paginator.total)("pageIndex",(null==n.paginator?null:n.paginator.current_page)-1)}}const T=[[["","menuBar",""]],[["","filterMenu",""]],[["","subheader",""]],[["","table",""]]],b=["[menuBar]","[filterMenu]","[subheader]","[table]"];let C=(()=>{class _{constructor(){this.filter_data={},this.placeholder="Buscador",this.title="Pagina Novisolutions",this.init=!0,this.active_filters_menu=!1,this.key_paginator=null,this.isLoading=new t.vpe(!1),this.data=new t.vpe,this.pageSizeOptions=[10,15,25,50],this.products=[]}ngOnInit(){}loadData(n){if(this.key_paginator)return this.paginator=n.data[this.key_paginator],this.products=this.paginator.data,void this.data.emit(n.data);this.paginator=n.data,this.products=this.paginator.data,this.data.emit(this.products)}hasIsLoading(n){console.log(n),this.__isLoading=n,this.isLoading.emit(this.__isLoading)}isLoadingNow(n){console.log(n),this.__isLoading=n,this.isLoading.emit(this.__isLoading)}changePaginator(n){this.headerComponent.searchBar(n)}searchNow(n=null){this.headerComponent.searchBar(n)}}return _.\u0275fac=function(n){return new(n||_)},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-search-template-table"]],viewQuery:function(n,a){if(1&n&&t.Gf(c.H,5),2&n){let i;t.iGM(i=t.CRH())&&(a.headerComponent=i.first)}},inputs:{filter_data:"filter_data",placeholder:"placeholder",url$:"url$",title:"title",init:"init",active_filters_menu:"active_filters_menu",key_paginator:"key_paginator"},outputs:{isLoading:"isLoading",data:"data"},standalone:!0,features:[t.jDz],ngContentSelectors:b,decls:10,vars:8,consts:[[3,"title","init","active_filters_menu","filter_data","placeholder","url","isLoading","products"],[1,"container-table"],["class","is-loading center w-100 h-100",4,"ngIf"],[1,"position-relative","table-container","shadow"],["showFirstLastButtons","",3,"hidden","pageSizeOptions","pageSize","length","pageIndex","page",4,"ngIf"],[1,"is-loading","center","w-100","h-100"],[1,"center"],[3,"diameter"],[1,"m-0","ml-2"],["showFirstLastButtons","",3,"hidden","pageSizeOptions","pageSize","length","pageIndex","page"]],template:function(n,a){1&n&&(t.F$t(T),t.TgZ(0,"app-header-search",0),t.NdJ("isLoading",function(d){return a.isLoadingNow(d)})("products",function(d){return a.loadData(d)}),t.Hsn(1),t.Hsn(2,1,["filterMenu",""]),t.qZA(),t.TgZ(3,"div"),t.Hsn(4,2),t.qZA(),t.TgZ(5,"div",1),t.YNc(6,p,5,1,"div",2),t.TgZ(7,"div",3),t.Hsn(8,3),t.qZA()(),t.YNc(9,f,1,6,"mat-paginator",4)),2&n&&(t.Q6J("title",a.title)("init",a.init)("active_filters_menu",a.active_filters_menu)("filter_data",a.filter_data)("placeholder",a.placeholder)("url",a.url$),t.xp6(6),t.Q6J("ngIf",a.__isLoading),t.xp6(3),t.Q6J("ngIf",(null==a.products?null:a.products.length)>0))},dependencies:[g.ez,g.O5,l.q,c.H,r.Cq,r.Ou,e.TU,e.NW],styles:[".container-table[_ngcontent-%COMP%]{position:relative}.container-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-left:10px!important;padding-right:10px!important;max-width:200px}.is-loading[_ngcontent-%COMP%]{position:absolute;background:rgba(255,255,255,.4431372549);z-index:2;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);min-height:160px!important}.table-container[_ngcontent-%COMP%]{overflow:auto}"]}),_})()},95518:(P,h,o)=>{o.d(h,{d:()=>p});const l={promotions:Object.assign({},{permanent:"Permanente",date_range:"Rango de fechas",out_stock:"Hasta agotar stock"}),default:Object.assign({},{active:"Activo",inactive:"Inactivo",closed:"Cerrado",date_range:"Rango de fechas",open:"Abierto",undefined:"Indefinido"}),orders:{tax:"Impuestos",percent:"Porcentaje",retention:"Retenci\xf3n",discount:"Descuento",fixed:"Fijo",default:"Por defecto",receivable:"Por cobrar",payment_with_retention:"Por pago con retenci\xf3n",reservation_paid:"Por reserva pagada",credit_card:"Tarjeta de cr\xe9dito",cash:"Efectivo",debit_card:"Tarjeta de d\xe9bito",wire:"Transferencia",wire_transfer:"Transferencia",paymentez:"Paymentez",pending:"Pendiente",paid:"Pagado",refunded:"Reembolsado",cancelled:"Cancelado",created:"Creado",generated_guide:"Gu\xeda generada",shipped:"Enviado",in_transit:"En tr\xe1nsito",delivered:"Entregado",returned:"Devuelto",confirmed:"Confirmado",payment_paid:"Pagado",payment_partially_paid:"Parcialmente pagado",payment_refunded:"Reembolsado",payment_partially_refunded:"Parcialmente reembolsado",shipping_shipped:"Enviado",shipping_partially_shipped:"Parcialmente enviado",shipping_partially_delivered:"Parcialmente entregado",shipping_returned:"Devuelto",shipping_partially_returned:"Parcialmente devuelto",shipping_delivered:"Entregado",shipping_partially_processed:"Env\xedo Parcialmente procesado",shipping_processed:"Env\xedo procesado",generated:"Generado",in_review:"En revisi\xf3n",rejected:"Rechazado",expired:"Expirado",init:"Iniciado",processed:"Procesado",published:"Publicado",canceled:"Cancelado",deferred:"Diferido",single:"Corriente",sended:"Solicitada",partially_confirmed:"Parcialmente confirmada",unsynced:"Esperando sincronizaci\xf3n"},order_channels:{webstore:"Pagina Web",whatsapp:"Whatsapp",marketplace:"Tienda",other:"Otro medio"},method_pay:{"Credit Card":"Tarjeta de cr\xe9dito","Boleto (Bank Ticket)":"Boleto (Bank Ticket)","E-wallet":"E-wallet","Vouchers Card":"Vouchers Card","Bank Transfer":"Transferencia","Debit Card":"Tarjeta de d\xe9bito","Prepaid Card":"Tarjeta prepagada"}};function p(u,f){return l[f]?l[f][u]:"error traducci\xf3n"}},78536:(P,h,o)=>{o.d(h,{P:()=>e});var g=o(95518),t=o(5e3);let e=(()=>{class r{transform(l,...p){return p[0]=p[0]||"default",(0,g.d)(l,p[0])||l}}return r.\u0275fac=function(l){return new(l||r)},r.\u0275pipe=t.Yjl({name:"translatefz",type:r,pure:!0}),r})()},83200:(P,h,o)=>{o.d(h,{S:()=>_});var g=o(8929),t=o(87224),e=o(5e3),r=o(43720),c=o(69808),l=o(29055),p=o(47423),u=o(25245);function f(s,n){if(1&s){const a=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(a);const d=e.oxw().$implicit,m=e.oxw();return e.KtG(m.addProduct(d.key))}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA()()}}function T(s,n){if(1&s){const a=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(a);const d=e.oxw().$implicit,m=e.oxw();return e.KtG(m.removeProduct(d.key))}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}function b(s,n){if(1&s&&(e.TgZ(0,"div")(1,"div",7)(2,"div",8),e._UZ(3,"img",9),e.TgZ(4,"h3",10)(5,"span",11),e._uU(6),e.qZA(),e._uU(7),e.qZA()(),e.YNc(8,f,3,0,"button",12),e.YNc(9,T,3,0,"ng-template",null,13,e.W1O),e.qZA()()),2&s){const a=n.$implicit,i=e.MAs(10),d=e.oxw();e.xp6(3),e.Q6J("src",a.image||"assets/img/img_not_available.png",e.LSH),e.xp6(3),e.hij("# ",a.value.code," "),e.xp6(1),e.hij(" ",a.value.name,""),e.xp6(1),e.Q6J("ngIf",!d.productsSelected.has(a.key))("ngIfElse",i)}}let C=(()=>{class s{constructor(a){this.dialogService=a,this.onlyOne=!1,this.productsSelected=new Map,this.products=new Map,this.add=new e.vpe,this.remove=new e.vpe}getData(a){this.products=new Map(a.data.map(i=>[i.id,i]))}addProduct(a){this.onlyOne?(this.productsSelected.clear(),this.productsSelected.set(a,this.products.get(a)),this.close()):(this.productsSelected.set(a,this.products.get(a)),this.add.emit(this.products.get(a)))}removeProduct(a){this.productsSelected.delete(a),this.remove.emit(a)}close(){this.productsSelected.size>0?this.dialogService.close({data:this.onlyOne?[...this.productsSelected][0][1]:this.productsSelected}):this.dialogService.close()}}return s.\u0275fac=function(a){return new(a||s)(e.Y36(_))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-search-products-dialog"]],contentQueries:function(a,i,d){if(1&a&&e.Suo(d,e.Rgc,5),2&a){let m;e.iGM(m=e.CRH())&&(i.templateRef=m.first)}},outputs:{add:"add",remove:"remove"},decls:10,vars:6,consts:[[1,"container-search-products","center"],["color","warn","mat-icon-button","",1,"btn-close",3,"click"],[1,"col-md-5","col-10","overflow-hidden","h-100"],["placeholder","Buscador de productos",3,"init","url","data"],["data",""],[1,"section-data","bg-product","shadow","p-3","main-style"],[4,"ngFor","ngForOf"],[1,"item-product","my-3"],[1,"d-flex","align-items-center"],["alt","product image",1,"img-product","mr-2",3,"src"],[1,"m-0"],[1,"text-danger"],["data-test","add-product","color","primary","mat-icon-button","",3,"click",4,"ngIf","ngIfElse"],["TemplateRemove",""],["data-test","add-product","color","primary","mat-icon-button","",3,"click"],["color","warn","mat-icon-button","",3,"click"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return i.close()}),e.TgZ(2,"mat-icon"),e._uU(3,"close"),e.qZA()(),e.TgZ(4,"div",2)(5,"app-search",3),e.NdJ("data",function(m){return i.getData(m)}),e.ynx(6,4),e.TgZ(7,"div",5),e.YNc(8,b,11,5,"div",6),e.ALo(9,"keyvalue"),e.qZA(),e.BQk(),e.qZA()()()),2&a&&(e.xp6(5),e.Q6J("init",!1)("@fade",void 0)("url",i.url),e.xp6(3),e.Q6J("ngForOf",e.lcZ(9,4,i.products)))},dependencies:[c.sg,c.O5,l.g,p.lW,u.Hw,c.Nd],styles:[".container-search-products[_ngcontent-%COMP%]{position:fixed;z-index:1020;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.2509803922);-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.section-data[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 155px);margin:10px;border-radius:10px;-webkit-backdrop-filter:blur(11px);backdrop-filter:blur(11px)}.item-product[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px;border-bottom:solid 1px #dadada}.img-product[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:10px;object-fit:cover}"],data:{animation:r.A}}),s})(),_=(()=>{class s{constructor(a,i,d){this.componentFactoryResolver=a,this.appRef=i,this.injector=d,this.dialogObservable=new g.xQ}open(a,i=null){var d;const v=this.componentFactoryResolver.resolveComponentFactory(C).create(this.injector);return v.instance.url=a,i&&i.data&&(v.instance.onlyOne=i.data.isMultiple,v.instance.productsSelected=(null===(d=i.data)||void 0===d?void 0:d.productsSelected)||new Map),this.appRef.attachView(v.hostView),document.body.appendChild(v.hostView.rootNodes[0]),this.dialogComponentRef=v,this.dialogObservable.pipe((0,t.P)())}close(a=null){this.appRef.detachView(this.dialogComponentRef.hostView),this.dialogComponentRef.destroy(),a&&this.dialogObservable.next(a)}}return s.\u0275fac=function(a){return new(a||s)(e.LFG(e._Vd),e.LFG(e.z2F),e.LFG(e.zs3))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},64828:(P,h,o)=>{o.d(h,{$:()=>t});var g=o(29724);class t{constructor(){this.isLoading=!1}getData(r){console.log(r),this.dataSource=r}deleteData(r){g.J.swalConfirmation("Eliminar","\xbfEst\xe1 seguro de eliminar el registro?","warning").then(c=>{c.isConfirmed&&(this.isLoading=!0,this.methodsHttp.methodDelete(`${this.url}/${r}`).subscribe(()=>{this.isLoading=!1,g.J.swalToast("Registro eliminado","success"),this.deleteItemInTable(r)}))})}deleteItemInTable(r){this.dataSource.splice(this.dataSource.findIndex(c=>c.id===r),1),this.table.renderRows()}updateItemInTable(r,c,l="id"){const p=this.dataSource.findIndex(u=>u[l]===r);-1!==p&&(this.dataSource[p]=Object.assign(Object.assign({},this.dataSource[p]),c),this.table.renderRows())}addItemInTable(r){this.dataSource.unshift(r),this.table.renderRows()}}},9398:(P,h,o)=>{o.d(h,{L:()=>p});var g=o(69808),t=o(82085),e=o(47423),r=o(25245),c=o(48966),l=o(5e3);let p=(()=>{class u{}return u.\u0275fac=function(T){return new(T||u)},u.\u0275mod=l.oAB({type:u}),u.\u0275inj=l.cJS({imports:[g.ez,t.v,e.ot,r.Ps,c.Is]}),u})()}}]);