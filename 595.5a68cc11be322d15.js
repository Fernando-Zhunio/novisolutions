"use strict";(self.webpackChunkng=self.webpackChunkng||[]).push([[595],{595:(H,m,t)=>{t.r(m),t.d(m,{MercadoLibreModule:()=>G});var c=t(69808),u=t(59516),M=t(72349),v=t(14909),C=t(43720),e=t(5e3),T=t(85932),Z=t(71188),d=t(93075),s=t(67322),p=t(77531),g=t(9224),f=t(92181),h=t(74107),x=t(90508),L=t(10366),y=t(28300);function P(i,l){if(1&i){const n=e.EpF();e.TgZ(0,"mat-card",14)(1,"app-ml",15),e.NdJ("click_menu",function(r){e.CHM(n);const a=e.oxw();return e.KtG(a.executeMenu(r))}),e.qZA()()}if(2&i){const n=l.$implicit;e.Q6J("@fade",void 0),e.xp6(1),e.Q6J("withName",!0)("ml",n)}}const A=[{path:"",component:(()=>{class i{constructor(n,o){this.s_mercado_libre=n,this.s_storage=o,this.price_min=null,this.price_max=null,this.aux_page_next=0,this.hasData=!0,this.isLoading=!1,this.filters={min:null,max:null,state:null},this.mlInfos=[]}ngOnInit(){this.echo=new v.s(this.s_storage).echo,this.echo.private("catalogs.ml.items").listen(".item",this.listener.bind(this))}ngOnDestroy(){this.echo.leave("catalogs.ml.items")}listener(n){if("updated"==n.event){const o=this.mlInfos.findIndex(r=>r.id===n.item.id);-1!==o&&(this.mlInfos[o]=n.item)}else if("deleted"===n.event){const o=this.mlInfos.findIndex(r=>r.id===n.item.id);-1!==o&&this.mlInfos.splice(o,1)}}executeMenu(n){this.s_mercado_libre.updateStatus(n.id,n.type).subscribe(o=>{if(o.success){const r=this.mlInfos.findIndex(a=>a.id==n.id);this.mlInfos[r]=o.ml}})}loadData(n){this.mlInfos=n}changePaginator(n){this.headerComponent.searchBar(n)}applyFilter(){this.headerComponent.searchBar()}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(T.w),e.Y36(Z.V))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-mercado-libre"]],viewQuery:function(n,o){if(1&n&&e.Gf(M.H,5),2&n){let r;e.iGM(r=e.CRH())&&(o.headerComponent=r.first)}},decls:36,vars:8,consts:[["placeholder","Buscar productos",3,"title","active_filters_menu","filter_data","url$","data"],["data",""],["class","card border-0 rounded-fz",4,"ngFor","ngForOf"],["filterMenu",""],["mat-menu-item","",3,"click","keydown"],[1,"w-100"],[3,"ngModel","ngModelChange"],["value",""],["value","active"],["value","closed"],["value","payment_required"],["matInput","",1,"example-right-align",3,"ngModel","ngModelChange"],["matPrefix",""],["matSuffix",""],[1,"card","border-0","rounded-fz"],[3,"withName","ml","click_menu"]],template:function(n,o){1&n&&(e.TgZ(0,"div")(1,"app-search-template",0),e.NdJ("data",function(a){return o.loadData(a)}),e.ynx(2,1),e.YNc(3,P,2,3,"mat-card",2),e.BQk(),e.ynx(4,3),e.TgZ(5,"div",4),e.NdJ("click",function(a){return a.stopPropagation()})("keydown",function(a){return a.stopPropagation()}),e.TgZ(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Estados"),e.qZA(),e.TgZ(9,"mat-select",6),e.NdJ("ngModelChange",function(a){return o.filters.state=a}),e.TgZ(10,"mat-option",7),e._uU(11,"Todos"),e.qZA(),e.TgZ(12,"mat-option",8),e._uU(13,"Activo"),e.qZA(),e.TgZ(14,"mat-option",9),e._uU(15,"Inactivo"),e.qZA(),e.TgZ(16,"mat-option",10),e._uU(17,"Pago requerido"),e.qZA()()()(),e.TgZ(18,"div",4),e.NdJ("click",function(a){return a.stopPropagation()})("keydown",function(a){return a.stopPropagation()}),e.TgZ(19,"mat-form-field")(20,"mat-label"),e._uU(21,"Precio Min"),e.qZA(),e.TgZ(22,"input",11),e.NdJ("ngModelChange",function(a){return o.filters.min=a}),e.qZA(),e.TgZ(23,"span",12),e._uU(24,"$\xa0"),e.qZA(),e.TgZ(25,"span",13),e._uU(26,".00"),e.qZA()()(),e.TgZ(27,"div",4),e.NdJ("click",function(a){return a.stopPropagation()})("keydown",function(a){return a.stopPropagation()}),e.TgZ(28,"mat-form-field")(29,"mat-label"),e._uU(30,"Precio Max"),e.qZA(),e.TgZ(31,"input",11),e.NdJ("ngModelChange",function(a){return o.filters.max=a}),e.qZA(),e.TgZ(32,"span",12),e._uU(33,"$\xa0"),e.qZA(),e.TgZ(34,"span",13),e._uU(35,".00"),e.qZA()()(),e.BQk(),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("title","Mercado libre")("active_filters_menu",!0)("filter_data",o.filters)("url$","catalogs/ml-products"),e.xp6(2),e.Q6J("ngForOf",o.mlInfos),e.xp6(6),e.Q6J("ngModel",o.filters.state),e.xp6(13),e.Q6J("ngModel",o.filters.min),e.xp6(9),e.Q6J("ngModel",o.filters.max))},dependencies:[c.sg,d.Fj,d.JJ,d.On,s.KE,s.hX,s.qo,s.R9,p.Nt,g.a8,f.OP,h.gD,x.ey,L.R,y._],styles:[".gold[_ngcontent-%COMP%]{color:#d4af37}.silver[_ngcontent-%COMP%]{color:#c4cace}.dropdown-menu[_ngcontent-%COMP%]{box-shadow:0 2px 10px #0003;border:none}button[_ngcontent-%COMP%]{outline:none}.item-masonry[_ngcontent-%COMP%]{width:calc(25% - 10px)}@media (max-width: 600px){.item-masonry[_ngcontent-%COMP%]{width:100%}}@media (min-width: 1200px){.card-columns[_ngcontent-%COMP%]{column-count:4}}"],data:{animation:C.A}}),i})(),data:{name:"mercado_libre"}}];let J=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.Bz.forChild(A),u.Bz]}),i})();var b=t(25245),I=t(47423),N=t(26688),O=t(70853),U=t(94166),Q=t(54945),B=t(86087),F=t(53251),D=t(5434),R=t(84909),z=t(57261),X=t(34594),$=t(9178),E=t(75401);let G=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.ez,J,d.u5,d.UX,O.mr,s.lN,b.Ps,I.ot,p.c,g.QW,N.Hi,f.Tx,U._G,Q.JX,B.TU,R.hx,h.LD,F.Nh,D.E,z.ZX,X.g0,$.q,E.r]}),i})()}}]);