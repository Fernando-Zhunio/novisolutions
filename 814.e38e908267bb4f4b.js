"use strict";(self.webpackChunkng=self.webpackChunkng||[]).push([[814],{39221:(pe,z,m)=>{m.d(z,{Z:()=>Ae});var s=m(5e3),_=m(32075),h=m(72349),c=m(8735),S=m(57261),I=m(69808),e=m(25245),J=m(26688),M=m(86087),A=m(47423),y=m(4721),x=m(93075);function R(g,l){if(1&g){const p=s.EpF();s.TgZ(0,"mat-chip",10),s.NdJ("click",function(){s.CHM(p);const u=s.oxw();return s.KtG(u.onClickCreateItem())}),s.TgZ(1,"mat-icon"),s._uU(2),s.qZA(),s._uU(3),s.qZA()}if(2&g){const p=s.oxw();s.Q6J("disabled",p.isCreating),s.xp6(2),s.Oqu(p.icon),s.xp6(1),s.hij("\xa0",p.textBtnAdd," ")}}function j(g,l){if(1&g&&(s.TgZ(0,"mat-header-cell"),s._uU(1),s.qZA()),2&g){const p=s.oxw().$implicit;s.xp6(1),s.Oqu(p.title)}}function se(g,l){if(1&g&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&g){const p=s.oxw().$implicit,f=s.oxw().$implicit,u=s.oxw();s.xp6(1),s.hij(" ",f.key.split(".").reduce(u.index,p)," ")}}function V(g,l){if(1&g){const p=s.EpF();s.TgZ(0,"input",14),s.NdJ("ngModelChange",function(u){s.CHM(p);const U=s.oxw().$implicit,T=s.oxw().$implicit;return s.KtG(U[T.key]=u)}),s.qZA()}if(2&g){const p=s.oxw().$implicit,f=s.oxw().$implicit;s.Q6J("placeholder",f.title)("ngModel",p[f.key])}}function le(g,l){if(1&g&&(s.TgZ(0,"mat-cell"),s.YNc(1,se,2,1,"span",12),s.YNc(2,V,1,2,"ng-template",null,13,s.W1O),s.qZA()),2&g){const p=l.$implicit,f=s.MAs(3),u=s.oxw().$implicit;s.xp6(1),s.Q6J("ngIf",!(null!=p&&p.isEditable&&u.isEditable))("ngIfElse",f)}}function ue(g,l){1&g&&(s.ynx(0,11),s.YNc(1,j,2,1,"mat-header-cell",5),s.YNc(2,le,4,2,"mat-cell",6),s.BQk()),2&g&&s.Q6J("matColumnDef",l.$implicit.key)}function Q(g,l){1&g&&(s.TgZ(0,"mat-header-cell"),s._uU(1," Acciones "),s.qZA())}function k(g,l){if(1&g){const p=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(){s.CHM(p);const u=s.oxw(2).$implicit,U=s.oxw();return s.KtG(U.onClickEditItem(u.id))}),s.TgZ(1,"mat-icon"),s._uU(2,"edit"),s.qZA()()}}function Z(g,l){if(1&g&&(s.ynx(0),s.YNc(1,k,3,0,"button",17),s.BQk()),2&g){const p=s.oxw(2);s.xp6(1),s.Q6J("ngxPermissionsOnly",p.permissions.edit)}}function P(g,l){if(1&g){const p=s.EpF();s.TgZ(0,"button",21),s.NdJ("click",function(){s.CHM(p);const u=s.oxw(2).$implicit,U=s.oxw();return s.KtG(U.onClickEditItem(u.id,!0))}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA()()}}function W(g,l){if(1&g){const p=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(){s.CHM(p);const u=s.oxw(2).$implicit,U=s.oxw();return s.KtG(U.saveInServer(u.id,null==u?null:u.isCreating))}),s.TgZ(1,"mat-icon"),s._uU(2,"save"),s.qZA()()}}function Y(g,l){if(1&g&&(s.YNc(0,P,3,0,"button",19),s.YNc(1,W,3,0,"button",20)),2&g){const p=s.oxw(2);s.Q6J("ngxPermissionsOnly",p.permissions.edit),s.xp6(1),s.Q6J("ngxPermissionsOnly",p.permissions.edit)}}function ne(g,l){if(1&g){const p=s.EpF();s.TgZ(0,"button",23),s.NdJ("click",function(){s.CHM(p);const u=s.oxw().$implicit,U=s.oxw();return s.KtG(U.onClickDestroyItem(u.id))}),s.TgZ(1,"mat-icon"),s._uU(2,"delete"),s.qZA()()}if(2&g){const p=s.oxw().$implicit;s.Q6J("hidden",null==p?null:p.isCreating)}}function ie(g,l){if(1&g&&(s.TgZ(0,"mat-cell"),s.YNc(1,Z,2,1,"ng-container",12),s.YNc(2,Y,2,2,"ng-template",null,15,s.W1O),s.YNc(4,ne,3,1,"button",16),s.qZA()),2&g){const p=l.$implicit,f=s.MAs(3),u=s.oxw();s.xp6(1),s.Q6J("ngIf",!(null!=p&&p.isEditable))("ngIfElse",f),s.xp6(3),s.Q6J("ngxPermissionsOnly",u.permissions.destroy)}}function oe(g,l){1&g&&s._UZ(0,"mat-header-row",24)}function ae(g,l){1&g&&s._UZ(0,"mat-row")}const Te=function(){return[10,20,30]};function be(g,l){if(1&g){const p=s.EpF();s.TgZ(0,"mat-paginator",25),s.NdJ("page",function(u){s.CHM(p);const U=s.oxw();return s.KtG(U.changePaginator(u))}),s.qZA()}if(2&g){const p=s.oxw();s.Q6J("pageSizeOptions",s.DdM(4,Te))("pageSize",null==p.paginator?null:p.paginator.per_page)("length",null==p.paginator?null:p.paginator.total)("pageIndex",(null==p.paginator?null:p.paginator.current_page)-1)}}const Ze=[[["","btnHeader",""]],[["","buttonsHeader",""]]],ve=["[btnHeader]","[buttonsHeader]"];let Ae=(()=>{class g{constructor(p,f){this.s_standard=p,this.snack_bar=f,this.onClickEdit=new s.vpe,this.onClickDestroy=new s.vpe,this.onClickCreate=new s.vpe,this.onClickSaveEditItem=new s.vpe,this.title="Pagina Novisolutions",this.itemRows=[],this.placeholder="Buscador",this.url="indefinido",this.textBtnAdd="Agregar",this.icon="add",this.isEditable=!1,this.permissions={create:[],edit:[],destroy:[]},this.ELEMENT_DATA=[],this.dataSource=new _.by(this.ELEMENT_DATA),this.dataLastRevert=[],this.isCreating=!1}ngOnInit(){}loadData(p){console.log(p.data),this.paginator=p.data,this.refreshDataTable(this.paginator.data)}changePaginator(p=null){p?this.headerComponent.searchBar(p):this.headerComponent.searchBar()}refreshDataTable(p){this.ELEMENT_DATA=p,this.dataSource=new _.by(this.ELEMENT_DATA)}onClickEditItem(p,f=!1){if(this.onClickEdit.emit(p),"Sin datos"==p)return this.removeItemTable(p),void(this.isCreating=!1);if(this.isEditable)if(f){const u=this.dataSource.data.find(D=>D.id==p),U=this.getItemEditable(),T=Object.assign(Object.assign({},this.dataLastRevert.find(D=>D.id==p)),{isEditable:!1});U.forEach(D=>{u[D.key]=T[D.key]}),u.isEditable=!1;const q=this.dataLastRevert.findIndex(D=>D.id==p);this.dataLastRevert.splice(q,1)}else{const u=this.dataSource.data.find(U=>U.id==p);u.isEditable=!0,this.dataLastRevert.push(Object.assign({},u))}}getItemEditable(){return this.itemRows.filter(p=>1==p.isEditable)}saveInServer(p,f=!1){if(f){const u=this.dataSource.data.find(q=>q.id==p),U=this.getItemEditable(),T={};U.map(q=>T[q.key]=u[q.key]),this.s_standard.store(`${this.url}`,Object.assign({},T)).subscribe(q=>{if(q.success){this.snack_bar.open("Guardado con \xe9xito","",{duration:2e3});const D=this.dataSource.data.find(L=>L.id==p);this.itemRows.forEach(L=>{D[L.key]=q.data[L.key]}),D.isEditable=!1,D.isCreating=!1,this.isCreating=!1}})}else{const u=this.dataSource.data.find(q=>q.id==p),U=this.getItemEditable(),T={};U.map(q=>T[q.key]=u[q.key]),this.s_standard.updatePut(`${this.url}/${p}`,Object.assign({},T)).subscribe(q=>{if(q.success){this.snack_bar.open("Guardado con \xe9xito","",{duration:2e3});const D=this.dataSource.data.find(K=>K.id==p);this.getItemEditable().forEach(K=>{D[K.key]=q.data[K.key]}),D.isEditable=!1;const ye=this.dataLastRevert.findIndex(K=>K.id==p);this.dataLastRevert.splice(ye,1)}})}}onClickDestroyItem(p){this.onClickDestroy.emit(p)}onClickCreateItem(){if(!this.isCreating&&(this.onClickCreate.emit(),this.isEditable)){const p={};for(const u of this.itemRows)p[u.key]=u.isEditable?"":"Sin datos";p.isEditable=!0,p.isCreating=!0,this.dataSource.data.push(p),this.table.renderRows(),this.isCreating=!0;const f=document.getElementsByClassName("app-body")[0];f.scrollTop=f.scrollHeight}}removeItemTable(p){console.log(p);const f=this.ELEMENT_DATA.findIndex(u=>u.id==p);this.ELEMENT_DATA.splice(f,1),this.dataSource=new _.by(this.ELEMENT_DATA)}index(p,f){return p?p[f]:null}}return g.\u0275fac=function(p){return new(p||g)(s.Y36(c.X),s.Y36(S.ux))},g.\u0275cmp=s.Xpm({type:g,selectors:[["app-index-with-mat-table"]],viewQuery:function(p,f){if(1&p&&(s.Gf(h.H,5),s.Gf(_.BZ,7)),2&p){let u;s.iGM(u=s.CRH())&&(f.headerComponent=u.first),s.iGM(u=s.CRH())&&(f.table=u.first)}},inputs:{displayedColumns:"displayedColumns",title:"title",itemRows:"itemRows",placeholder:"placeholder",url:"url",textBtnAdd:"textBtnAdd",icon:"icon",isEditable:"isEditable",permissions:"permissions"},outputs:{onClickEdit:"onClickEdit",onClickDestroy:"onClickDestroy",onClickCreate:"onClickCreate",onClickSaveEditItem:"onClickSaveEditItem"},ngContentSelectors:ve,decls:13,vars:9,consts:[[3,"title","placeholder","url","isLoading","products"],["class","mat-btn-add ml-1",3,"disabled","click",4,"ngxPermissionsOnly"],[1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],["style","top:67px",4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize","length","pageIndex","page",4,"ngIf"],[1,"mat-btn-add","ml-1",3,"disabled","click"],[3,"matColumnDef"],[4,"ngIf","ngIfElse"],["editableTemplate",""],["type","text",1,"input-editable",3,"placeholder","ngModel","ngModelChange"],["editableTemplateBtn",""],["mat-icon-button","","color","warn",3,"hidden","click",4,"ngxPermissionsOnly"],["mat-icon-button","","color","primary",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","color","primary",3,"click"],["color","warn","mat-icon-button","",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","",3,"click",4,"ngxPermissionsOnly"],["color","warn","mat-icon-button","",3,"click"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"hidden","click"],[2,"top","67px"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize","length","pageIndex","page"]],template:function(p,f){1&p&&(s.F$t(Ze),s.TgZ(0,"app-header-search",0),s.NdJ("isLoading",function(U){return f.isLoading=U})("products",function(U){return f.loadData(U)}),s.Hsn(1),s.ynx(2),s.YNc(3,R,4,3,"mat-chip",1),s.Hsn(4,1),s.BQk(),s.qZA(),s.TgZ(5,"mat-table",2),s.YNc(6,ue,3,1,"ng-container",3),s.ynx(7,4),s.YNc(8,Q,2,0,"mat-header-cell",5),s.YNc(9,ie,5,3,"mat-cell",6),s.BQk(),s.YNc(10,oe,1,0,"mat-header-row",7),s.YNc(11,ae,1,0,"mat-row",8),s.qZA(),s.YNc(12,be,1,5,"mat-paginator",9)),2&p&&(s.Q6J("title",f.title)("placeholder",f.placeholder)("url",f.url),s.xp6(3),s.Q6J("ngxPermissionsOnly",f.permissions.create),s.xp6(2),s.Q6J("dataSource",f.dataSource),s.xp6(1),s.Q6J("ngForOf",f.itemRows),s.xp6(4),s.Q6J("matHeaderRowDef",f.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",f.displayedColumns),s.xp6(1),s.Q6J("ngIf",null==f.ELEMENT_DATA?null:f.ELEMENT_DATA.length))},dependencies:[I.sg,I.O5,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,e.Hw,h.H,J.HS,M.NW,A.lW,y.gE,x.Fj,x.JJ,x.On],styles:[".input-editable[_ngcontent-%COMP%]{border:2px solid #e3e3e3;outline:none;background:#f1f1f1;padding:5px;border-radius:10px}"]}),g})()},87445:(pe,z,m)=>{m.d(z,{U:()=>y});var s=m(26688),_=m(69808),h=m(32075),c=m(25245),S=m(9178),I=m(86087),e=m(47423),J=m(4721),M=m(93075),A=m(5e3);let y=(()=>{class x{}return x.\u0275fac=function(j){return new(j||x)},x.\u0275mod=A.oAB({type:x}),x.\u0275inj=A.cJS({imports:[_.ez,h.p0,c.Ps,S.q,s.Hi,I.TU,e.ot,J.VI,M.u5]}),x})()},27761:(pe,z,m)=>{m.d(z,{Y:()=>e}),m(39221);var _=m(29724),h=m(5e3),c=m(8735),S=m(57261),I=m(59516);let e=(()=>{class J{constructor(A,y,x){this.s_standart=A,this.snack_bar=y,this.router=x,this.permission_create=["super-admin","admin.users.create"],this.permission_edit=["super-admin","admin.users.edit"],this.permission_destroy=["super-admin","admin.users.destroy"],this.isLoading=!1}deleteItem(A){_.J.swalConfirmation("Eliminar","Esta seguro de eliminar este registro","warning").then(y=>{y.isConfirmed?(this.snack_bar.open("Eliminando registro espere ..."),this.s_standart.destory(this.url+"/"+A).subscribe(x=>{x.hasOwnProperty("success")&&x.success?(this.snack_bar.open("registro Eliminado con exito","OK",{duration:2e3}),this.indexWithMatTableComponent.removeItemTable(A)):this.snack_bar.open("No se a podido eliminar ","Error",{duration:2e3})},x=>{console.log(x),this.snack_bar.open("No se a podido eliminar ","Error",{duration:2e3})})):Swal})}goCreate(){this.router.navigate(["./create"])}}return J.\u0275fac=function(A){return new(A||J)(h.LFG(c.X),h.LFG(S.ux),h.LFG(I.F0))},J.\u0275prov=h.Yz7({token:J,factory:J.\u0275fac}),J})()},85186:(pe,z,m)=>{m.r(z),m.d(z,{AdministracionSistemaModule:()=>Xa});var s=m(69808),_=m(59516),h=m(4721),c=m(32075),S=m(72349),I=m(29724),e=m(5e3),J=m(95625),M=m(57261),A=m(25245),y=m(47423),x=m(26688),R=m(28300),j=m(94166);function se(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"#"),e.qZA())}function V(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function le(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Nombre"),e.qZA())}function ue(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function Q(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Correo"),e.qZA())}function k(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function Z(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Roles "),e.qZA())}function P(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",null==t.roles[0]?null:t.roles[0].name," ")}}function W(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Ultima actividad "),e.qZA())}function Y(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"amTimeAgo"),e.ALo(3,"amLocale"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.xi3(3,3,t.last_activity,"es"))," ")}}function ne(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Acciones "),e.qZA())}const ie=function(n){return["./edit",n]};function oe(n,o){if(1&n&&(e.TgZ(0,"button",17)(1,"mat-icon"),e._uU(2,"edit"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(1,ie,t.id))}}function ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw();return e.KtG(r.deleteItem(a.id))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA()()}}function Te(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,oe,3,3,"button",15),e.YNc(2,ae,3,0,"button",16),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngxPermissionsOnly",t.permission_edit),e.xp6(1),e.Q6J("ngxPermissionsOnly",t.permission_destroy)}}function be(n,o){1&n&&e._UZ(0,"mat-header-row",19)}function Ze(n,o){1&n&&e._UZ(0,"mat-row")}const ve=function(){return["./create"]};function Ae(n,o){1&n&&(e.ynx(0,20),e.TgZ(1,"mat-chip",21)(2,"mat-icon"),e._uU(3,"person_add_alt"),e.qZA(),e._uU(4," Agregar usuario "),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,ve)))}let g=(()=>{class n{constructor(t,i){this.methodsHttp=t,this.snack_bar=i,this.displayedColumns=["id","name","email","roles","last_activity","acciones"],this.ELEMENT_DATA=[],this.permission_create=["super-admin","admin.users.create"],this.permission_edit=["super-admin","admin.users.edit"],this.permission_destroy=["super-admin","admin.users.destroy"],this.dataSource=new c.by(this.ELEMENT_DATA)}ngOnInit(){}refreshDataTable(t){this.ELEMENT_DATA=t,this.dataSource=new c.by(this.ELEMENT_DATA)}deleteItem(t){I.J.swalConfirmation("Eliminar","Esta seguro de eliminar este usuario","warning").then(i=>{i.isConfirmed&&(this.snack_bar.open("Eliminando usuario espere ..."),this.methodsHttp.methodDelete("admin/users/"+t).subscribe(a=>{a.hasOwnProperty("success")&&a.success?(this.snack_bar.open("Usuario Eliminado con \xe9xito","OK",{duration:2e3}),this.removeItemTable(t)):this.snack_bar.open("No se a podido eliminar ","Error",{duration:2e3})},a=>{console.log(a),this.snack_bar.open("No se a podido eliminar ","Error",{duration:2e3})}))})}removeItemTable(t){const i=this.ELEMENT_DATA.findIndex(a=>a.id==t);this.ELEMENT_DATA.splice(i,1),this.dataSource=new c.by(this.ELEMENT_DATA)}loadData(t){this.refreshDataTable(t)}changePaginator(t){this.headerComponent.searchBar(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.s),e.Y36(M.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-usuarios"]],viewQuery:function(t,i){if(1&t&&e.Gf(S.H,5),2&t){let a;e.iGM(a=e.CRH())&&(i.headerComponent=a.first)}},decls:25,vars:6,consts:[[1,"mt-4"],["columns","1","placeholder","Buscar usuarios",3,"title","url$","data"],["data",""],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","email"],["matColumnDef","roles"],["matColumnDef","last_activity"],["matColumnDef","acciones"],["style","top:67px",4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["menuBar","",4,"ngxPermissionsOnly"],["mat-icon-button","","color","primary",3,"routerLink",4,"ngxPermissionsOnly"],["mat-icon-button","","color","warn",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-icon-button","","color","warn",3,"click"],[2,"top","67px"],["menuBar",""],[1,"mat-btn-add","ml-1",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"app-search-template",1),e.NdJ("data",function(r){return i.loadData(r)}),e.ynx(2,2),e.TgZ(3,"mat-table",3),e.ynx(4,4),e.YNc(5,se,2,0,"mat-header-cell",5),e.YNc(6,V,2,1,"mat-cell",6),e.BQk(),e.ynx(7,7),e.YNc(8,le,2,0,"mat-header-cell",5),e.YNc(9,ue,2,1,"mat-cell",6),e.BQk(),e.ynx(10,8),e.YNc(11,Q,2,0,"mat-header-cell",5),e.YNc(12,k,2,1,"mat-cell",6),e.BQk(),e.ynx(13,9),e.YNc(14,Z,2,0,"mat-header-cell",5),e.YNc(15,P,2,1,"mat-cell",6),e.BQk(),e.ynx(16,10),e.YNc(17,W,2,0,"mat-header-cell",5),e.YNc(18,Y,4,6,"mat-cell",6),e.BQk(),e.ynx(19,11),e.YNc(20,ne,2,0,"mat-header-cell",5),e.YNc(21,Te,3,2,"mat-cell",6),e.BQk(),e.YNc(22,be,1,0,"mat-header-row",12),e.YNc(23,Ze,1,0,"mat-row",13),e.qZA(),e.BQk(),e.YNc(24,Ae,5,2,"ng-container",14),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("title","Usuarios")("url$","admin/users"),e.xp6(2),e.Q6J("dataSource",i.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngxPermissionsOnly",i.permission_create))},dependencies:[_.rH,A.Hw,y.lW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,h.gE,x.HS,R._,j.eG,j.Ue],styles:[".mat-column-email[_ngcontent-%COMP%]{flex:2}.mat-column-id[_ngcontent-%COMP%]{flex:.5}"]}),n})();var l=m(93075),p=m(67376),f=m(86405),u=m(9224),U=m(77446),T=m(67322),q=m(77531),D=m(74107),L=m(90508),ye=m(29055);function K(n,o){if(1&n&&(e.TgZ(0,"small",21),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("Cuidado esta persona ya posee un usuario si continua se cambiara de usuario a esta persona con email ",null==t.personCurrent||null==t.personCurrent.user?null:t.personCurrent.user.email,"")}}function ze(n,o){if(1&n&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Ke(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li",4)(1,"mat-checkbox",23),e.NdJ("ngModelChange",function(a){const d=e.CHM(t).$implicit;return e.KtG(d.checked=a)}),e._uU(2),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngModel",t.checked),e.xp6(1),e.hij(" ",t.name," ")}}function Xe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.isSearchPerson=!0)}),e.TgZ(1,"mat-icon"),e._uU(2,"search"),e.qZA()()}}function et(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._UZ(2,"img",26),e.TgZ(3,"div")(4,"h3",16),e._uU(5),e.qZA()()(),e.TgZ(6,"mat-card-content",27)(7,"table",28)(8,"tbody")(9,"tr")(10,"td"),e._uU(11,"Tipo de documento:"),e.qZA(),e.TgZ(12,"td")(13,"span"),e._uU(14),e.qZA()()(),e.TgZ(15,"tr")(16,"td"),e._uU(17,"CI / Passport:"),e.qZA(),e.TgZ(18,"td")(19,"span"),e._uU(20),e.qZA()()(),e.TgZ(21,"tr")(22,"td"),e._uU(23,"Cargo:"),e.qZA(),e.TgZ(24,"td")(25,"span"),e._uU(26),e.qZA()()(),e.TgZ(27,"tr")(28,"td"),e._uU(29,"Ciudad:"),e.qZA(),e.TgZ(30,"td")(31,"span"),e._uU(32),e.qZA()()(),e.TgZ(33,"tr")(34,"td"),e._uU(35,"Estado:"),e.qZA(),e.TgZ(36,"td")(37,"span"),e._uU(38),e.qZA()()(),e.TgZ(39,"tr")(40,"td"),e._uU(41,"Sexo:"),e.qZA(),e.TgZ(42,"td")(43,"span"),e._uU(44),e.qZA()()(),e.TgZ(45,"tr")(46,"td"),e._uU(47,"Con usuario asignado:"),e.qZA(),e.TgZ(48,"td")(49,"span",29),e._uU(50),e.qZA()()(),e.TgZ(51,"tr")(52,"td"),e._uU(53,"Fecha de ingreso:"),e.qZA(),e.TgZ(54,"td")(55,"span"),e._uU(56),e.ALo(57,"date"),e.qZA()()()()()()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("src",null==t.personCurrent||null==t.personCurrent.photo?null:t.personCurrent.photo.permalink,e.LSH),e.xp6(3),e.Oqu(t.personCurrent.first_name+" "+t.personCurrent.last_name),e.xp6(9),e.Oqu(null==t.personCurrent?null:t.personCurrent.identification_type),e.xp6(6),e.Oqu(null==t.personCurrent?null:t.personCurrent.identification_number),e.xp6(6),e.Oqu(null==t.personCurrent||null==t.personCurrent.position?null:t.personCurrent.position.name),e.xp6(6),e.Oqu(null==t.personCurrent||null==t.personCurrent.city?null:t.personCurrent.city.name),e.xp6(6),e.Oqu(null==t.personCurrent?null:t.personCurrent.status),e.xp6(6),e.Oqu(null==t.personCurrent?null:t.personCurrent.sex),e.xp6(5),e.Q6J("ngClass",null!=t.personCurrent&&t.personCurrent.user_id?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",null!=t.personCurrent&&t.personCurrent.user_id?"Si":"No"," "),e.xp6(6),e.Oqu(e.lcZ(57,11,null==t.personCurrent?null:t.personCurrent.start_date))}}function tt(n,o){1&n&&(e.TgZ(0,"mat-card-content",27)(1,"p"),e._uU(2,"No se ha seleccionado una persona"),e.qZA()())}function nt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card",37)(1,"div")(2,"div",25),e._UZ(3,"img",26),e.TgZ(4,"h3"),e._uU(5),e.qZA()()(),e.TgZ(6,"mat-card-content",27)(7,"p"),e._uU(8),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA()(),e.TgZ(11,"mat-card-actions",38)(12,"button",39),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.selectedPerson(r.id))}),e.TgZ(13,"mat-icon"),e._uU(14,"done"),e.qZA(),e._uU(15," Seleccionar "),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Q6J("src",null==t||null==t.photo?null:t.photo.permalink,e.LSH),e.xp6(2),e.Oqu(t.first_name+" "+t.last_name),e.xp6(3),e.hij("CI / Passport :",t.identification_number,""),e.xp6(2),e.hij("Cargo: ",null==t.position?null:t.position.name,"")}}const it=function(n){return{"show-search-person":n}};function ot(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"app-search",31),e.NdJ("data",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.getPeople(a))}),e.TgZ(2,"div",32),e.YNc(3,nt,16,4,"mat-card",33),e.qZA(),e.ynx(4,34),e.TgZ(5,"button",35),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.isSearchPerson=!1)}),e._UZ(6,"i",36),e.qZA(),e.BQk(),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(3,it,t.isSearchPerson)),e.xp6(1),e.Q6J("url","admin/user/people"),e.xp6(2),e.Q6J("ngForOf",t.people)}}const at=function(){return["/administracion-sistema/personas/create"]};let Ie=(()=>{class n extends p.Q{constructor(t,i,a,r,d){super(),this.methodsHttp=t,this.act_router=i,this.ngx_spinner=a,this.router=r,this.location=d,this.title="Usuario - ",this.urlSave="",this.search_person="",this.people=[],this.personCurrent=null,this.isloadPersons=!1,this.form=new l.cw({password:new l.NI(""),email:new l.NI(null,[l.kI.required,l.kI.email])}),this.roles=[],this.emails=[],this.isSearchPerson=!1}ngOnInit(){this.init()}loaderDataForCreate(){this.methodsHttp.methodGet("admin/users/create").subscribe(t=>{this.assignData(t.data.roles),this.ngx_spinner.hide()})}getPeople(t){this.people=t.data}selectedPerson(t){var i;const a=this.people.find(r=>r.id==t);if(a){const r=a.contact_info.filter(d=>"corp_email"==d.type);if(r.length>0){this.emails=r.map(C=>C.value);const d=r[0].value;null===(i=this.form.get("email"))||void 0===i||i.setValue(d),this.personCurrent=a}else I.J.swalFire({title:"Error",text:"El usuario no tiene correo electr\xf3nico corporativo",icon:"error",cancelButtonText:"Cerrar",confirmButtonText:"Ir a pagina de la persona "+a.first_name,showCancelButton:!0,showConfirmButton:!0}).then(d=>{d.isConfirmed&&this.router.navigate(["administracion-sistema/personas/edit/"+a.id])});this.isSearchPerson=!1}}generateUrl(){return"admin/users"}assignData(t,i=[]){const a=t.map(r=>Object.assign(Object.assign({},r),{checked:!!i.find(d=>d==r.id)}));this.roles=a}getDataForSendServer(){var t;const i=this.getRoles();if(this.form.valid&&i.length>0){const a=Object.assign(Object.assign({},this.form.value),{roles:i});return"create"==this.status&&(a.person_id=null===(t=this.personCurrent)||void 0===t?void 0:t.id),a}return I.J.swalFire({text:"Faltan datos",icon:"warning"}),null}getRoles(){return this.roles.filter(i=>i.checked).map(i=>i.id)}setData(t){var i,a;if("edit"==this.status)if(null===(i=this.form.get("email"))||void 0===i||i.setValue(t.email),this.assignData(t.roles,t.user.roles),this.personCurrent=t.person,this.personCurrent)if(this.personCurrent.contact_info.length>0){const r=this.personCurrent.contact_info.filter(d=>"corp_email"==d.type);if(r.length>0){this.emails=r.map(C=>C.value);const d=this.emails.find(C=>C==t.user.email)||null;null===(a=this.form.get("email"))||void 0===a||a.setValue(d)}else I.J.swalFire({title:"Error",text:"El usuario no tiene correo electr\xf3nico corporativo o no se a signado una a esta persona",icon:"error",cancelButtonText:"Cerrar",confirmButtonText:"Ir a pagina de la persona "+this.personCurrent.first_name,showCancelButton:!0,showConfirmButton:!0})}else t.user.email&&this.emails.push(t.user.email);else I.J.swalFire({title:"Error",text:"El usuario no tiene una persona asignada por favor cree una persona con este correo "+t.user.email+" y luego asigne esta persona a este usuario",icon:"error",cancelButtonText:"Cerrar",confirmButtonText:"Ir a crear persona ",showCancelButton:!0,showConfirmButton:!0}).then(r=>{r.isConfirmed&&this.router.navigate(["administracion-sistema/personas/create"])})}go(){this.location.back()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.s),e.Y36(_.gz),e.Y36(f.t2),e.Y36(_.F0),e.Y36(s.Ye))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-or-edit"]],features:[e.qOj],decls:41,vars:11,consts:[["mat-raised-button","",1,"btn-add-person","mat-orange",3,"routerLink"],[1,"my-2","font-3xl"],["class","text-danger",4,"ngIf"],[1,"row"],[1,"col-md-6"],[3,"formGroup"],[1,"col-12"],["placeholder","Correo electr\xf3nico","formControlName","email"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Contrase\xf1a","formControlName","password"],[1,"mat-form-padding"],[1,"example-list-section"],["class","col-md-6",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[1,"position-relative","h-100","overflow-hidden"],[1,"d-flex","justify-content-between","align-items-center","w-100"],[1,"font-2xl"],["color","accent","mat-icon-button","",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["templateNotPerson",""],["class","main-style p-2 search-person-content",3,"ngClass",4,"ngIf"],[1,"text-danger"],[3,"value"],[3,"ngModel","ngModelChange"],["color","accent","mat-icon-button","",3,"click"],[1,"d-flex"],[1,"img-person",3,"src"],[1,"m-0"],[1,"table","table-borderless","table-custom"],[3,"ngClass"],[1,"main-style","p-2","search-person-content",3,"ngClass"],["placeholder","Buscador de personas",3,"url","data"],["data","",1,"px-3",2,"height","calc(100% - 108px)","overflow","auto"],["class","my-2",4,"ngFor","ngForOf"],["inputBtn",""],[1,"btn-default",3,"click"],[1,"fas","fa-times"],[1,"my-2"],["align","start"],["mat-button","","color","primary",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div")(1,"button",0)(2,"mat-icon"),e._uU(3,"group_add"),e.qZA(),e._uU(4," Agregar una persona"),e.qZA(),e.TgZ(5,"h1",1),e._uU(6),e.qZA(),e.YNc(7,K,2,1,"small",2),e.TgZ(8,"div",3)(9,"div",4)(10,"mat-card")(11,"mat-card-header")(12,"mat-card-title"),e._uU(13,"Formulario de usuario"),e.qZA()(),e.TgZ(14,"mat-card-content")(15,"form",5)(16,"mat-form-field",6)(17,"mat-select",7),e.YNc(18,ze,2,2,"mat-option",8),e.qZA()(),e.TgZ(19,"mat-form-field",6),e._UZ(20,"input",9),e.qZA()(),e.TgZ(21,"div",10)(22,"span"),e._uU(23,"Roles:"),e.qZA(),e.TgZ(24,"span",11)(25,"ul",3),e.YNc(26,Ke,3,2,"li",12),e.qZA()()(),e.TgZ(27,"button",13),e.NdJ("click",function(){return i.saveInServer()}),e._uU(28,"Guardar"),e.qZA()()()(),e.TgZ(29,"div",4)(30,"mat-card",14)(31,"div")(32,"div")(33,"div",15)(34,"span",16),e._uU(35,"Persona selecciona"),e.qZA(),e.YNc(36,Xe,3,0,"button",17),e.qZA()()(),e.YNc(37,et,58,13,"div",18),e.YNc(38,tt,3,0,"ng-template",null,19,e.W1O),e.YNc(40,ot,7,5,"div",20),e.qZA()()()()),2&t){const a=e.MAs(39);e.xp6(1),e.Q6J("routerLink",e.DdM(10,at)),e.xp6(5),e.Oqu(i.title),e.xp6(1),e.Q6J("ngIf","create"===i.status&&(null==i.personCurrent?null:i.personCurrent.user)),e.xp6(8),e.Q6J("formGroup",i.form),e.xp6(3),e.Q6J("ngForOf",i.emails),e.xp6(8),e.Q6J("ngForOf",i.roles),e.xp6(10),e.Q6J("ngIf","create"===i.status),e.xp6(1),e.Q6J("ngIf",i.personCurrent)("ngIfElse",a),e.xp6(3),e.Q6J("ngIf","create"===i.status)}},dependencies:[s.mk,s.sg,s.O5,_.rH,A.Hw,y.lW,u.a8,u.dk,u.dn,u.n5,u.hq,U.oG,T.KE,q.Nt,D.gD,L.ey,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.On,ye.g,s.uU],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}.btn-close[_ngcontent-%COMP%]{right:53px;top:10px}.input-search[_ngcontent-%COMP%]{height:40px;padding:0 40px 0 20px;font-family:segoe ui;font-size:23px;outline:none;border:rgba(128,128,128,.1) solid 1px}.search-person-content[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100%;height:100%;overflow:auto;transform:translateY(-100%);transition:all .5s ease-in-out}.img-person[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;margin-right:10px}.show-search-person[_ngcontent-%COMP%]{transform:translateY(0);transition:all .5s ease-in-out}.btn-default[_ngcontent-%COMP%]{border:none;width:35px;height:35px;border-radius:50%}.table-custom[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px 14px;background-color:#dadada;border-radius:16px}.table-custom[_ngcontent-%COMP%]{font-size:16px}.btn-add-person[_ngcontent-%COMP%]{position:fixed;right:10px;bottom:10px}"]}),n})();class ce{constructor(){this.ELEMENT_DATA=[],this.dataSource=new c.by(this.ELEMENT_DATA),this.name_spinner="Spinner_table"}refreshDataTable(o){this.ELEMENT_DATA=o,this.dataSource=new c.by(this.ELEMENT_DATA)}loadData(o){this.refreshDataTable(o)}removeItemTable(o){const t=this.ELEMENT_DATA.findIndex(i=>i.id==o);this.ELEMENT_DATA.splice(t,1),this.dataSource=new c.by(this.ELEMENT_DATA)}deleteItem(o){I.J.swalConfirmation("Eliminar","Esta seguro de eliminar "+this.wordMain,"warning").then(t=>{t.isConfirmed?(this.snack_bar.open(`Eliminando ${this.wordMain}  espere ...`),this.s_standart.destory(this.urlDelete+o).subscribe(i=>{i.hasOwnProperty("success")&&i.success?(this.snack_bar.open(" Eliminado con exito","OK",{duration:2e3}),this.removeItemTable(o)):this.snack_bar.open("No se a podido eliminar ","Error",{duration:2e3})},i=>{console.log(i),this.snack_bar.open("No se a podido eliminar ","Error",{duration:2e3})})):Swal})}changePaginator(o){this.headerComponent.searchBar(o)}loaderTable(o){o?this.ngx_spinner.show(this.name_spinner):this.ngx_spinner.hide(this.name_spinner)}}var F=m(8735);function rt(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"#"),e.qZA())}function st(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function lt(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Nombre"),e.qZA())}function ct(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function mt(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Correo"),e.qZA())}function dt(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function pt(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Empresa "),e.qZA())}function ut(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.description," ")}}function _t(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Roles "),e.qZA())}function ht(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.permissions_count," ")}}function ft(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Acciones "),e.qZA())}const gt=function(n){return["./edit",n]};function Ct(n,o){if(1&n&&(e.TgZ(0,"button",16)(1,"mat-icon"),e._uU(2,"edit"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(1,gt,t.id))}}function xt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw();return e.KtG(r.deleteItem(a.id))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA()()}}function Tt(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,Ct,3,3,"button",14),e.YNc(2,xt,3,0,"button",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngxPermissionsOnly",t.permissions.edit),e.xp6(1),e.Q6J("ngxPermissionsOnly",t.permissions.delete)}}function bt(n,o){1&n&&e._UZ(0,"mat-header-row",18)}function Zt(n,o){1&n&&e._UZ(0,"mat-row")}const vt=function(){return["./create"]};function At(n,o){1&n&&(e.ynx(0,19),e.TgZ(1,"mat-chip",20)(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e._uU(4,"\xa0Agregar rol"),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,vt)))}let yt=(()=>{class n extends ce{constructor(t,i,a){super(),this.activated_route=t,this.s_standart=i,this.snack_bar=a,this.displayedColumns=["id","name","title","description","permissions_count","acciones"],this.wordMain="rol",this.urlDelete="admin/roles/"}ngOnInit(){this.activated_route.data.subscribe(t=>{this.permissions=t.permissions.all})}changePaginator(t){this.headerComponent.searchBar(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(F.X),e.Y36(M.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles"]],viewQuery:function(t,i){if(1&t&&e.Gf(S.H,5),2&t){let a;e.iGM(a=e.CRH())&&(i.headerComponent=a.first)}},features:[e.qOj],decls:25,vars:5,consts:[["title","Roles","columns","1","placeholder","Buscar roles",3,"url$","data"],["data",""],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","title"],["matColumnDef","description"],["matColumnDef","permissions_count"],["matColumnDef","acciones"],["style","top:67px",4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["menuBar","",4,"ngxPermissionsOnly"],["mat-icon-button","","color","primary",3,"routerLink",4,"ngxPermissionsOnly"],["mat-icon-button","","color","warn",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-icon-button","","color","warn",3,"click"],[2,"top","67px"],["menuBar",""],[1,"mat-btn-add","ml-1",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"app-search-template",0),e.NdJ("data",function(r){return i.loadData(r)}),e.ynx(2,1),e.TgZ(3,"mat-table",2),e.ynx(4,3),e.YNc(5,rt,2,0,"mat-header-cell",4),e.YNc(6,st,2,1,"mat-cell",5),e.BQk(),e.ynx(7,6),e.YNc(8,lt,2,0,"mat-header-cell",4),e.YNc(9,ct,2,1,"mat-cell",5),e.BQk(),e.ynx(10,7),e.YNc(11,mt,2,0,"mat-header-cell",4),e.YNc(12,dt,2,1,"mat-cell",5),e.BQk(),e.ynx(13,8),e.YNc(14,pt,2,0,"mat-header-cell",4),e.YNc(15,ut,2,1,"mat-cell",5),e.BQk(),e.ynx(16,9),e.YNc(17,_t,2,0,"mat-header-cell",4),e.YNc(18,ht,2,1,"mat-cell",5),e.BQk(),e.ynx(19,10),e.YNc(20,ft,2,0,"mat-header-cell",4),e.YNc(21,Tt,3,2,"mat-cell",5),e.BQk(),e.YNc(22,bt,1,0,"mat-header-row",11),e.YNc(23,Zt,1,0,"mat-row",12),e.qZA(),e.BQk(),e.YNc(24,At,5,2,"ng-container",13),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("url$","admin/roles"),e.xp6(2),e.Q6J("dataSource",i.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngxPermissionsOnly",i.permissions.create))},dependencies:[_.rH,A.Hw,y.lW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,h.gE,x.HS,R._]}),n})();var ke=m(85812);class kt{constructor(){this.permissions=[]}}function Et(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Nombre Requerido"),e.qZA())}function wt(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Slug Requerido"),e.qZA())}function qt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"span"),e._uU(2),e.TgZ(3,"small"),e._uU(4),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"small"),e._uU(7),e.qZA()(),e.TgZ(8,"span",24),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.transferDataItem(r.id))}),e.TgZ(9,"mat-icon",25),e._uU(10,"add"),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij("",t.title,". "),e.xp6(2),e.hij("(",null==t?null:t.description,")"),e.xp6(3),e.hij("(",null==t?null:t.name,")")}}function Ot(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"span"),e._uU(2),e.TgZ(3,"small"),e._uU(4),e.qZA()(),e.TgZ(5,"span",27),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.returnItem(r.id))}),e.TgZ(6,"mat-icon",25),e._uU(7,"reply"),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(2),e.hij("",t.title,"."),e.xp6(2),e.hij("(",null==t?null:t.description,")")}}let _e=(()=>{class n{constructor(t,i,a,r,d){this.ngx_spinner=t,this.activated_route=i,this.s_standart=a,this.location=r,this.router=d,this.form_rol=new l.cw({title:new l.NI(null,[l.kI.required]),name:new l.NI(null,[l.kI.required]),description:new l.NI(null),guard_name:new l.NI("user")}),this.state="create",this.title="Creando ROL",this.permissions=[],this.permission_filter=[],this.search_permission="",this.role=new kt}ngOnInit(){this.ngx_spinner.show(),this.activated_route.data.subscribe(t=>{if(t.isEdit){this.title="Editando Rol",this.state="edit";const i=Number.parseInt(this.activated_route.snapshot.paramMap.get("id"));this.s_standart.show("admin/roles/"+i+"/edit").subscribe(a=>{var r;this.permissions=a.data.permissions,this.permission_filter=this.permissions,this.role=a.data.role;const{name:d,title:C,description:O,guard_name:E}=this.role;this.form_rol.setValue({name:d,title:C,description:O,guard_name:E}),null===(r=this.role.permissions)||void 0===r||r.forEach(w=>{this.iniciatePermissions(w.id)}),this.ngx_spinner.hide()})}else this.s_standart.show("admin/roles/create").subscribe(i=>{this.permissions=i.data,this.permission_filter=this.permissions,this.ngx_spinner.hide()})})}drop(t){t.previousContainer===t.container?(0,ke.bA)(t.container.data,t.previousIndex,t.currentIndex):(0,ke.EA)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}returnItem(t){var i,a;const r=null===(i=this.role.permissions)||void 0===i?void 0:i.findIndex(d=>d.id==t);-1!=r&&(this.permissions.push(this.role.permissions[r]),null===(a=this.role.permissions)||void 0===a||a.splice(r,1),this.permissionsFilter())}permissionsFilter(){this.permission_filter=null!==this.search_permission.trim()?this.permissions.filter(t=>t.title.toUpperCase().includes(this.search_permission.toUpperCase())):this.permissions}transferDataItem(t){var i;const a=this.permissions.findIndex(r=>r.id==t);-1!=a&&(null===(i=this.role.permissions)||void 0===i||i.push(this.permissions[a]),this.permissions.splice(a,1),this.permissionsFilter())}iniciatePermissions(t){const i=this.permissions.findIndex(a=>a.id==t);-1!=i&&this.permissions.splice(i,1)}saveInServer(){if("create"==this.state){const t=this.captureData();t&&(this.ngx_spinner.show(),this.s_standart.store("admin/roles",t).subscribe(()=>{this.ngx_spinner.hide(),this.router.navigate(["administracion-sistema/roles"])}))}else if("edit"==this.state){const t=this.captureData();t&&this.s_standart.updatePut("admin/roles/"+this.role.id,t).subscribe(()=>{this.ngx_spinner.hide(),this.router.navigate(["administracion-sistema/roles"])})}}captureData(){var t,i;if(this.form_rol.invalid)return this.form_rol.markAllAsTouched(),I.J.swalToast("Tiene campos por llenar","warning"),!1;let a;return(null===(t=this.role.permissions)||void 0===t?void 0:t.length)&&(null===(i=this.role.permissions)||void 0===i?void 0:i.length)>0&&(a=this.role.permissions.map(r=>r.id)),Object.assign({permissions:a},this.form_rol.value)}goBack(){this.location.back()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.t2),e.Y36(_.gz),e.Y36(F.X),e.Y36(s.Ye),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-or-edit-roles"]],decls:42,vars:7,consts:[[1,"mt-4"],[1,"d-flex","align-items-center"],["mat-mini-fab","",1,"mb-2",3,"click"],[1,"font-4xl"],[1,"rounded-fz"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],["matInput","","formControlName","title","type","text","required",""],[4,"ngIf"],[1,"col-md-6"],["type","text","matInput","","formControlName","name","required",""],["matInput","","formControlName","description"],[1,"col-md-6","border-right"],[1,"font-2xl"],[1,"col-12","d-flex","align-items-center","justify-content-end","mb-3"],["type","search","placeholder","Escriba el permiso a buscar",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"position-absolute"],[1,"example-list"],["class","font-weight-bolder example-box shadow-sm",4,"ngFor","ngForOf"],[1,"col-md-6","sticky-top",2,"z-index","10"],["class","example-box shadow-sm",4,"ngFor","ngForOf"],["color","primary","mat-raised-button","",3,"click"],[1,"font-weight-bolder","example-box","shadow-sm"],[1,"badge","badge-success",3,"click"],[1,"mat-18"],[1,"example-box","shadow-sm"],[1,"badge","badge-info",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return i.goBack()}),e.TgZ(3,"mat-icon"),e._uU(4,"keyboard_return"),e.qZA()(),e.TgZ(5,"span",3),e._uU(6),e.qZA()(),e.TgZ(7,"mat-card",4)(8,"mat-card-content")(9,"form",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Nombres"),e.qZA(),e._UZ(14,"input",8),e.YNc(15,Et,2,0,"mat-error",9),e.qZA(),e.TgZ(16,"mat-form-field",10)(17,"mat-label"),e._uU(18,"Slug"),e.qZA(),e._UZ(19,"input",11),e.YNc(20,wt,2,0,"mat-error",9),e.qZA(),e.TgZ(21,"mat-form-field",10)(22,"mat-label"),e._uU(23,"Descripcion"),e.qZA(),e._UZ(24,"input",12),e.qZA()()(),e.TgZ(25,"div",6)(26,"div",13)(27,"h2",14),e._uU(28,"Permisos"),e.qZA(),e.TgZ(29,"div",15)(30,"input",16),e.NdJ("ngModelChange",function(r){return i.search_permission=r})("keyup",function(){return i.permissionsFilter()}),e.qZA(),e.TgZ(31,"mat-icon",17),e._uU(32,"search"),e.qZA()(),e.TgZ(33,"div",18),e.YNc(34,qt,11,3,"div",19),e.qZA()(),e.TgZ(35,"div",20)(36,"h2",14),e._uU(37,"Permisos otorgados"),e.qZA(),e.TgZ(38,"div",18),e.YNc(39,Ot,8,2,"div",21),e.qZA(),e.TgZ(40,"button",22),e.NdJ("click",function(){return i.saveInServer()}),e._uU(41,"Guardar"),e.qZA()()()()()()),2&t&&(e.xp6(6),e.hij(" \xa0",i.title," "),e.xp6(3),e.Q6J("formGroup",i.form_rol),e.xp6(6),e.Q6J("ngIf",i.form_rol.controls.title.invalid),e.xp6(5),e.Q6J("ngIf",i.form_rol.controls.name.invalid),e.xp6(10),e.Q6J("ngModel",i.search_permission),e.xp6(4),e.Q6J("ngForOf",i.permission_filter),e.xp6(5),e.Q6J("ngForOf",null==i.role?null:i.role.permissions))},dependencies:[s.sg,s.O5,A.Hw,y.lW,u.a8,u.dn,T.TO,T.KE,T.hX,q.Nt,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,l.On],styles:[".example-container[_ngcontent-%COMP%]{width:40%;max-width:100%;margin:0 25px 25px 0;display:inline-block;vertical-align:top}.example-list[_ngcontent-%COMP%]{min-height:60px;border-radius:4px;overflow:hidden;display:block}.example-box[_ngcontent-%COMP%]{padding:10px;margin-bottom:5px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;font-size:14px}.badge[_ngcontent-%COMP%]{cursor:pointer}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),n})();var B=m(48966);class Dt{}function Nt(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Nombre Requerido"),e.qZA())}function Ut(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Codigo Requerido"),e.qZA())}let It=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.form_country=new l.cw({name:new l.NI("",l.kI.required),code:new l.NI("",l.kI.required)}),this.country=new Dt,this.state=i.action.state}ngOnInit(){"edit"==this.state&&(this.country=this.data.country,this.form_country.setValue({name:this.country.name,code:this.country.code}))}saveInServer(){var t,i;this.country.name=null===(t=this.form_country.get("name"))||void 0===t?void 0:t.value,this.country.code=null===(i=this.form_country.get("code"))||void 0===i?void 0:i.value,this.dialogRef.close({action:this.state,data:this.country})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.so),e.Y36(B.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-or-edit-country"]],decls:20,vars:5,consts:[["mat-dialog-content",""],["mat-dialog-title","",1,"font-5xl","font-facebook","list-group-item-accent-warning","pl-2"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],["matInput","","formControlName","name","type","text","required",""],[4,"ngIf"],["type","text","matInput","","formControlName","code","required",""],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","","color","primary",3,"disabled","click"],["mat-button","","mat-dialog-close","","color","warn"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"form",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),e._uU(7,"Nombres"),e.qZA(),e._UZ(8,"input",5),e.YNc(9,Nt,2,0,"mat-error",6),e.qZA(),e.TgZ(10,"mat-form-field",4)(11,"mat-label"),e._uU(12,"Codigo"),e.qZA(),e._UZ(13,"input",7),e.YNc(14,Ut,2,0,"mat-error",6),e.qZA()()()(),e.TgZ(15,"div",8)(16,"button",9),e.NdJ("click",function(){return i.saveInServer()}),e._uU(17,"Guardar"),e.qZA(),e.TgZ(18,"button",10),e._uU(19,"Cancelar"),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",i.data.action.title,""),e.xp6(1),e.Q6J("formGroup",i.form_country),e.xp6(6),e.Q6J("ngIf",i.form_country.controls.name.invalid),e.xp6(5),e.Q6J("ngIf",i.form_country.controls.code.invalid),e.xp6(2),e.Q6J("disabled",i.form_country.invalid))},dependencies:[s.O5,y.lW,T.TO,T.KE,T.hX,q.Nt,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,B.ZT,B.uh,B.xY,B.H8]}),n})();function Mt(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"#"),e.qZA())}function Qt(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function St(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Pais"),e.qZA())}function Jt(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function Ft(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Codigo"),e.qZA())}function Pt(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.code," ")}}function Yt(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Creado "),e.qZA())}function Lt(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.created_at," ")}}function Rt(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Acciones "),e.qZA())}function Bt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw();return e.KtG(r.createCountry(!0,a.id))}),e.TgZ(1,"mat-icon"),e._uU(2,"edit"),e.qZA()()}}function Ht(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw();return e.KtG(r.deleteItem(a.id))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA()()}}const Vt=function(n){return["./",n,"ciudades"]};function Wt(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,Bt,3,0,"button",13),e.YNc(2,Ht,3,0,"button",14),e.TgZ(3,"mat-chip",15),e._uU(4,"Ver cuidades"),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngxPermissionsOnly",i.permission_edit),e.xp6(1),e.Q6J("ngxPermissionsOnly",i.permission_destroy),e.xp6(1),e.Q6J("selected",!0)("routerLink",e.VKq(4,Vt,t.id))}}function jt(n,o){1&n&&e._UZ(0,"mat-header-row",18)}function $t(n,o){1&n&&e._UZ(0,"mat-row")}function Gt(n,o){if(1&n){const t=e.EpF();e.ynx(0,19),e.TgZ(1,"mat-chip",20),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.createCountry())}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e._uU(4," \xa0 Agregar pa\xeds "),e.qZA(),e.BQk()}}let zt=(()=>{class n{constructor(t,i,a){this.s_standart=t,this.snack_bar=i,this.dialog=a,this.displayedColumns=["id","name","code","created_at","acciones"],this.ELEMENT_DATA=[],this.permission_create=["super-admin","admin.users.create"],this.permission_edit=["super-admin","admin.users.edit"],this.permission_destroy=["super-admin","admin.users.destroy"],this.dataSource=new c.by(this.ELEMENT_DATA)}ngOnInit(){}refreshDataTable(t){this.ELEMENT_DATA=t,this.dataSource=new c.by(this.ELEMENT_DATA)}deleteItem(t){I.J.swalConfirmation("Eliminar","Esta seguro de eliminar este usuario","warning").then(i=>{i.isConfirmed?(this.snack_bar.open("Eliminando usuario espere ..."),this.s_standart.destory("admin/countries/"+t).subscribe(a=>{a.hasOwnProperty("success")&&a.success?(this.snack_bar.open("Usuario Eliminado con exito","OK",{duration:2e3}),this.removeItemTable(t)):this.snack_bar.open("No se a podido eliminar ","Error",{duration:2e3})},a=>{console.log(a),this.snack_bar.open("No se a podido eliminar ","Error",{duration:2e3})})):Swal})}removeItemTable(t){const i=this.ELEMENT_DATA.findIndex(a=>a.id==t);this.ELEMENT_DATA.splice(i,1),this.dataSource=new c.by(this.ELEMENT_DATA)}loadData(t){this.refreshDataTable(t)}changePaginator(t){this.headerComponent.searchBar(t)}createCountry(t=!1,i=0){let a="Creando Pais",r="create",d=null;if(t){a="Editando Pais",r="edit";const C=this.ELEMENT_DATA.findIndex(O=>O.id==i);if(-1==C)return;d=this.ELEMENT_DATA[C]}this.dialog.open(It,{data:{action:{title:a,state:r},country:d}}).beforeClosed().subscribe(C=>{C&&(this.snack_bar.open("Espere gestionando..."),"edit"==C.action?this.s_standart.updatePut("admin/countries/"+C.data.id,C.data).subscribe(()=>{this.snack_bar.open("Pais Editado con \xe9xito","OK",{duration:2e3})}):this.s_standart.store("admin/countries",C.data).subscribe(O=>{this.snack_bar.open("Pa\xeds creado con \xe9xito","OK",{duration:2e3}),this.ELEMENT_DATA.push(O.data),this.dataSource=new c.by(this.ELEMENT_DATA)}))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F.X),e.Y36(M.ux),e.Y36(B.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-paises"]],viewQuery:function(t,i){if(1&t&&e.Gf(S.H,5),2&t){let a;e.iGM(a=e.CRH())&&(i.headerComponent=a.first)}},decls:22,vars:7,consts:[["title","Pa\xedses","placeholder","Buscar pa\xeds",3,"columns","url$","data"],["data",""],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","code"],["matColumnDef","created_at"],["matColumnDef","acciones"],["style","top:67px",4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["menuBar","",4,"ngxPermissionsOnly"],["mat-icon-button","","color","primary",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","color","warn",3,"click",4,"ngxPermissionsOnly"],["routerLinkActive","router-link-active","color","accent",3,"selected","routerLink"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],[2,"top","67px"],["menuBar",""],[1,"mat-btn-add","ml-1",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"app-search-template",0),e.NdJ("data",function(r){return i.loadData(r)}),e.ynx(2,1),e.TgZ(3,"mat-table",2),e.ynx(4,3),e.YNc(5,Mt,2,0,"mat-header-cell",4),e.YNc(6,Qt,2,1,"mat-cell",5),e.BQk(),e.ynx(7,6),e.YNc(8,St,2,0,"mat-header-cell",4),e.YNc(9,Jt,2,1,"mat-cell",5),e.BQk(),e.ynx(10,7),e.YNc(11,Ft,2,0,"mat-header-cell",4),e.YNc(12,Pt,2,1,"mat-cell",5),e.BQk(),e.ynx(13,8),e.YNc(14,Yt,2,0,"mat-header-cell",4),e.YNc(15,Lt,2,1,"mat-cell",5),e.BQk(),e.ynx(16,9),e.YNc(17,Rt,2,0,"mat-header-cell",4),e.YNc(18,Wt,5,6,"mat-cell",5),e.BQk(),e.YNc(19,jt,1,0,"mat-header-row",10),e.YNc(20,$t,1,0,"mat-row",11),e.qZA(),e.BQk(),e.YNc(21,Gt,5,0,"ng-container",12),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("columns",1)("url$","admin/countries"),e.xp6(2),e.Q6J("dataSource",i.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngxPermissionsOnly",i.permission_create))},dependencies:[_.rH,_.Od,A.Hw,y.lW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,h.gE,x.HS,R._]}),n})();function Kt(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"span",14),e._UZ(2,"br")(3,"i",15),e._uU(4),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",t.person.user.email," ")}}const Xt=function(n){return["./edit",n]};function en(n,o){if(1&n&&(e.TgZ(0,"button",16)(1,"mat-icon"),e._uU(2,"edit"),e.qZA()()),2&n){const t=e.oxw();e.Q6J("routerLink",e.VKq(1,Xt,t.person.id))}}function tn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.emitDelete())}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA()()}}let nn=(()=>{class n{constructor(){this.delete=new e.vpe}ngOnInit(){}emitDelete(){this.delete.emit(this.person.id)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-person"]],inputs:{permission:"permission",person:"person"},outputs:{delete:"delete"},decls:25,vars:16,consts:[[1,"container-img-avatar"],["alt","image user",1,"rounded-circle","shadow",3,"src"],[1,"text-center","mt-2","text-success"],[1,"card-body","text-center","pt-2"],[1,"m-0","text-center","text-black-50"],[1,"text-muted"],[1,"font-lg","mt-2","text-capitalize"],[1,"fas","fa-birthday-cake"],[1,"fas","fa-map-marked-alt"],[4,"ngIf"],[1,"px-1","pb-1"],[1,"text-center"],["mat-mini-fab","","color","primary",3,"routerLink",4,"ngxPermissionsOnly"],["mat-mini-fab","","color","warn",3,"click",4,"ngxPermissionsOnly"],[1,"text-lowercase"],[1,"far","fa-envelope"],["mat-mini-fab","","color","primary",3,"routerLink"],["mat-mini-fab","","color","warn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"div",0),e._UZ(2,"img",1),e.qZA(),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",3)(6,"h2",4),e._uU(7),e.ALo(8,"uppercase"),e.ALo(9,"uppercase"),e.qZA(),e.TgZ(10,"div",5),e._uU(11),e.qZA(),e.TgZ(12,"div")(13,"div",6),e._UZ(14,"i",7),e._uU(15),e.ALo(16,"date"),e._UZ(17,"br")(18,"i",8),e._uU(19),e.YNc(20,Kt,5,1,"ng-container",9),e.qZA()()(),e.TgZ(21,"div",10)(22,"div",11),e.YNc(23,en,3,3,"button",12),e.YNc(24,tn,3,0,"button",13),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("src",null!=i.person.photo&&i.person.photo.permalink?i.person.photo.permalink:"assets/img/avatars/profile-user.svg",e.LSH),e.xp6(2),e.hij(" ",i.person.position.name," "),e.xp6(3),e.AsE("",e.lcZ(8,10,i.person.first_name)," ",e.lcZ(9,12,i.person.last_name),""),e.xp6(4),e.Oqu(i.person.city.name),e.xp6(4),e.hij(" ",e.lcZ(16,14,i.person.birthday)," "),e.xp6(4),e.hij(" ",i.person.location.name," "),e.xp6(1),e.Q6J("ngIf",i.person.user),e.xp6(3),e.Q6J("ngxPermissionsOnly",i.permission.edit),e.xp6(1),e.Q6J("ngxPermissionsOnly",i.permission.delete))},dependencies:[s.O5,_.rH,A.Hw,y.lW,h.gE,s.gd,s.uU],styles:[".container-img-avatar[_ngcontent-%COMP%]{width:70%;padding-top:70%;position:relative;text-align:center;margin:auto}.container-img-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;margin:auto;text-align:center}"]}),n})();function on(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card",4)(1,"app-person",5),e.NdJ("delete",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.deletePerson(a))}),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("permission",i.permissions)("person",t)}}const an=function(){return["./create"]};function rn(n,o){1&n&&(e.ynx(0,6),e.TgZ(1,"mat-chip",7)(2,"mat-icon"),e._uU(3,"person_add_alt"),e.qZA(),e._uU(4,"\xa0 Agregar persona"),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,an)))}let sn=(()=>{class n{constructor(t,i){this.router_active=t,this.s_standart=i,this.peoples=[],this.isLoading=!1}ngOnInit(){this.router_active.data.subscribe(t=>{this.permissions=t.permissions.all})}deletePerson(t){I.J.swalConfirmation("Eliminar Item","Seguro que desea eliminar este item","warning").then(i=>{i.isConfirmed&&this.s_standart.destory("admin/people/"+t).subscribe(a=>{if(a.hasOwnProperty("success")&&a.success){const r=this.peoples.findIndex(d=>d.id==t);-1!=r&&this.peoples.splice(r,1)}})})}loadData(t){this.peoples=t}changePaginator(t){this.headerComponent.searchBar(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(F.X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-personas"]],viewQuery:function(t,i){if(1&t&&e.Gf(S.H,5),2&t){let a;e.iGM(a=e.CRH())&&(i.headerComponent=a.first)}},decls:5,vars:3,consts:[["title","Personas","placeholder","Escriba la persona a buscar",3,"url$","data"],["data",""],["class","card border-0",4,"ngFor","ngForOf"],["menuBar","",4,"ngxPermissionsOnly"],[1,"card","border-0"],[3,"permission","person","delete"],["menuBar",""],[1,"ml-1","mat-btn-add",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"app-search-template",0),e.NdJ("data",function(r){return i.loadData(r)}),e.ynx(2,1),e.YNc(3,on,2,2,"mat-card",2),e.BQk(),e.YNc(4,rn,5,2,"ng-container",3),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("url$","admin/people"),e.xp6(2),e.Q6J("ngForOf",i.peoples),e.xp6(1),e.Q6J("ngxPermissionsOnly",i.permissions.create))},dependencies:[s.sg,_.rH,A.Hw,h.gE,u.a8,x.HS,R._,nn],styles:["@media (min-width: 1200px){.card-columns[_ngcontent-%COMP%]{column-count:4}}"]}),n})();var ln=m(48715),ee=m(86856),he=m(92081),Me=m(8007);const cn=["photoUserInput"],mn=["stepper"];function dn(n,o){1&n&&e._uU(0,"Formulario de persona")}function pn(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Nombres Requerido"),e.qZA())}function un(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Apellidos Requerido"),e.qZA())}function _n(n,o){if(1&n&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("value",t),e.xp6(1),e.hij("",i.id_types[t]," ")}}function hn(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Tipo de identificaci\xf3n Requerido "),e.qZA())}function fn(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"N\xfamero de identificaci\xf3n Requerido "),e.qZA())}function gn(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Fecha de nacimiento Requerido"),e.qZA())}function Cn(n,o){if(1&n&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("value",t),e.xp6(1),e.hij("",i.sexes[t]," ")}}function xn(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Sexo Requerido"),e.qZA())}function Tn(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Fecha de inicio laboral Requerido"),e.qZA())}function bn(n,o){if(1&n&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("value",t),e.xp6(1),e.hij("",i.cities[t]," ")}}function Zn(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Cuidad Requerido"),e.qZA())}function vn(n,o){if(1&n&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("value",t),e.xp6(1),e.hij(" ",i.positions[t],"")}}function An(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Departamento Requerido"),e.qZA())}function yn(n,o){if(1&n&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("value",t),e.xp6(1),e.hij(" ",i.locations[t],"")}}function kn(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Departamento Requerido"),e.qZA())}function En(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",46),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearPhoto())}),e.TgZ(2,"mat-icon",47),e._uU(3,"close"),e.qZA()(),e._UZ(4,"img",48),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("src",t.photo,e.LSH)}}function wn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.goInfo())}),e._uU(1,"Gestionar datos de la persona"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.isloadperson)}}function qn(n,o){1&n&&e._uU(0,"Datos de persona")}function On(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-chip-list")(1,"mat-chip",50),e.NdJ("removed",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.asCreateInfo())}),e._uU(2),e.TgZ(3,"mat-icon",51),e._uU(4,"cancel"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("removable",!0),e.xp6(1),e.hij(" Editando #",null==t.itemCurrentForEdit?null:t.itemCurrentForEdit.id," ")}}function Dn(n,o){if(1&n&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("value",t),e.xp6(1),e.hij(" ",i.types[t],"")}}function Nn(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Tipo Requerido"),e.qZA())}function Un(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Valor Requerido"),e.qZA())}function In(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",2),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.editItemCurrent(r.id))}),e.TgZ(9,"mat-icon"),e._uU(10,"edit"),e.qZA()(),e.TgZ(11,"button",52),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.deleteItem(r.id))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.value)}}let Qe=(()=>{class n{constructor(t,i,a){this.router_active=t,this.s_standart=i,this.location=a,this.maxDateBirthDay=new Date,this.maxDate=new Date,this.title="Creando nueva Persona",this.state="create",this.cities={},this.positions={},this.locations={},this.sexes={},this.id_types={},this.types={},this.person=new ln.V,this.isloadperson=!1,this.isCompletedFormPerson=!1,this.isloadContact=!1,this.infoAndContact=[],this.stateInfoAndContact="create",this.form_person=new l.cw({first_name:new l.NI(null,[l.kI.required]),last_name:new l.NI(null,[l.kI.required]),identification_type:new l.NI(null,[l.kI.required]),identification_number:new l.NI(null,[l.kI.required]),birthday:new l.NI(null,[l.kI.required]),sex:new l.NI(null,[l.kI.required]),start_date:new l.NI(this.maxDate,[l.kI.required]),city_id:new l.NI(null,[l.kI.required]),department_position_id:new l.NI(null,[l.kI.required]),location_id:new l.NI(null,[l.kI.required])}),this.form_data_person=new l.cw({type:new l.NI(null,l.kI.required),value:new l.NI(null,l.kI.required)})}ngOnInit(){this.maxDateBirthDay.setFullYear(this.maxDate.getFullYear()-18),this.router_active.data.subscribe(t=>{if(t.isEdit){this.isloadperson=!0,this.state="edit",this.title="Editando Persona";const i=Number.parseInt(this.router_active.snapshot.paramMap.get("id"));this.s_standart.show("admin/people/"+i+"/edit").subscribe(r=>{r.hasOwnProperty("success")&&r.success&&this.setDataDefault(r.data),this.isloadperson=!1})}else this.s_standart.show("admin/people/create").subscribe(i=>{i.hasOwnProperty("success")&&i.success&&this.setDataDefault(i.data)})})}goInfo(){this.isCompletedFormPerson=!0,this.stepper.selected.completed=!0,this.stepper.next(),this.s_standart.show("admin/people/"+this.person.id+"/contact-info").subscribe(t=>{t.hasOwnProperty("success")&&t.success&&(this.infoAndContact=t.data.info,this.person=t.data.person,this.types=t.data.types)})}createFormData(){const t=this.form_person.value;t.start_date=this.s_standart.formatDate(t.start_date),t.birthday=this.s_standart.formatDate(t.birthday);const i=new FormData;return i.append("first_name",t.first_name),i.append("last_name",t.last_name),i.append("identification_type",t.identification_type),i.append("identification_number",t.identification_number),i.append("birthday",t.birthday),i.append("sex",t.sex),i.append("start_date",t.start_date),i.append("city_id",t.city_id),i.append("department_position_id",t.department_position_id),i.append("location_id",t.location_id),this.photo&&this.file_img&&i.append("file",this.file_img),i}setDataDefault(t){if(this.cities=t.cities,this.positions=t.positions,this.locations=t.locations,this.sexes=t.sexes,this.id_types=t.id_types,"edit"==this.state){const{first_name:i,last_name:a,identification_type:r,identification_number:d,birthday:C,sex:O,start_date:E,city_id:w,department_position_id:v,location_id:N}=t.person;this.form_person.setValue({first_name:i,last_name:a,identification_type:r,identification_number:d,birthday:C,sex:O,start_date:E,city_id:w.toString(),department_position_id:v.toString(),location_id:N.toString()}),this.person=t.person,t.person.photo&&(this.photo=t.person.photo.permalink)}}saveInServerPerson(){if("create"==this.state)if(this.form_person.valid){this.isloadperson=!0;const t=this.createFormData();this.s_standart.uploadFormData("admin/people",t).subscribe(i=>{i.hasOwnProperty("success")&&i.success&&(this.person=i.data.person,this.types=i.data.types,this.isCompletedFormPerson=!0,this.stepper.selected.completed=!0,this.stepper.next()),this.isloadperson=!1},()=>{this.isloadperson=!1})}else this.form_person.markAllAsTouched();else if("edit"==this.state)if(this.form_person.valid){this.isloadperson=!0;const t=this.createFormData();t.append("_method","put"),this.s_standart.uploadFormData("admin/people/"+this.person.id,t).subscribe(i=>{i.hasOwnProperty("success")&&i.success&&(this.person=i.data.person,this.types=i.data.types,this.infoAndContact=i.data.info,this.isCompletedFormPerson=!0,this.stepper.selected.completed=!0,this.stepper.next()),this.isloadperson=!1},()=>{this.isloadperson=!1})}else this.form_person.markAllAsTouched()}saveInServerInfo(){"create"==this.stateInfoAndContact?this.form_data_person.valid&&(this.isloadContact=!0,this.s_standart.store("admin/people/"+this.person.id+"/contact-info",Object.assign({},this.form_data_person.value)).subscribe(t=>{null!=t&&t.success?(this.infoAndContact.push(t.data),this.asCreateInfo()):I.J.swalToast("Ups! Sucedio un error intentalo luego"),this.isloadContact=!1},t=>{this.isloadContact=!1,console.log(t)})):"edit"==this.stateInfoAndContact&&this.form_data_person.valid&&(this.isloadContact=!0,this.s_standart.updatePut("admin/people/"+this.person.id+"/contact-info/"+this.itemCurrentForEdit.id,Object.assign({},this.form_data_person.value)).subscribe(t=>{this.isloadContact=!1;const i=this.infoAndContact.findIndex(a=>a.id==t.data.id);this.infoAndContact[i]=t.data,this.asCreateInfo()},t=>{this.isloadContact=!1,console.log(t)}))}getBase64FromFile(t,i){let a=new FileReader;a.addEventListener("load",r=>{i(a.result)}),a.readAsDataURL(t)}uploadImg(t){this.file_img=t.target.files[0],this.getBase64FromFile(this.file_img,i=>{this.photo=i})}goBack(){this.location.back()}editItemCurrent(t){this.itemCurrentForEdit=this.infoAndContact.find(r=>r.id==t);const{type:i,value:a}=this.itemCurrentForEdit;this.form_data_person.setValue({type:i,value:a}),this.stateInfoAndContact="edit"}deleteItem(t){I.J.swalConfirmation("Eliminar Item","Seguro que desea eliminar este item","warning").then(i=>{i.isConfirmed&&this.s_standart.destory("admin/people/"+this.person.id+"/contact-info/"+t).subscribe(a=>{if(a.hasOwnProperty("success")&&a.success){const r=this.infoAndContact.findIndex(d=>d.id==t);-1!=r&&this.infoAndContact.splice(r,1)}})})}asCreateInfo(){this.stateInfoAndContact="create",this.form_data_person.reset()}clearPhoto(){this.photoUserInput.nativeElement.value="",this.photo=null,this.file_img=null}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(F.X),e.Y36(s.Ye))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-or-edit-person"]],viewQuery:function(t,i){if(1&t&&(e.Gf(cn,5),e.Gf(mn,5)),2&t){let a;e.iGM(a=e.CRH())&&(i.photoUserInput=a.first),e.iGM(a=e.CRH())&&(i.stepper=a.first)}},decls:131,vars:51,consts:[[1,"mt-4"],[1,"font-5xl","d-flex","align-items-center"],["mat-mini-fab","",3,"click"],["linear",""],["stepper",""],[3,"completed","editable"],[1,"rounded-fz","border-0","card-body",3,"formGroup"],["matStepLabel",""],[1,"row"],[1,"col-md-6"],["matInput","","formControlName","first_name","type","text","required",""],[4,"ngIf"],["matInput","","formControlName","last_name","type","text","required",""],["formControlName","identification_type","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","identification_number","type","text","required",""],["matInput","","formControlName","birthday",3,"max","matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["dp4",""],["formControlName","sex","required",""],["matInput","","formControlName","start_date",3,"max","matDatepicker"],["dp3",""],[1,"col-12","font-2xl","mt-2","mb-4"],["formControlName","city_id","required",""],["formControlName","department_position_id","required",""],["formControlName","location_id","required",""],[1,"form-group","col-12"],["for","foto"],["id","foto","accept",".png,.jpeg,.jpg","type","file","name","",1,"form-control-file",3,"change"],["photoUserInput",""],[1,"col-md-3","col-6","mb-3"],["color","primary","mat-raised-button","","type","button",3,"disabled","click"],["color","accent","mat-raised-button","","color","accent","type","button",3,"disabled","click",4,"ngIf"],[3,"editable"],[3,"formGroup","ngSubmit"],[1,"col-12"],[1,"m-0"],["formControlName","type","required",""],[1,"col-md-12"],["matInput","","formControlName","value","type","text","required",""],[1,"my-3"],["mat-raised-button","","type","submit",3,"color","disabled"],[1,"table",2,"background","inherit","color","inherit"],[4,"ngFor","ngForOf"],[3,"value"],["mat-mini-fab","",1,"position-absolute","m-1",3,"click"],[1,"mat-18"],["alt","imagen de usuario",1,"w-100",3,"src"],["color","accent","mat-raised-button","","color","accent","type","button",3,"disabled","click"],[1,"bg-blue","parpadeo","text-white",3,"removable","removed"],["matChipRemove",""],["mat-mini-fab","","color","accent","color","warn",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"h2",1)(2,"button",2),e.NdJ("click",function(){return i.goBack()}),e.TgZ(3,"mat-icon"),e._uU(4,"keyboard_backspace"),e.qZA()(),e._uU(5),e.qZA(),e.TgZ(6,"mat-horizontal-stepper",3,4)(8,"mat-step",5)(9,"form",6),e.YNc(10,dn,1,0,"ng-template",7),e.TgZ(11,"div",8)(12,"mat-form-field",9)(13,"mat-label"),e._uU(14,"Nombres"),e.qZA(),e._UZ(15,"input",10),e.YNc(16,pn,2,0,"mat-error",11),e.qZA(),e.TgZ(17,"mat-form-field",9)(18,"mat-label"),e._uU(19,"Apellidos"),e.qZA(),e._UZ(20,"input",12),e.YNc(21,un,2,0,"mat-error",11),e.qZA(),e.TgZ(22,"mat-form-field",9)(23,"mat-label"),e._uU(24,"Tipo de identificaci\xf3n"),e.qZA(),e.TgZ(25,"mat-select",13),e.YNc(26,_n,2,2,"mat-option",14),e.ALo(27,"keysObjectToArray"),e.qZA(),e.YNc(28,hn,2,0,"mat-error",11),e.qZA(),e.TgZ(29,"mat-form-field",9)(30,"mat-label"),e._uU(31,"N\xfamero de identificaci\xf3n"),e.qZA(),e._UZ(32,"input",15),e.YNc(33,fn,2,0,"mat-error",11),e.qZA(),e.TgZ(34,"mat-form-field",9)(35,"mat-label"),e._uU(36,"Fecha de nacimiento "),e.TgZ(37,"small"),e._uU(38,"(d/m/yyyy)"),e.qZA()(),e._UZ(39,"input",16)(40,"mat-datepicker-toggle",17)(41,"mat-datepicker",18,19),e.YNc(43,gn,2,0,"mat-error",11),e.qZA(),e.TgZ(44,"mat-form-field",9)(45,"mat-label"),e._uU(46,"Sexo"),e.qZA(),e.TgZ(47,"mat-select",20),e.YNc(48,Cn,2,2,"mat-option",14),e.ALo(49,"keysObjectToArray"),e.qZA(),e.YNc(50,xn,2,0,"mat-error",11),e.qZA(),e.TgZ(51,"mat-form-field",9)(52,"mat-label"),e._uU(53,"Fecha de inicio laboral "),e.TgZ(54,"small"),e._uU(55,"(d/m/yyy)"),e.qZA()(),e._UZ(56,"input",21)(57,"mat-datepicker-toggle",17)(58,"mat-datepicker",18,22),e.YNc(60,Tn,2,0,"mat-error",11),e.qZA(),e.TgZ(61,"div",23),e._uU(62,"Informaci\xf3n"),e.qZA(),e.TgZ(63,"mat-form-field",9)(64,"mat-label"),e._uU(65,"Seleccione una ciudad"),e.qZA(),e.TgZ(66,"mat-select",24),e.YNc(67,bn,2,2,"mat-option",14),e.ALo(68,"keysObjectToArray"),e.qZA(),e.YNc(69,Zn,2,0,"mat-error",11),e.qZA(),e.TgZ(70,"mat-form-field",9)(71,"mat-label"),e._uU(72,"Seleccione un departamento"),e.qZA(),e.TgZ(73,"mat-select",25),e.YNc(74,vn,2,2,"mat-option",14),e.ALo(75,"keysObjectToArray"),e.qZA(),e.YNc(76,An,2,0,"mat-error",11),e.qZA(),e.TgZ(77,"mat-form-field",9)(78,"mat-label"),e._uU(79,"Seleccione una oficina / local"),e.qZA(),e.TgZ(80,"mat-select",26),e.YNc(81,yn,2,2,"mat-option",14),e.ALo(82,"keysObjectToArray"),e.qZA(),e.YNc(83,kn,2,0,"mat-error",11),e.qZA(),e.TgZ(84,"div",27)(85,"label",28),e._uU(86,"Foto"),e.qZA(),e.TgZ(87,"input",29,30),e.NdJ("change",function(r){return i.uploadImg(r)}),e.qZA()(),e.TgZ(89,"div",31),e.YNc(90,En,5,1,"ng-container",11),e.qZA()(),e.TgZ(91,"div")(92,"button",32),e.NdJ("click",function(){return i.saveInServerPerson()}),e._uU(93,"Guardar"),e.qZA(),e.YNc(94,wn,2,1,"button",33),e.qZA()()(),e.TgZ(95,"mat-step",34),e.YNc(96,qn,1,0,"ng-template",7),e.TgZ(97,"form",35),e.NdJ("ngSubmit",function(){return i.saveInServerInfo()}),e.TgZ(98,"div",36)(99,"h2",37),e._uU(100),e.qZA(),e.YNc(101,On,5,2,"mat-chip-list",11),e.qZA(),e.TgZ(102,"mat-form-field",9)(103,"mat-label"),e._uU(104,"Seleccione un Tipo de dato"),e.qZA(),e.TgZ(105,"mat-select",38),e.YNc(106,Dn,2,2,"mat-option",14),e.ALo(107,"keysObjectToArray"),e.qZA(),e.YNc(108,Nn,2,0,"mat-error",11),e.qZA(),e.TgZ(109,"mat-form-field",39)(110,"mat-label"),e._uU(111,"Informaci\xf3n"),e.qZA(),e._UZ(112,"textarea",40),e.YNc(113,Un,2,0,"mat-error",11),e.qZA(),e.TgZ(114,"div",41)(115,"button",42),e._uU(116,"Guardar"),e.qZA()()(),e.TgZ(117,"mat-card")(118,"table",43)(119,"thead")(120,"tr")(121,"th"),e._uU(122,"#"),e.qZA(),e.TgZ(123,"th"),e._uU(124,"Tipo"),e.qZA(),e.TgZ(125,"th"),e._uU(126,"Info"),e.qZA(),e.TgZ(127,"th"),e._uU(128,"Acci\xf3n"),e.qZA()()(),e.TgZ(129,"tbody"),e.YNc(130,In,14,3,"tr",44),e.qZA()()()()()()),2&t){const a=e.MAs(42),r=e.MAs(59);e.xp6(5),e.hij(" \xa0",i.title,""),e.xp6(3),e.Q6J("completed",i.isCompletedFormPerson)("editable",!1),e.xp6(1),e.Q6J("formGroup",i.form_person),e.xp6(7),e.Q6J("ngIf",i.form_person.controls.first_name.invalid),e.xp6(5),e.Q6J("ngIf",i.form_person.controls.last_name.invalid),e.xp6(5),e.Q6J("ngForOf",e.lcZ(27,39,i.id_types)),e.xp6(2),e.Q6J("ngIf",i.form_person.controls.identification_type.invalid),e.xp6(5),e.Q6J("ngIf",i.form_person.controls.identification_number.invalid),e.xp6(6),e.Q6J("max",i.maxDateBirthDay)("matDatepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(3),e.Q6J("ngIf",i.form_person.controls.birthday.invalid),e.xp6(5),e.Q6J("ngForOf",e.lcZ(49,41,i.sexes)),e.xp6(2),e.Q6J("ngIf",i.form_person.controls.sex.invalid),e.xp6(6),e.Q6J("max",i.maxDate)("matDatepicker",r),e.xp6(1),e.Q6J("for",r),e.xp6(3),e.Q6J("ngIf",i.form_person.controls.start_date.invalid),e.xp6(7),e.Q6J("ngForOf",e.lcZ(68,43,i.cities)),e.xp6(2),e.Q6J("ngIf",i.form_person.controls.city_id.invalid),e.xp6(5),e.Q6J("ngForOf",e.lcZ(75,45,i.positions)),e.xp6(2),e.Q6J("ngIf",i.form_person.controls.department_position_id.invalid),e.xp6(5),e.Q6J("ngForOf",e.lcZ(82,47,i.locations)),e.xp6(2),e.Q6J("ngIf",i.form_person.controls.location_id.invalid),e.xp6(7),e.Q6J("ngIf",i.photo),e.xp6(2),e.Q6J("disabled",i.isloadperson),e.xp6(2),e.Q6J("ngIf","edit"===i.state),e.xp6(1),e.Q6J("editable",!1),e.xp6(2),e.Q6J("formGroup",i.form_data_person),e.xp6(3),e.AsE("Informaci\xf3n de contacto ",i.person.first_name," ",i.person.last_name,""),e.xp6(1),e.Q6J("ngIf","edit"===i.stateInfoAndContact),e.xp6(5),e.Q6J("ngForOf",e.lcZ(107,49,i.types)),e.xp6(2),e.Q6J("ngIf",i.form_data_person.controls.type.invalid),e.xp6(5),e.Q6J("ngIf",i.form_data_person.controls.value.invalid),e.xp6(2),e.Q6J("color","primary")("disabled",i.isloadContact),e.xp6(15),e.Q6J("ngForOf",i.infoAndContact)}},dependencies:[s.sg,s.O5,A.Hw,y.lW,u.a8,T.TO,T.KE,T.hX,T.R9,q.Nt,D.gD,L.ey,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,ee.Mq,ee.hl,ee.nW,he.C0,he.VY,he.Vq,x.qn,x.HS,x.qH,Me.I]}),n})();function Mn(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"#"),e.qZA())}function Qn(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Sn(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"ID Usuario"),e.qZA())}function Jn(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.user_id," ")}}function Fn(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Nombre"),e.qZA())}function Pn(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.user_name," ")}}function Yn(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Ciudad "),e.qZA())}function Ln(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.city.name," ")}}function Rn(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Empresa "),e.qZA())}function Bn(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function Hn(n,o){if(1&n&&(e.TgZ(0,"mat-cell",17),e.YNc(1,Bn,2,1,"span",18),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",null==t?null:t.companies_access)}}function Vn(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Fecha de creaci\xf3n "),e.qZA())}function Wn(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.created_at," ")}}function jn(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Fecha de creaci\xf3n "),e.qZA())}function $n(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.updated_at," ")}}function Gn(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Acciones "),e.qZA())}const zn=function(n){return["./edit",n]};function Kn(n,o){if(1&n&&(e.TgZ(0,"button",21)(1,"mat-icon"),e._uU(2,"edit"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(1,zn,t.id))}}function Xn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw();return e.KtG(r.deleteItem(a.id))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA()()}}function ei(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,Kn,3,3,"button",19),e.YNc(2,Xn,3,0,"button",20),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngxPermissionsOnly",t.permissions.edit),e.xp6(1),e.Q6J("ngxPermissionsOnly",t.permissions.delete)}}function ti(n,o){1&n&&e._UZ(0,"mat-header-row",23)}function ni(n,o){1&n&&e._UZ(0,"mat-row")}const ii=function(){return["./create"]};function oi(n,o){1&n&&(e.ynx(0,24),e.TgZ(1,"mat-chip",25)(2,"mat-icon"),e._uU(3,"manage_accounts"),e.qZA(),e._uU(4,"\xa0 Agregar cuenta ml "),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,ii)))}let ai=(()=>{class n extends ce{constructor(t,i,a){super(),this.activated_route=t,this.s_standart=i,this.snack_bar=a,this.wordMain="Cuenta Ml",this.urlDelete="admin/roles/",this.displayedColumns=["id","user_id","name","city","company","date_created","date_update","acciones"],this.urlData="admin/ml/accounts"}ngOnInit(){this.activated_route.data.subscribe(t=>{this.permissions=t.permissions.all})}loadData(t){this.refreshDataTable(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(F.X),e.Y36(M.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-mercado-libre-admin"]],viewQuery:function(t,i){if(1&t&&e.Gf(S.H,5),2&t){let a;e.iGM(a=e.CRH())&&(i.headerComponent=a.first)}},features:[e.qOj],decls:31,vars:7,consts:[["title","Cuentas ML","placeholder","Buscar cuentas ml",3,"columns","url$","data"],["data",""],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","user_id"],["matColumnDef","name"],["matColumnDef","city"],["matColumnDef","company"],["style","display:grid",4,"matCellDef"],["matColumnDef","date_created"],["matColumnDef","date_update"],["matColumnDef","acciones"],["style","top:67px",4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["menuBar","",4,"ngxPermissionsOnly"],[2,"display","grid"],[4,"ngFor","ngForOf"],["mat-icon-button","","color","primary",3,"routerLink",4,"ngxPermissionsOnly"],["mat-icon-button","","color","warn",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-icon-button","","color","warn",3,"click"],[2,"top","67px"],["menuBar",""],[1,"ml-1","mat-btn-add",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"app-search-template",0),e.NdJ("data",function(r){return i.loadData(r)}),e.ynx(2,1),e.TgZ(3,"mat-table",2),e.ynx(4,3),e.YNc(5,Mn,2,0,"mat-header-cell",4),e.YNc(6,Qn,2,1,"mat-cell",5),e.BQk(),e.ynx(7,6),e.YNc(8,Sn,2,0,"mat-header-cell",4),e.YNc(9,Jn,2,1,"mat-cell",5),e.BQk(),e.ynx(10,7),e.YNc(11,Fn,2,0,"mat-header-cell",4),e.YNc(12,Pn,2,1,"mat-cell",5),e.BQk(),e.ynx(13,8),e.YNc(14,Yn,2,0,"mat-header-cell",4),e.YNc(15,Ln,2,1,"mat-cell",5),e.BQk(),e.ynx(16,9),e.YNc(17,Rn,2,0,"mat-header-cell",4),e.YNc(18,Hn,2,1,"mat-cell",10),e.BQk(),e.ynx(19,11),e.YNc(20,Vn,2,0,"mat-header-cell",4),e.YNc(21,Wn,2,1,"mat-cell",5),e.BQk(),e.ynx(22,12),e.YNc(23,jn,2,0,"mat-header-cell",4),e.YNc(24,$n,2,1,"mat-cell",5),e.BQk(),e.ynx(25,13),e.YNc(26,Gn,2,0,"mat-header-cell",4),e.YNc(27,ei,3,2,"mat-cell",5),e.BQk(),e.YNc(28,ti,1,0,"mat-header-row",14),e.YNc(29,ni,1,0,"mat-row",15),e.qZA(),e.BQk(),e.YNc(30,oi,5,2,"ng-container",16),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("columns",1)("url$",i.urlData),e.xp6(2),e.Q6J("dataSource",i.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngxPermissionsOnly",i.permissions.create))},dependencies:[s.sg,_.rH,A.Hw,y.lW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,h.gE,x.HS,R._]}),n})();function ri(n,o){if(1&n&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("value",t),e.xp6(1),e.hij("",i.statuses[t]," ")}}function si(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Estado Requerido "),e.qZA())}function li(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Nombre Requerido"),e.qZA())}function ci(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"ID Requerido"),e.qZA())}function mi(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Codigo Requerido"),e.qZA())}function di(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Token de accesso Requerido"),e.qZA())}function pi(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Token de refresco Requerido"),e.qZA())}function ui(n,o){if(1&n&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("value",t),e.xp6(1),e.hij("",i.cities[t]," ")}}function _i(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Ciudad Requerido "),e.qZA())}let fe=(()=>{class n{constructor(t,i,a){this.location=t,this.active_route=i,this.s_standart=a,this.form_ml=new l.cw({status:new l.NI(null,[l.kI.required]),user_name:new l.NI({value:null,disabled:!0},[l.kI.required]),user_id:new l.NI({value:null,disabled:!0},[l.kI.required]),server_code:new l.NI({value:null,disabled:!0},[l.kI.required]),access_token:new l.NI({value:null,disabled:!0},[l.kI.required]),refresh_token:new l.NI({value:null,disabled:!0},[l.kI.required]),city_id:new l.NI(null,[l.kI.required])}),this.title="Creando Cuenta de mercado libre",this.cities={},this.companies=[],this.statuses={},this.isLoad=!1,this.state="create"}ngOnInit(){this.active_route.data.subscribe(t=>{if(t.isEdit)this.state="edit",this.title="Editando Mercado Libre",this.id=Number.parseInt(this.active_route.snapshot.paramMap.get("id")),this.s_standart.show("admin/ml/accounts/"+this.id+"/edit").subscribe(a=>{if(a.hasOwnProperty("success")&&a.success){this.cities=a.data.cities,this.companies=a.data.companies,this.statuses=a.data.statuses,this.companies=a.data.companies,this.login_url=a.data.login_url,this.isLoad=!1;const{status:r,user_name:d,user_id:C,server_code:O,access_token:E,refresh_token:w,city_id:v}=a.data.account;this.form_ml.setValue({status:r,user_name:d,user_id:C,server_code:O,access_token:E,refresh_token:w,city_id:v.toString()})}});else{const i="admin/ml/accounts/create";this.isLoad=!0,this.s_standart.create(i).subscribe(a=>{a&&a.hasOwnProperty("success")&&a.success?(this.cities=a.data.cities,this.companies=a.data.companies,this.statuses=a.data.statuses,this.companies=a.data.companies,this.login_url=a.data.login_url,this.isLoad=!1):I.J.swalToast("A ocurrido un error, recargue la pagina","error")})}})}openDialog(){const a=null!=window.screenLeft?window.screenLeft:window.screenX,r=null!=window.screenTop?window.screenTop:window.screenY,d=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,C=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;this.window_ml=window.open(this.login_url,"login ml","scrollbars=yes, width=500, height=600, top="+(C/2-300+r)+", left="+(d/2-250+a)),this.window_ml.onunload=()=>{const w=this.window_ml.location.href.replace("#","fz"),v=new URL(w),N=new URLSearchParams(v.search);N.get("code")&&(this.isLoad=!0,this.s_standart.show("admin/ml/accounts/callback?code="+N.get("code")).subscribe(H=>{var $,G,re,Ne,Ue;H&&H.hasOwnProperty("success")&&H.success&&(null===($=this.form_ml.get("user_name"))||void 0===$||$.setValue(H.data.user_name),null===(G=this.form_ml.get("user_id"))||void 0===G||G.setValue(H.data.user_id),null===(re=this.form_ml.get("server_code"))||void 0===re||re.setValue(H.data.server_code),null===(Ne=this.form_ml.get("access_token"))||void 0===Ne||Ne.setValue(H.data.access_token),null===(Ue=this.form_ml.get("refresh_token"))||void 0===Ue||Ue.setValue(H.data.refresh_token)),this.isLoad=!1},()=>this.isLoad=!1))}}saveInServer(){this.form_ml.valid&&(this.isLoad=!0,"create"==this.state?this.s_standart.store("admin/ml/accounts",this.form_ml.getRawValue()).subscribe(t=>{t&&t.hasOwnProperty("success")&&t.success&&this.goBack(),this.isLoad=!1},()=>this.isLoad=!1):"edit"==this.state&&this.s_standart.updatePut("admin/ml/accounts/"+this.id,this.form_ml.getRawValue()).subscribe(t=>{t&&t.hasOwnProperty("success")&&t.success&&this.goBack(),this.isLoad=!1},()=>this.isLoad=!1))}goBack(){this.location.back()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.Ye),e.Y36(_.gz),e.Y36(F.X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-mercado-libre-create-or-edit"]],decls:56,vars:17,consts:[[1,"mt-4"],[1,"font-4xl","pl-1","d-flex","align-items-center"],["mat-mini-fab","",3,"click"],[1,"card","border-0"],[1,"card-body"],[1,"row","m-0",3,"formGroup"],[1,"col-md-6"],["formControlName","status","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","user_name","type","text","required",""],["matInput","","formControlName","user_id","type","text","required",""],["matInput","","formControlName","server_code","type","text","required",""],["matInput","","formControlName","access_token","type","text","required",""],["matInput","","formControlName","refresh_token","type","text","required",""],["formControlName","city_id","required",""],["mat-raised-button","","type","button",1,"bg-warning",3,"disabled","click"],[1,"mt-3"],["mat-raised-button","",3,"disabled","click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2",1)(2,"button",2),e.NdJ("click",function(){return i.goBack()}),e.TgZ(3,"mat-icon"),e._uU(4,"keyboard_backspace"),e.qZA()(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"div")(8,"div",3)(9,"mat-card",4)(10,"form",5)(11,"mat-form-field",6)(12,"mat-label"),e._uU(13,"Estado"),e.qZA(),e.TgZ(14,"mat-select",7),e.YNc(15,ri,2,2,"mat-option",8),e.ALo(16,"keysObjectToArray"),e.qZA(),e.YNc(17,si,2,0,"mat-error",9),e.qZA(),e.TgZ(18,"mat-form-field",6)(19,"mat-label"),e._uU(20,"Nombre de cuenta"),e.qZA(),e._UZ(21,"input",10),e.YNc(22,li,2,0,"mat-error",9),e.qZA(),e.TgZ(23,"mat-form-field",6)(24,"mat-label"),e._uU(25,"ID Usuario ML"),e.qZA(),e._UZ(26,"input",11),e.YNc(27,ci,2,0,"mat-error",9),e.qZA(),e.TgZ(28,"mat-form-field",6)(29,"mat-label"),e._uU(30,"Codigo del servidor"),e.qZA(),e._UZ(31,"input",12),e.YNc(32,mi,2,0,"mat-error",9),e.qZA(),e.TgZ(33,"mat-form-field",6)(34,"mat-label"),e._uU(35,"Token de Acceso"),e.qZA(),e._UZ(36,"input",13),e.YNc(37,di,2,0,"mat-error",9),e.qZA(),e.TgZ(38,"mat-form-field",6)(39,"mat-label"),e._uU(40,"Token de refresco"),e.qZA(),e._UZ(41,"input",14),e.YNc(42,pi,2,0,"mat-error",9),e.qZA(),e.TgZ(43,"mat-form-field",6)(44,"mat-label"),e._uU(45,"Ciudad"),e.qZA(),e.TgZ(46,"mat-select",15),e.YNc(47,ui,2,2,"mat-option",8),e.ALo(48,"keysObjectToArray"),e.qZA(),e.YNc(49,_i,2,0,"mat-error",9),e.qZA(),e.TgZ(50,"div",6)(51,"button",16),e.NdJ("click",function(){return i.openDialog()}),e._uU(52,"Obtener acceso a mercado libre"),e.qZA()(),e.TgZ(53,"div",17)(54,"button",18),e.NdJ("click",function(){return i.saveInServer()}),e._uU(55,"Guardar"),e.qZA()()()()()()()),2&t&&(e.xp6(6),e.hij("\xa0",i.title,""),e.xp6(4),e.Q6J("formGroup",i.form_ml),e.xp6(5),e.Q6J("ngForOf",e.lcZ(16,13,i.statuses)),e.xp6(2),e.Q6J("ngIf",i.form_ml.controls.status.invalid),e.xp6(5),e.Q6J("ngIf",i.form_ml.controls.user_name.invalid),e.xp6(5),e.Q6J("ngIf",i.form_ml.controls.user_id.invalid),e.xp6(5),e.Q6J("ngIf",i.form_ml.controls.server_code.invalid),e.xp6(5),e.Q6J("ngIf",i.form_ml.controls.access_token.invalid),e.xp6(5),e.Q6J("ngIf",i.form_ml.controls.refresh_token.invalid),e.xp6(5),e.Q6J("ngForOf",e.lcZ(48,15,i.cities)),e.xp6(2),e.Q6J("ngIf",i.form_ml.controls.city_id.invalid),e.xp6(2),e.Q6J("disabled",i.isLoad),e.xp6(3),e.Q6J("disabled",i.isLoad||i.form_ml.invalid))},dependencies:[s.sg,s.O5,A.Hw,y.lW,u.a8,T.TO,T.KE,T.hX,q.Nt,D.gD,L.ey,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,Me.I]}),n})();function hi(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"ID"),e.qZA())}function fi(n,o){if(1&n&&(e.TgZ(0,"mat-cell",20),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function gi(n,o){1&n&&(e.TgZ(0,"mat-header-cell",21),e._uU(1," Nombre "),e.qZA())}function Ci(n,o){if(1&n&&(e.TgZ(0,"mat-cell",21),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function xi(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Descripci\xf3n "),e.qZA())}function Ti(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function bi(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Codigo "),e.qZA())}function Zi(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.code," ")}}function vi(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Stock "),e.qZA())}function Ai(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.available," ")}}function yi(n,o){1&n&&e._UZ(0,"mat-header-row",22)}function ki(n,o){1&n&&e._UZ(0,"mat-row")}let Se=(()=>{class n{constructor(t){this.ELEMENT_DATA=t,this.displayedColumns=["id","name","description","code","stock"],this.dataSource=new c.by(this.ELEMENT_DATA.products)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-facebook-ads-modal"]],decls:29,vars:4,consts:[["mat-dialog-title",""],[1,"m-0","text-muted"],["mat-dialog-title","",1,"font-5xl","font-facebook","list-group-item-accent-warning","text-uppercase"],["mat-dialog-content",""],["mat-dialog-container","",1,"example-container"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],["class","d-block",4,"matCellDef"],["matColumnDef","name"],["class","name-item",4,"matHeaderCellDef"],["class","name-item",4,"matCellDef"],["matColumnDef","description"],[4,"matCellDef"],["matColumnDef","code"],["matColumnDef","stock"],["style","top:67px",4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["mat-dialog-actions",""],["mat-raised-button","","mat-dialog-close","","color","warn"],[1,"d-block"],[1,"name-item"],[2,"top","67px"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Productos "),e._UZ(3,"br"),e.qZA(),e.TgZ(4,"div",2),e._uU(5," Productos de ADS "),e.qZA()(),e.TgZ(6,"div",3)(7,"div",4)(8,"mat-table",5),e.ynx(9,6),e.YNc(10,hi,2,0,"mat-header-cell",7),e.YNc(11,fi,2,1,"mat-cell",8),e.BQk(),e.ynx(12,9),e.YNc(13,gi,2,0,"mat-header-cell",10),e.YNc(14,Ci,2,1,"mat-cell",11),e.BQk(),e.ynx(15,12),e.YNc(16,xi,2,0,"mat-header-cell",7),e.YNc(17,Ti,2,1,"mat-cell",13),e.BQk(),e.ynx(18,14),e.YNc(19,bi,2,0,"mat-header-cell",7),e.YNc(20,Zi,2,1,"mat-cell",13),e.BQk(),e.ynx(21,15),e.YNc(22,vi,2,0,"mat-header-cell",7),e.YNc(23,Ai,2,1,"mat-cell",13),e.BQk(),e.YNc(24,yi,1,0,"mat-header-row",16),e.YNc(25,ki,1,0,"mat-row",17),e.qZA()()(),e.TgZ(26,"div",18)(27,"button",19),e._uU(28,"Cerrar"),e.qZA()()),2&t&&(e.xp6(8),e.Q6J("dataSource",i.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[y.lW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,B.ZT,B.uh,B.xY,B.H8]}),n})();var Ee=m(86087),te=m(92181),we=m(27544);function Ei(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",42)(2,"span",43),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.removeSearchCampaign(r.id))}),e._UZ(3,"i",44),e.qZA(),e.TgZ(4,"h4",45),e._uU(5),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(5),e.Oqu(t.name)}}function wi(n,o){1&n&&(e.TgZ(0,"mat-header-cell",46),e._uU(1,"+"),e.qZA())}function qi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",46)(1,"button",47),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.addSearchCampaign(r.id))}),e.TgZ(2,"mat-icon"),e._uU(3,"add"),e.qZA()()()}}function Oi(n,o){1&n&&(e.TgZ(0,"mat-header-cell",48),e._uU(1,"Estado"),e.qZA())}function Di(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",48)(1,"label",49)(2,"input",50),e.NdJ("change",function(a){const d=e.CHM(t).$implicit,C=e.oxw();return e.KtG(C.changeState(d.id,a))}),e.qZA(),e._UZ(3,"span",51),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Q6J("checked","ACTIVE"===(null==t?null:t.status))}}function Ni(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Riesgo"),e.qZA())}function Ui(n,o){if(1&n&&(e.TgZ(0,"mat-cell",52)(1,"div",53),e._uU(2),e.qZA(),e.TgZ(3,"div",54),e._uU(4),e.qZA(),e.TgZ(5,"div",55),e._uU(6),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.hij("GOOD:",null==t?null:t.ads_by_stock_status_count.GOOD,""),e.xp6(2),e.hij("WARNING:",null==t?null:t.ads_by_stock_status_count.WARNING,""),e.xp6(2),e.hij("DANGER:",null==t?null:t.ads_by_stock_status_count.DANGER,"")}}function Ii(n,o){1&n&&(e.TgZ(0,"mat-header-cell",56),e._uU(1," Nombre "),e.qZA())}function Mi(n,o){if(1&n&&(e.TgZ(0,"mat-cell",56),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Qi(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Iniciado "),e.qZA())}function Si(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.start_time)," ")}}function Ji(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Detenido "),e.qZA())}function Fi(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"amTimeAgo"),e.ALo(3,"amLocale"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.xi3(3,3,t.stop_time,"es"))," ")}}function Pi(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Acciones "),e.qZA())}function Yi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"button",57),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.viewProduct(r.id))}),e.TgZ(2,"mat-icon",58),e._uU(3," visibility"),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("disabled",t.products.products.length<1),e.xp6(1),e.Q6J("matBadge",t.products.products.length)}}function Li(n,o){1&n&&e._UZ(0,"mat-header-row",59)}function Ri(n,o){1&n&&e._UZ(0,"mat-row")}const Bi=function(){return[10,20,30]};function Hi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-paginator",60),e.NdJ("page",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.changePaginator(a))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("pageSizeOptions",e.DdM(4,Bi))("pageSize",t.paginator.per_page)("length",t.paginator.total)("pageIndex",t.paginator.current_page-1)}}const Vi=function(n,o,t){return{status:n,min:o,max:t}};let Je=(()=>{class n extends ce{constructor(t,i,a,r,d){super(),this.activated_route=t,this.s_standart=i,this.snack_bar=a,this.dialog=r,this.ngx_spinner=d,this.arrayIds=new e.vpe,this.searchItems=[],this.idSearchItems=[],this.accounts=[],this.wordMain="Facebook Ads",this.urlDelete="admin/roles/",this.displayedColumns=["add","state","riesgo","name","start","stop","acciones"],this.min="",this.max="",this.status=3,this.name_spinner="spinner_table"}ngOnInit(){this.activated_route.data.subscribe(t=>{this.permissions=t.permissions.all})}addSearchCampaign(t){if(this.searchItems.find(r=>r.id===t))return;const a=this.ELEMENT_DATA.find(r=>r.id===t);a&&this.searchItems.push({id:a.id,name:a.name})}removeSearchCampaign(t){const i=this.searchItems.findIndex(a=>a.id===t);-1!==i&&this.searchItems.splice(i,1)}changeState(t,i){this.s_standart.updatePut("admin/facebook-ads/campaigns/"+t+"/toggle-enable",{}).subscribe(()=>{},()=>{i.target.checked=!i.target.checked})}applyFilter(){if(this.headerComponent.url="admin/facebook-ads/"+this.account_id+"/campaigns",this.min>this.max){const t=this.min;this.min=this.max,this.max=t}this.headerComponent.searchBar()}viewProduct(t){const i=this.ELEMENT_DATA.find(a=>a.id===t);i&&this.dialog.open(Se,{data:{products:i.products.products}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(F.X),e.Y36(M.ux),e.Y36(B.uw),e.Y36(f.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-facebook-ads-campaign"]],viewQuery:function(t,i){if(1&t&&e.Gf(S.H,5),2&t){let a;e.iGM(a=e.CRH())&&(i.headerComponent=a.first)}},inputs:{account_id:"account_id",urlData:"urlData"},outputs:{arrayIds:"arrayIds"},features:[e.qOj],decls:59,vars:24,consts:[["type","ball-clip-rotate-multiple","size","medium",3,"name","fullScreen"],[3,"init","filter_data","placeholder","url","isload","products"],[1,"ml-1"],[1,"text-truncate",3,"matMenuTriggerFor"],["type","search",1,"text-black-50"],[3,"overlapTrigger"],["menu","matMenu"],["mat-menu-item","",3,"disableRipple","click","keydown"],[1,"w-100"],[3,"value","ngModel","ngModelChange"],["value","3"],["value","2"],["value","1"],["mat-menu-item","",1,"row","m-0","p-0",2,"text-overflow","initial",3,"click","keydown"],[1,"col-6"],["matInput","","type","number","type","number",1,"",3,"ngModel","ngModelChange"],["type","number","matInput","",1,"",3,"ngModel","ngModelChange"],["mat-menu-item","",1,"h-100",3,"disableRipple"],["mat-raised-button","",3,"click"],[1,"card-columns"],["class","card border-0 text-muted",4,"ngFor","ngForOf"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","add"],["class","add-item",4,"matHeaderCellDef"],["class","add-item",4,"matCellDef"],["matColumnDef","state"],["class","state-item",4,"matHeaderCellDef"],["class","state-item",4,"matCellDef"],["matColumnDef","riesgo"],[4,"matHeaderCellDef"],["class","d-block",4,"matCellDef"],["matColumnDef","name"],["class","name-item",4,"matHeaderCellDef"],["class","name-item",4,"matCellDef"],["matColumnDef","start"],[4,"matCellDef"],["matColumnDef","stop"],["matColumnDef","acciones"],["style","top:67px",4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize","length","pageIndex","page",4,"ngIf"],[1,"card","border-0","text-muted"],[1,"p-2"],[1,"position-absolute","btn-close",3,"click"],[1,"fas","fa-times-circle","btn-ghost-danger"],[1,"text-truncate","m-0"],[1,"add-item"],["mat-icon-button","","color","primary",3,"click"],[1,"state-item"],[1,"switch","switch-label","switch-pill","switch-success","switch-sm","float-right"],["type","checkbox",1,"switch-input",3,"checked","change"],["data-checked","On","data-unchecked","Off",1,"switch-slider"],[1,"d-block"],[1,"badge","badge-success","m-1"],[1,"badge","badge-warning","m-1"],[1,"badge","badge-danger","m-1"],[1,"name-item"],["mat-icon-button","","color","primary",3,"disabled","click"],["matBadgeColor","accent","matBadgePosition","above after",3,"matBadge"],[2,"top","67px"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize","length","pageIndex","page"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"ngx-spinner",0),e.TgZ(2,"app-header-search",1),e.NdJ("isload",function(r){return i.loaderTable(r)})("products",function(r){return i.loadData(r)}),e.TgZ(3,"mat-chip-list",2)(4,"mat-chip",3)(5,"mat-icon",4),e._uU(6,"filter_alt"),e.qZA()()(),e.TgZ(7,"mat-menu",5,6)(9,"div",7),e.NdJ("click",function(r){return r.stopPropagation()})("keydown",function(r){return r.stopPropagation()}),e.TgZ(10,"mat-form-field",8)(11,"mat-label"),e._uU(12,"Estados"),e.qZA(),e.TgZ(13,"mat-select",9),e.NdJ("ngModelChange",function(r){return i.status=r}),e.TgZ(14,"mat-option",10),e._uU(15,"Todos"),e.qZA(),e.TgZ(16,"mat-option",11),e._uU(17," Activo "),e.qZA(),e.TgZ(18,"mat-option",12),e._uU(19," Inactivo "),e.qZA()()()(),e.TgZ(20,"div",13),e.NdJ("click",function(r){return r.stopPropagation()})("keydown",function(r){return r.stopPropagation()}),e.TgZ(21,"mat-form-field",14)(22,"mat-label"),e._uU(23,"Stock Min"),e.qZA(),e.TgZ(24,"input",15),e.NdJ("ngModelChange",function(r){return i.min=r}),e.qZA()(),e.TgZ(25,"mat-form-field",14)(26,"mat-label"),e._uU(27,"Stock Max"),e.qZA(),e.TgZ(28,"input",16),e.NdJ("ngModelChange",function(r){return i.max=r}),e.qZA()()(),e.TgZ(29,"div",17)(30,"button",18),e.NdJ("click",function(){return i.applyFilter()}),e._uU(31,"Aplicar filtros"),e.qZA()()()(),e.TgZ(32,"div",19),e.YNc(33,Ei,6,1,"div",20),e.qZA(),e.TgZ(34,"mat-table",21),e.ynx(35,22),e.YNc(36,wi,2,0,"mat-header-cell",23),e.YNc(37,qi,4,0,"mat-cell",24),e.BQk(),e.ynx(38,25),e.YNc(39,Oi,2,0,"mat-header-cell",26),e.YNc(40,Di,4,1,"mat-cell",27),e.BQk(),e.ynx(41,28),e.YNc(42,Ni,2,0,"mat-header-cell",29),e.YNc(43,Ui,7,3,"mat-cell",30),e.BQk(),e.ynx(44,31),e.YNc(45,Ii,2,0,"mat-header-cell",32),e.YNc(46,Mi,2,1,"mat-cell",33),e.BQk(),e.ynx(47,34),e.YNc(48,Qi,2,0,"mat-header-cell",29),e.YNc(49,Si,3,3,"mat-cell",35),e.BQk(),e.ynx(50,36),e.YNc(51,Ji,2,0,"mat-header-cell",29),e.YNc(52,Fi,4,6,"mat-cell",35),e.BQk(),e.ynx(53,37),e.YNc(54,Pi,2,0,"mat-header-cell",29),e.YNc(55,Yi,4,2,"mat-cell",35),e.BQk(),e.YNc(56,Li,1,0,"mat-header-row",38),e.YNc(57,Ri,1,0,"mat-row",39),e.qZA(),e.YNc(58,Hi,1,5,"mat-paginator",40),e.qZA()),2&t){const a=e.MAs(8);e.xp6(1),e.Q6J("name",i.name_spinner)("fullScreen",!1),e.xp6(1),e.Q6J("init",!1)("filter_data",e.kEZ(20,Vi,i.status,i.min,i.max))("placeholder","Buscador de Campa\xf1as")("url","admin/facebook-ads/"+i.account_id+"/campaigns"),e.xp6(2),e.Q6J("matMenuTriggerFor",a),e.xp6(3),e.Q6J("overlapTrigger",!1),e.xp6(2),e.Q6J("disableRipple",!0),e.xp6(4),e.Q6J("value",3)("ngModel",i.status),e.xp6(11),e.Q6J("ngModel",i.min),e.xp6(4),e.Q6J("ngModel",i.max),e.xp6(1),e.Q6J("disableRipple",!0),e.xp6(4),e.Q6J("ngForOf",i.searchItems),e.xp6(1),e.Q6J("dataSource",i.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngIf",i.ELEMENT_DATA.length)}},dependencies:[s.sg,s.O5,A.Hw,y.lW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,T.KE,T.hX,q.Nt,D.gD,L.ey,l.Fj,l.wV,l.JJ,S.H,Ee.NW,l.On,x.qn,x.HS,te.VK,te.OP,te.p6,we.k,f.Ro,s.uU,j.eG,j.Ue],styles:[".add-item[_ngcontent-%COMP%]{flex:.3}.state-item[_ngcontent-%COMP%]{flex:.5}.name-item[_ngcontent-%COMP%]{flex:2;padding:5px}.btn-close[_ngcontent-%COMP%]{right:4px;top:-1px}"]}),n})();var Wi=m(74982);function ji(n,o){1&n&&(e.TgZ(0,"mat-header-cell",38),e._uU(1,"Estado"),e.qZA())}function $i(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",38)(1,"label",39)(2,"input",40),e.NdJ("change",function(a){const d=e.CHM(t).$implicit,C=e.oxw();return e.KtG(C.changeState(d.id,a))}),e.qZA(),e._UZ(3,"span",41),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Q6J("checked","ACTIVE"===(null==t?null:t.status))}}function Gi(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Imagen"),e.qZA())}function zi(n,o){if(1&n&&(e.TgZ(0,"mat-cell",42),e._UZ(1,"img",43),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("src",t.thumbnail_url+"&w=100&h=100",e.LSH)}}function Ki(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Riesgo"),e.qZA())}function Xi(n,o){if(1&n&&(e.TgZ(0,"mat-cell",42)(1,"div",44),e._uU(2),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngStyle",null==i.status_object[t.stock_status]?null:i.status_object[t.stock_status].css),e.xp6(1),e.Oqu(i.status_object[t.stock_status].value)}}function eo(n,o){1&n&&(e.TgZ(0,"mat-header-cell",45),e._uU(1," Nombre "),e.qZA())}function to(n,o){if(1&n&&(e.TgZ(0,"mat-cell",45),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function no(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Stop min "),e.qZA())}function io(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.min_stock," ")}}function oo(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Iniciado "),e.qZA())}function ao(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.created_time)," ")}}function ro(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Estado efectivo "),e.qZA())}function so(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.effective_status," ")}}function lo(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Acciones "),e.qZA())}function co(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"button",46),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.viewProduct(r.id))}),e.TgZ(2,"mat-icon",47),e._uU(3,"visibility"),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("disabled",t.products_set.products.length<1),e.xp6(1),e.Q6J("matBadge",t.products_set.products.length)}}function mo(n,o){1&n&&e._UZ(0,"mat-header-row",48)}function po(n,o){1&n&&e._UZ(0,"mat-row")}const uo=function(){return[10,20,30]};function _o(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-paginator",49),e.NdJ("page",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.changePaginator(a))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("pageSizeOptions",e.DdM(4,uo))("pageSize",t.paginator.per_page)("length",t.paginator.total)("pageIndex",t.paginator.current_page-1)}}const ho=function(n,o,t){return{status:n,min:o,max:t}};let Fe=(()=>{class n extends ce{constructor(t,i,a,r,d){super(),this.activated_route=t,this.s_standart=i,this.snack_bar=a,this.dialog=r,this.ngx_spinner=d,this.displayedColumns=["state","image","riesgo","name","min_stock","start","status_effective","acciones"],this.account_id=0,this.spinnerTable="spinner_table",this.min="",this.max="",this.status=3,this.urlData="facebook-ads/"+this.account_id+"/campaigns-set",this.status_object=Wi.i9}ngOnInit(){}applyFilter(){if(this.min>this.max){const t=this.min;this.min=this.max,this.max=t}this.headerComponent.searchBar()}changeState(t,i){this.s_standart.updatePut("admin/facebook-ads/campaignsAd/"+t+"/toggle-enable",{}).subscribe(()=>{},()=>{i.target.checked=!i.target.checked})}viewProduct(t){const i=this.ELEMENT_DATA.find(a=>a.id===t);i&&this.dialog.open(Se,{data:{products:i.products_set.products}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(F.X),e.Y36(M.ux),e.Y36(B.uw),e.Y36(f.t2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-facebook-ads-set"]],viewQuery:function(t,i){if(1&t&&e.Gf(S.H,5),2&t){let a;e.iGM(a=e.CRH())&&(i.headerComponent=a.first)}},inputs:{account_id:"account_id"},features:[e.qOj],decls:60,vars:23,consts:[["type","ball-clip-rotate-multiple","size","medium",3,"name","fullScreen"],[3,"init","filter_data","placeholder","url","isload","products"],[1,"ml-1"],[1,"text-truncate",3,"matMenuTriggerFor"],["type","search",1,"text-black-50"],[3,"overlapTrigger"],["menu","matMenu"],["mat-menu-item","",3,"disableRipple","click","keydown"],[1,"w-100"],[3,"value","ngModel","ngModelChange"],["value","3"],["value","2"],["value","1"],["mat-menu-item","",1,"row","m-0","p-0",2,"text-overflow","initial",3,"click","keydown"],[1,"col-6"],["matInput","","type","number","type","number",1,"",3,"ngModel","ngModelChange"],["type","number","matInput","",1,"",3,"ngModel","ngModelChange"],["mat-menu-item","",1,"h-100",3,"disableRipple"],["mat-raised-button","",3,"click"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","state"],["class","state-item",4,"matHeaderCellDef"],["class","state-item",4,"matCellDef"],["matColumnDef","image"],[4,"matHeaderCellDef"],["class","d-block",4,"matCellDef"],["matColumnDef","riesgo"],["matColumnDef","name"],["class","name-item",4,"matHeaderCellDef"],["class","name-item",4,"matCellDef"],["matColumnDef","min_stock"],[4,"matCellDef"],["matColumnDef","start"],["matColumnDef","status_effective"],["matColumnDef","acciones"],["style","top:67px",4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize","length","pageIndex","page",4,"ngIf"],[1,"state-item"],[1,"switch","switch-label","switch-pill","switch-success","switch-sm","float-right"],["type","checkbox",1,"switch-input",3,"checked","change"],["data-checked","On","data-unchecked","Off",1,"switch-slider"],[1,"d-block"],["width","100","height","100","alt","img",1,"img-fluid",3,"src"],[1,"font-sm","badge",3,"ngStyle"],[1,"name-item"],["mat-icon-button","","color","primary",3,"disabled","click"],["matBadgeColor","accent","matBadgePosition","above after",3,"matBadge"],[2,"top","67px"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize","length","pageIndex","page"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"ngx-spinner",0),e.TgZ(2,"app-header-search",1),e.NdJ("isload",function(r){return i.loaderTable(r)})("products",function(r){return i.loadData(r)}),e.TgZ(3,"mat-chip-list",2)(4,"mat-chip",3)(5,"mat-icon",4),e._uU(6,"filter_alt"),e.qZA()()(),e.TgZ(7,"mat-menu",5,6)(9,"div",7),e.NdJ("click",function(r){return r.stopPropagation()})("keydown",function(r){return r.stopPropagation()}),e.TgZ(10,"mat-form-field",8)(11,"mat-label"),e._uU(12,"Estados"),e.qZA(),e.TgZ(13,"mat-select",9),e.NdJ("ngModelChange",function(r){return i.status=r}),e.TgZ(14,"mat-option",10),e._uU(15,"Todos"),e.qZA(),e.TgZ(16,"mat-option",11),e._uU(17," Activo "),e.qZA(),e.TgZ(18,"mat-option",12),e._uU(19," Inactivo "),e.qZA()()()(),e.TgZ(20,"div",13),e.NdJ("click",function(r){return r.stopPropagation()})("keydown",function(r){return r.stopPropagation()}),e.TgZ(21,"mat-form-field",14)(22,"mat-label"),e._uU(23,"Stock Min"),e.qZA(),e.TgZ(24,"input",15),e.NdJ("ngModelChange",function(r){return i.min=r}),e.qZA()(),e.TgZ(25,"mat-form-field",14)(26,"mat-label"),e._uU(27,"Stock Max"),e.qZA(),e.TgZ(28,"input",16),e.NdJ("ngModelChange",function(r){return i.max=r}),e.qZA()()(),e.TgZ(29,"div",17)(30,"button",18),e.NdJ("click",function(){return i.applyFilter()}),e._uU(31,"Aplicar filtros"),e.qZA()()()(),e.TgZ(32,"mat-table",19),e.ynx(33,20),e.YNc(34,ji,2,0,"mat-header-cell",21),e.YNc(35,$i,4,1,"mat-cell",22),e.BQk(),e.ynx(36,23),e.YNc(37,Gi,2,0,"mat-header-cell",24),e.YNc(38,zi,2,1,"mat-cell",25),e.BQk(),e.ynx(39,26),e.YNc(40,Ki,2,0,"mat-header-cell",24),e.YNc(41,Xi,3,2,"mat-cell",25),e.BQk(),e.ynx(42,27),e.YNc(43,eo,2,0,"mat-header-cell",28),e.YNc(44,to,2,1,"mat-cell",29),e.BQk(),e.ynx(45,30),e.YNc(46,no,2,0,"mat-header-cell",24),e.YNc(47,io,2,1,"mat-cell",31),e.BQk(),e.ynx(48,32),e.YNc(49,oo,2,0,"mat-header-cell",24),e.YNc(50,ao,3,3,"mat-cell",31),e.BQk(),e.ynx(51,33),e.YNc(52,ro,2,0,"mat-header-cell",24),e.YNc(53,so,2,1,"mat-cell",31),e.BQk(),e.ynx(54,34),e.YNc(55,lo,2,0,"mat-header-cell",24),e.YNc(56,co,4,2,"mat-cell",31),e.BQk(),e.YNc(57,mo,1,0,"mat-header-row",35),e.YNc(58,po,1,0,"mat-row",36),e.qZA(),e.YNc(59,_o,1,5,"mat-paginator",37),e.qZA()),2&t){const a=e.MAs(8);e.xp6(1),e.Q6J("name",i.name_spinner)("fullScreen",!1),e.xp6(1),e.Q6J("init",!1)("filter_data",e.kEZ(19,ho,i.status,i.min,i.max))("placeholder","Buscador de Conjunto de anuncios")("url",i.urlData),e.xp6(2),e.Q6J("matMenuTriggerFor",a),e.xp6(3),e.Q6J("overlapTrigger",!1),e.xp6(2),e.Q6J("disableRipple",!0),e.xp6(4),e.Q6J("value",3)("ngModel",i.status),e.xp6(11),e.Q6J("ngModel",i.min),e.xp6(4),e.Q6J("ngModel",i.max),e.xp6(1),e.Q6J("disableRipple",!0),e.xp6(3),e.Q6J("dataSource",i.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngIf",i.ELEMENT_DATA.length)}},dependencies:[s.O5,s.PC,A.Hw,y.lW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,T.KE,T.hX,q.Nt,D.gD,L.ey,l.Fj,l.wV,l.JJ,S.H,Ee.NW,l.On,x.qn,x.HS,te.VK,te.OP,te.p6,we.k,f.Ro,s.uU],styles:[".add-item[_ngcontent-%COMP%]{flex:.3}.state-item[_ngcontent-%COMP%]{flex:.5}.name-item[_ngcontent-%COMP%]{flex:2;padding:5px}"]}),n})();var qe=m(53251);function fo(n,o){if(1&n&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}let go=(()=>{class n{constructor(t){this.s_standart=t,this.accounts=[]}ngOnInit(){this.s_standart.index("admin/facebook-ads").subscribe(t=>{this.accounts=t.data.accounts,this.currentAccount=Number.parseInt(t.data.preference),this.urlData="admin/facebook-ads/"+this.currentAccount+"/campaigns",this.facebookCampaign.headerComponent.url=this.urlData,this.facebookCampaign.headerComponent.searchBar()})}changedTag(t){if(1===t.index){const i=[];this.facebookCampaign.searchItems.forEach(a=>{i.push(a.id)}),this.facebookSet.headerComponent.url="admin/facebook-ads/"+this.currentAccount+"/campaigns-set",this.facebookSet.headerComponent.filter_data={"array[]":i},this.facebookSet.headerComponent.searchBar()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F.X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-facebook-ads-manager"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Je,5),e.Gf(Fe,5)),2&t){let a;e.iGM(a=e.CRH())&&(i.facebookCampaign=a.first),e.iGM(a=e.CRH())&&(i.facebookSet=a.first)}},decls:13,vars:6,consts:[[1,"mt-4"],[1,"font-5xl","pl-1","font-facebook","list-group-item-accent-warning"],[1,"account-position"],[3,"value","ngModel","valueChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-align-tabs","center",3,"selectedTabChange"],["label","CAMPA\xd1AS",1,"overflow-hidden"],[3,"urlData","account_id"],["label","CONJUNTO DE ANUNCIOS"],[3,"account_id"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Facebook Ads Manager"),e.qZA(),e.TgZ(3,"mat-form-field",2)(4,"mat-label"),e._uU(5,"Cuentas"),e.qZA(),e.TgZ(6,"mat-select",3),e.NdJ("valueChange",function(r){return i.currentAccount=r})("ngModelChange",function(r){return i.currentAccount=r}),e.YNc(7,fo,2,2,"mat-option",4),e.qZA()(),e.TgZ(8,"mat-tab-group",5),e.NdJ("selectedTabChange",function(r){return i.changedTag(r)}),e.TgZ(9,"mat-tab",6),e._UZ(10,"app-facebook-ads-campaign",7),e.qZA(),e.TgZ(11,"mat-tab",8),e._UZ(12,"app-facebook-ads-set",9),e.qZA()()()),2&t&&(e.xp6(6),e.Q6J("value",i.currentAccount)("ngModel",i.currentAccount),e.xp6(1),e.Q6J("ngForOf",i.accounts),e.xp6(3),e.Q6J("urlData",i.urlData)("account_id",i.currentAccount),e.xp6(2),e.Q6J("account_id",i.currentAccount))},dependencies:[s.sg,T.KE,T.hX,D.gD,L.ey,l.JJ,l.On,qe.SP,qe.uX,Je,Fe],styles:[".account-position[_ngcontent-%COMP%]{top:66px;right:36px;position:inherit}"]}),n})();function Co(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"#"),e.qZA())}function xo(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function To(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"ID Vtex"),e.qZA())}function bo(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.vtex_api_id," ")}}function Zo(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Nombre"),e.qZA())}function vo(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Ao(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Bodega interna "),e.qZA())}function yo(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.internal_warehouse.name," ")}}function ko(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Fecha de edici\xf3n "),e.qZA())}function Eo(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.updated_at," ")}}function wo(n,o){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Acciones "),e.qZA())}const qo=function(n){return["./edit",n]};function Oo(n,o){if(1&n&&(e.TgZ(0,"button",16)(1,"mat-icon"),e._uU(2,"edit"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(1,qo,t.id))}}function Do(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,r=e.oxw();return e.KtG(r.deleteItem(a.id))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA()()}}function No(n,o){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,Oo,3,3,"button",14),e.YNc(2,Do,3,0,"button",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngxPermissionsOnly",t.permissions.edit),e.xp6(1),e.Q6J("ngxPermissionsOnly",t.permissions.delete)}}function Uo(n,o){1&n&&e._UZ(0,"mat-header-row",18)}function Io(n,o){1&n&&e._UZ(0,"mat-row")}const Mo=function(){return["./create"]};function Qo(n,o){1&n&&(e.ynx(0,19),e.TgZ(1,"mat-chip",20)(2,"mat-icon"),e._uU(3,"add"),e.qZA(),e._uU(4,"\xa0 Agregar bodega"),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,Mo)))}let So=(()=>{class n extends ce{constructor(t,i,a){super(),this.activated_route=t,this.s_standart=i,this.snack_bar=a,this.displayedColumns=["id","vtex_api_id","name","warehouse_internal","updated_at","acciones"],this.id=this.activated_route.snapshot.paramMap.get("id"),this.urlData="admin/vtex/"+this.id+"/warehouses",this.wordMain="esta bodega"}ngOnInit(){this.urlDelete=this.urlData+"/",this.activated_route.data.subscribe(t=>{this.permissions=t.permissions.all})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(F.X),e.Y36(M.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-vtex-warehouses"]],viewQuery:function(t,i){if(1&t&&e.Gf(S.H,5),2&t){let a;e.iGM(a=e.CRH())&&(i.headerComponent=a.first)}},features:[e.qOj],decls:25,vars:5,consts:[["columns","1","title","Bodegas de VTEX","placeholder","Buscar Bodegas Vtex",3,"url$","data"],["data",""],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","vtex_api_id"],["matColumnDef","name"],["matColumnDef","warehouse_internal"],["matColumnDef","updated_at"],["matColumnDef","acciones"],["style","top:67px",4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["menuBar","",4,"ngxPermissionsOnly"],["mat-icon-button","","color","primary",3,"routerLink",4,"ngxPermissionsOnly"],["mat-icon-button","","color","warn",3,"click",4,"ngxPermissionsOnly"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-icon-button","","color","warn",3,"click"],[2,"top","67px"],["menuBar",""],[1,"mat-btn-add","ml-1",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"app-search-template",0),e.NdJ("data",function(r){return i.loadData(r)}),e.ynx(2,1),e.TgZ(3,"mat-table",2),e.ynx(4,3),e.YNc(5,Co,2,0,"mat-header-cell",4),e.YNc(6,xo,2,1,"mat-cell",5),e.BQk(),e.ynx(7,6),e.YNc(8,To,2,0,"mat-header-cell",4),e.YNc(9,bo,2,1,"mat-cell",5),e.BQk(),e.ynx(10,7),e.YNc(11,Zo,2,0,"mat-header-cell",4),e.YNc(12,vo,2,1,"mat-cell",5),e.BQk(),e.ynx(13,8),e.YNc(14,Ao,2,0,"mat-header-cell",4),e.YNc(15,yo,2,1,"mat-cell",5),e.BQk(),e.ynx(16,9),e.YNc(17,ko,2,0,"mat-header-cell",4),e.YNc(18,Eo,2,1,"mat-cell",5),e.BQk(),e.ynx(19,10),e.YNc(20,wo,2,0,"mat-header-cell",4),e.YNc(21,No,3,2,"mat-cell",5),e.BQk(),e.YNc(22,Uo,1,0,"mat-header-row",11),e.YNc(23,Io,1,0,"mat-row",12),e.qZA(),e.BQk(),e.YNc(24,Qo,5,2,"ng-container",13),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("url$",i.urlData),e.xp6(2),e.Q6J("dataSource",i.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngxPermissionsOnly",i.permissions.create))},dependencies:[_.rH,A.Hw,y.lW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,h.gE,x.HS,R._]}),n})();function Jo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es requerido"),e.qZA())}function Fo(n,o){if(1&n&&(e.TgZ(0,"mat-option",9),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}let Pe=(()=>{class n{constructor(t,i,a){this.s_standart=t,this.active_route=i,this.router=a,this.form=new l.cw({name:new l.NI("",[l.kI.required]),warehouse_id:new l.NI("",[l.kI.required])}),this.state="create",this.title="Creando Bodega Vtex",this.warehouses=[],this.isload=!1}ngOnInit(){this.loadData()}loadData(){this.active_route.data.subscribe(t=>{var i;const a=null===(i=this.active_route.parent)||void 0===i?void 0:i.snapshot.paramMap.get("id");this.idSite=Number.parseInt(a,10),this.isload=!0,t.isEdit?(this.idWarehouse=this.active_route.snapshot.paramMap.get("id"),this.state="edit",this.title="Editando Bodega Vtex",this.s_standart.create(`admin/vtex/${a}/warehouses/${this.idWarehouse}/edit`).subscribe(r=>{r&&r.hasOwnProperty("success")&&r.success&&(this.assignDataForm(r.data.vtexWarehouse),this.warehouses=r.data.warehouses,this.isload=!1)})):this.s_standart.create(`admin/vtex/${a}/warehouses/create`).subscribe(r=>{r&&r.hasOwnProperty("success")&&r.success&&(this.isload=!1,this.warehouses=r.data)})})}assignDataForm(t){this.form.patchValue(t)}saveInServer(){this.form.valid?(this.isload=!0,"create"===this.state?this.s_standart.store(`admin/vtex/${this.idSite}/warehouses`,this.form.value).subscribe(t=>{t&&t.hasOwnProperty("success")&&t.success&&this.router.navigate(["/administracion-sistema/vtex-sites/",this.idSite,"vtex-warehouses"])},t=>{console.log(t),this.isload=!1}):this.s_standart.updatePut(`admin/vtex/${this.idSite}/warehouses/${this.idWarehouse}`,this.form.value).subscribe(t=>{t&&t.hasOwnProperty("success")&&t.success&&this.router.navigate(["/administracion-sistema/vtex-sites",this.idSite,"vtex-warehouses"])},t=>{console.log(t),this.isload=!1})):this.form.markAllAsTouched()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F.X),e.Y36(_.gz),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-or-edit-vtex-warehouses"]],decls:14,vars:5,consts:[[1,"font-4xl","my-3"],[1,"card-body","mt-2"],[3,"formGroup"],[1,"w-100"],["matInput","","placeholder","Ingrese el nombre","formControlName","name"],[4,"ngIf"],["placeholder","Seleccione una bodega","formControlName","warehouse_id"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div")(1,"div")(2,"h2",0),e._uU(3),e.qZA()(),e.TgZ(4,"mat-card",1)(5,"form",2)(6,"mat-form-field",3),e._UZ(7,"input",4),e.YNc(8,Jo,2,0,"mat-error",5),e.qZA(),e.TgZ(9,"mat-form-field",3)(10,"mat-select",6),e.YNc(11,Fo,2,2,"mat-option",7),e.qZA()(),e.TgZ(12,"button",8),e.NdJ("click",function(){return i.saveInServer()}),e._uU(13,"Guardar"),e.qZA()()()()),2&t){let a;e.xp6(3),e.Oqu(i.title),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(3),e.Q6J("ngIf",null==(a=i.form.get("name"))?null:a.invalid),e.xp6(3),e.Q6J("ngForOf",i.warehouses),e.xp6(1),e.Q6J("disabled",i.isload)}},dependencies:[s.sg,s.O5,y.lW,u.a8,T.TO,T.KE,q.Nt,D.gD,L.ey,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]}),n})();var Ye=m(84909);const Po=function(n){return["/administracion-sistema/vtex-sites/edit",n]},Yo=function(n){return["/administracion-sistema/vtex-sites",n,"vtex-warehouses"]};let Lo=(()=>{class n{constructor(){this.delete=new e.vpe}ngOnInit(){}deleteVtexSite(){this.delete.emit(this.vtexSite.id)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-vtex-site"]],inputs:{vtexSite:"vtexSite"},outputs:{delete:"delete"},decls:43,vars:11,consts:[[1,"card-body","lead","position-relative"],[1,"btn-edit"],["mat-mini-fab","","color","primary",3,"routerLink"],["mat-mini-fab","","color","warn",3,"click"],[1,"border-bottom","mb-2"],[1,"font-italic","text-muted"],[1,"mb-2"],["color","primary",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"span",1)(2,"button",2)(3,"mat-icon"),e._uU(4,"edit"),e.qZA()(),e.TgZ(5,"button",3),e.NdJ("click",function(){return i.deleteVtexSite()}),e.TgZ(6,"mat-icon"),e._uU(7,"delete"),e.qZA()()(),e.TgZ(8,"div",4)(9,"span"),e._uU(10,"Nombre amigable:"),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"span",5),e._uU(13),e.qZA()(),e.TgZ(14,"div",4)(15,"span"),e._uU(16,"Nombre de cuenta:"),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"span",5),e._uU(19),e.qZA()(),e.TgZ(20,"div",4)(21,"span"),e._uU(22,"Url:"),e.qZA(),e._UZ(23,"br"),e.TgZ(24,"span",5),e._uU(25),e.qZA()(),e.TgZ(26,"div",4)(27,"span"),e._uU(28,"App Key:"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"span",5),e._uU(31),e.qZA()(),e.TgZ(32,"div",6)(33,"span"),e._uU(34,"App Token:"),e.qZA(),e._UZ(35,"br"),e.TgZ(36,"span",5),e._uU(37),e.qZA()(),e.TgZ(38,"mat-chip-list")(39,"mat-chip",7),e._uU(40,"Ver bodegas \xa0"),e.TgZ(41,"mat-icon"),e._uU(42,"visibility"),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("routerLink",e.VKq(7,Po,i.vtexSite.id)),e.xp6(11),e.Oqu(i.vtexSite.friendly_name),e.xp6(6),e.Oqu(i.vtexSite.name),e.xp6(6),e.Oqu(i.vtexSite.url),e.xp6(6),e.Oqu(i.vtexSite.app_key),e.xp6(6),e.Oqu(i.vtexSite.app_token),e.xp6(2),e.Q6J("routerLink",e.VKq(9,Yo,i.vtexSite.id)))},dependencies:[_.rH,A.Hw,y.lW,x.qn,x.HS],styles:[".btn-edit[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;opacity:.5}.btn-edit[_ngcontent-%COMP%]:hover{opacity:1}"]}),n})();const Ro=function(){return{"border-radius":"5px",height:"50px"}},Bo=function(){return{"border-radius":"5px",height:"30px"}},Ho=function(){return{"border-radius":"5px",height:"40px",width:"150px","margin-right":"5px"}};function Vo(n,o){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"ngx-skeleton-loader",7)(2,"ngx-skeleton-loader",7)(3,"ngx-skeleton-loader",8),e.qZA()),2&n&&(e.xp6(1),e.Q6J("theme",e.DdM(3,Ro)),e.xp6(1),e.Q6J("theme",e.DdM(4,Bo)),e.xp6(1),e.Q6J("theme",e.DdM(5,Ho)))}const Wo=function(){return[1,2,3]};function jo(n,o){1&n&&(e.TgZ(0,"div",2),e.YNc(1,Vo,4,6,"div",5),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,Wo)))}function $o(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card",10)(1,"app-vtex-site",11),e.NdJ("delete",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.deleteVtexSite(a))}),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("vtexSite",t)}}function Go(n,o){if(1&n&&(e.ynx(0),e.YNc(1,$o,2,1,"mat-card",9),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.vtexSites)}}function zo(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",13),e._UZ(3,"img",14),e.qZA(),e.TgZ(4,"div",15),e._uU(5," Ups! Sin resultados en tu b\xfasqueda "),e.qZA()(),e.BQk())}let Ko=(()=>{class n{constructor(t,i){this.s_standart=t,this.router=i,this.vtexSites=[],this.isload=!1}ngOnInit(){this.loadSitesVtex()}loadSitesVtex(){this.isload=!0,this.s_standart.index("admin/vtex").subscribe(t=>{t&&t.hasOwnProperty("success")&&t.success&&(this.vtexSites=t.data),this.isload=!1})}goCreateVtexSites(){this.router.navigate(["/administracion-sistema/vtex-sites/create"])}deleteVtexSite(t){I.J.swalConfirmation("Eliminar","\xbfEst\xe1 seguro de eliminar este sitio?","warning").then(i=>{i.isConfirmed&&this.s_standart.destory("admin/vtex/"+t).subscribe(a=>{if(a&&a.hasOwnProperty("success")&&a.success){const r=this.vtexSites.findIndex(d=>d.id===t);r>-1&&this.vtexSites.splice(r,1)}})}).catch(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F.X),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-vtex-sites"]],decls:11,vars:3,consts:[[1,"font-5xl","my-3"],["class","card-columns",4,"ngIf"],[1,"card-columns"],[4,"ngIf"],["mat-fab","",1,"btn-add",3,"click"],["class","my-1  card rounded-fz card-body border-0",4,"ngFor","ngForOf"],[1,"my-1","card","rounded-fz","card-body","border-0"],["count","1",3,"theme"],["count","3",3,"theme"],["class","card rounded-fz border-0 shadow-sm",4,"ngFor","ngForOf"],[1,"card","rounded-fz","border-0","shadow-sm"],[3,"vtexSite","delete"],[1,"row"],[1,"col-md-6"],["src","/assets/img/respuesta_vacia.svg","alt","","width","100%"],[1,"col-md-6","font-2xl","d-flex","align-items-center",2,"line-height","1"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"div")(2,"h2",0),e._uU(3,"SITIOS VTEX"),e.qZA()(),e.YNc(4,jo,2,2,"div",1),e.TgZ(5,"div",2),e.YNc(6,Go,2,1,"ng-container",3),e.qZA(),e.YNc(7,zo,6,0,"ng-container",3),e.TgZ(8,"button",4),e.NdJ("click",function(){return i.goCreateVtexSites()}),e.TgZ(9,"mat-icon"),e._uU(10,"add"),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",i.isload),e.xp6(2),e.Q6J("ngIf",!i.isload),e.xp6(1),e.Q6J("ngIf",!i.isload&&i.vtexSites.length<1))},dependencies:[s.sg,s.O5,A.Hw,y.lW,u.a8,Ye.xr,Lo],styles:[".btn-add[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:0px}"]}),n})();function Xo(n,o){1&n&&e._UZ(0,"mat-error")}function ea(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es requerido"),e.qZA())}function ta(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es requerido"),e.qZA())}function na(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es requerido"),e.qZA())}function ia(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es requerido"),e.qZA())}function oa(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es requerido"),e.qZA())}let Le=(()=>{class n{constructor(t,i,a){this.router=t,this.active_route=i,this.s_standart=a,this.state="create",this.title="Creando Sitio Vtex",this.isload=!1,this.form=new l.cw({name:new l.NI(null,[l.kI.required]),vtex_api_id:new l.NI(null,[l.kI.required]),friendly_name:new l.NI(null,[l.kI.required]),url:new l.NI(null,[l.kI.required]),app_key:new l.NI(null,[l.kI.required]),app_token:new l.NI(null,[l.kI.required])})}ngOnInit(){this.active_route.data.subscribe(t=>{if(t.isEdit){this.state="edit",this.title="Editando Sitio Vtex";const i=this.active_route.snapshot.paramMap.get("id");this.id=Number.parseInt(i),this.isload=!0,this.s_standart.create(`admin/vtex/${i}/edit`).subscribe(a=>{a&&a.hasOwnProperty("success")&&a.success&&(this.assignDataForEdit(a.data),this.isload=!1)})}else this.state="create",this.title="Creando Sitio Vtex"})}assignDataForEdit(t){this.form.setValue({name:t.name,vtex_api_id:t.vtex_api_id,friendly_name:t.friendly_name,url:t.url,app_key:t.app_key,app_token:t.app_token})}saveInServer(){if(this.form.valid){this.isload=!0;const t=this.form.value;"edit"===this.state?this.s_standart.updatePut(`admin/vtex/${this.id}`,t).subscribe(i=>{i&&i.hasOwnProperty("success")&&i.success&&this.router.navigate(["/administracion-sistema/vtex-sites"]),this.isload=!1},i=>{console.log(i),this.isload=!1}):this.s_standart.store("admin/vtex",t).subscribe(i=>{i&&i.hasOwnProperty("success")&&i.success&&this.router.navigate(["/administracion-sistema/vtex-sites"]),this.isload=!1},i=>{console.log(i),this.isload=!1})}else this.form.markAllAsTouched()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(_.gz),e.Y36(F.X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-or-edit-vtex-site"]],decls:27,vars:9,consts:[[1,"font-5xl","my-3"],[1,"card-body","mt-3"],[1,"row","m-0",3,"formGroup"],[1,"col-md-6","col-12"],["matInput","","placeholder","Ingresa el Nombre","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Ingresa el Vtex ID","formControlName","vtex_api_id"],[1,"col-12"],["matInput","","placeholder","Ingresa un nombre amigable","formControlName","friendly_name"],["matInput","","placeholder","Ingresa la url","formControlName","url"],["matInput","","placeholder","Ingresa la App KEY","formControlName","app_key"],["matInput","","placeholder","Ingresa la App TOKEN","formControlName","app_token"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div")(1,"div")(2,"h2",0),e._uU(3),e.qZA()(),e.TgZ(4,"mat-card",1)(5,"form",2)(6,"mat-form-field",3),e._UZ(7,"input",4),e.YNc(8,Xo,1,0,"mat-error",5),e.qZA(),e.TgZ(9,"mat-form-field",3),e._UZ(10,"input",6),e.YNc(11,ea,2,0,"mat-error",5),e.qZA(),e._uU(12,"? "),e.TgZ(13,"mat-form-field",7),e._UZ(14,"input",8),e.YNc(15,ta,2,0,"mat-error",5),e.qZA(),e.TgZ(16,"mat-form-field",7),e._UZ(17,"input",9),e.YNc(18,na,2,0,"mat-error",5),e.qZA(),e.TgZ(19,"mat-form-field",7),e._UZ(20,"input",10),e.YNc(21,ia,2,0,"mat-error",5),e.qZA(),e.TgZ(22,"mat-form-field",7),e._UZ(23,"input",11),e.YNc(24,oa,2,0,"mat-error",5),e.qZA(),e.TgZ(25,"button",12),e.NdJ("click",function(){return i.saveInServer()}),e._uU(26,"Guardar"),e.qZA()()()()),2&t){let a,r,d,C,O,E;e.xp6(3),e.hij(" ",i.title," "),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(3),e.Q6J("ngIf",null==(a=i.form.get("name"))?null:a.invalid),e.xp6(3),e.Q6J("ngIf",null==(r=i.form.get("vtex_api_id"))?null:r.invalid),e.xp6(4),e.Q6J("ngIf",null==(d=i.form.get("friendly_name"))?null:d.invalid),e.xp6(3),e.Q6J("ngIf",null==(C=i.form.get("url"))?null:C.invalid),e.xp6(3),e.Q6J("ngIf",null==(O=i.form.get("app_key"))?null:O.invalid),e.xp6(3),e.Q6J("ngIf",null==(E=i.form.get("app_token"))?null:E.invalid),e.xp6(1),e.Q6J("disabled",i.isload)}},dependencies:[s.O5,y.lW,u.a8,T.TO,T.KE,q.Nt,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]}),n})();var ge=m(98078);const aa=function(n){return[n]};function ra(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card",6)(1,"div",7)(2,"h3",8),e._uU(3),e.qZA(),e._UZ(4,"p",9),e.TgZ(5,"div",10)(6,"h4"),e._uU(7),e.ALo(8,"date"),e.ALo(9,"date"),e.qZA()(),e.TgZ(10,"div",10)(11,"button",11)(12,"mat-icon"),e._uU(13,"edit"),e.qZA()(),e.TgZ(14,"button",12),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.deleteData(r.value.id))}),e.TgZ(15,"mat-icon"),e._uU(16,"delete"),e.qZA()()()()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.value.title),e.xp6(1),e.Q6J("innerHTML",t.value.description,e.oJD),e.xp6(3),e.AsE("",e.lcZ(8,5,null==t.value?null:t.value.start_date)," al ",e.lcZ(9,7,null==t?null:t.value.end_date),""),e.xp6(4),e.Q6J("routerLink",e.VKq(9,aa,"./edit/"+t.value.id))}}const sa=function(){return["./create"]};let la=(()=>{class n extends ge.r{constructor(t,i,a){super(),this.methodsHttp=t,this.snackBar=i,this.router=a,this.newsletters=new Map,this.url="admin/newsletter"}ngOnInit(){}getData(t){this.newsletters=new Map(t.map(i=>[i.id,i]))}deleteItem(t){this.newsletters.delete(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.s),e.Y36(M.ux),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-index"]],features:[e.qOj],decls:10,vars:6,consts:[["title","Novedades","placeholder","Buscar novedades",3,"url$","data"],["menuBar",""],[1,"ml-1"],[1,"mat-btn-add",3,"routerLink"],["data",""],["class","card shadow border-0 rounded-fz",4,"ngFor","ngForOf"],[1,"card","shadow","border-0","rounded-fz"],[1,"card-body"],[1,"font-2xl"],[1,"font-montserrat","container-html",3,"innerHTML"],[1,"d-flex"],["mat-icon-button","","color","accent",3,"routerLink"],["mat-icon-button","","color","warn",1,"ml-1",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-search-template",0),e.NdJ("data",function(r){return i.getData(r)}),e.ynx(1,1),e.TgZ(2,"mat-chip-list",2)(3,"mat-chip",3)(4,"mat-icon"),e._uU(5,"new_releases"),e.qZA(),e._uU(6,"\xa0 Agregar novedades "),e.qZA()(),e.BQk(),e.ynx(7,4),e.YNc(8,ra,17,11,"mat-card",5),e.ALo(9,"keyvalue"),e.BQk(),e.qZA()),2&t&&(e.Q6J("url$",i.url),e.xp6(3),e.Q6J("routerLink",e.DdM(5,sa)),e.xp6(5),e.Q6J("ngForOf",e.lcZ(9,3,i.newsletters)))},dependencies:[s.sg,_.rH,A.Hw,y.lW,u.a8,x.qn,x.HS,R._,s.uU,s.Nd],styles:[".container-html[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),n})();var Re=m(41571),Ce=m(57062),Oe=m(70655),xe=m(22313);const ca=[[["","quill-editor-toolbar",""]]],ma=["[quill-editor-toolbar]"],Be={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},me=(n,o)=>n||o||"html",De=new e.OlP("config");let de=(()=>{class n{constructor(t){this.config=t,this.count=0,this.config||(this.config={modules:Be})}getQuill(){return this.count++,!this.Quill&&1===this.count&&(this.$importPromise=new Promise(t=>(0,Oe.mG)(this,void 0,void 0,function*(){var i,a;const r=yield m.e(9971).then(m.t.bind(m,89971,23));this.Quill=r.default?r.default:r,null===(i=this.config.customOptions)||void 0===i||i.forEach(d=>{const C=this.Quill.import(d.import);C.whitelist=d.whitelist,this.Quill.register(C,!0,this.config.suppressGlobalRegisterWarning)}),null===(a=this.config.customModules)||void 0===a||a.forEach(({implementation:d,path:C})=>{this.Quill.register(C,d,this.config.suppressGlobalRegisterWarning)}),t(this.Quill)}))),this.$importPromise}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(De))},n.\u0275prov=(0,e.Yz7)({factory:function(){return new n((0,e.LFG)(De))},token:n,providedIn:"root"}),n})(),da=(()=>{class n{constructor(t,i,a,r,d,C,O){this.elementRef=t,this.domSanitizer=i,this.doc=a,this.platformId=r,this.renderer=d,this.zone=C,this.service=O,this.required=!1,this.customToolbarPosition="top",this.sanitize=!1,this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.disabled=!1,this.valueGetter=(E,w)=>{let v=w.querySelector(".ql-editor").innerHTML;("<p><br></p>"===v||"<div><br></div>"===v)&&(v=null);let N=v;const H=me(this.format,this.service.config.format);if("text"===H)N=E.getText();else if("object"===H)N=E.getContents();else if("json"===H)try{N=JSON.stringify(E.getContents())}catch($){N=E.getText()}return N},this.valueSetter=(E,w)=>{const v=me(this.format,this.service.config.format);if("html"===v)return this.sanitize&&(w=this.domSanitizer.sanitize(e.q3G.HTML,w)),E.clipboard.convert(w);if("json"===v)try{return JSON.parse(w)}catch(N){return[{insert:w}]}return w},this.selectionChangeHandler=(E,w,v)=>{const N=!E&&!!this.onModelTouched;!this.onBlur.observers.length&&!this.onFocus.observers.length&&!this.onSelectionChanged.observers.length&&!N||this.zone.run(()=>{null===E?this.onBlur.emit({editor:this.quillEditor,source:v}):null===w&&this.onFocus.emit({editor:this.quillEditor,source:v}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:w,range:E,source:v}),N&&this.onModelTouched()})},this.textChangeHandler=(E,w,v)=>{const N=this.quillEditor.getText(),H=this.quillEditor.getContents();let $=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===$||"<div><br></div>"===$)&&($=null);const G=this.trackChanges||this.service.config.trackChanges,re=("user"===v||G&&"all"===G)&&!!this.onModelChange;!this.onContentChanged.observers.length&&!re||this.zone.run(()=>{re&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:H,delta:E,editor:this.quillEditor,html:$,oldDelta:w,source:v,text:N})})},this.editorChangeHandler=(E,w,v,N)=>{if(this.onEditorChanged.observers.length)if("text-change"===E){const H=this.quillEditor.getText(),$=this.quillEditor.getContents();let G=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===G||"<div><br></div>"===G)&&(G=null),this.zone.run(()=>{this.onEditorChanged.emit({content:$,delta:w,editor:this.quillEditor,event:E,html:G,oldDelta:v,source:N,text:H})})}else this.onEditorChanged.emit({editor:this.quillEditor,event:E,oldRange:v,range:w,source:N})}}static normalizeClassNames(t){return t.trim().split(" ").reduce((a,r)=>{const d=r.trim();return d&&a.push(d),a},[])}ngAfterViewInit(){return(0,Oe.mG)(this,void 0,void 0,function*(){if((0,s.PM)(this.platformId))return;const t=yield this.service.getQuill();this.elementRef.nativeElement.insertAdjacentHTML("top"===this.customToolbarPosition?"beforeend":"afterbegin",this.preserveWhitespace?"<pre quill-editor-element></pre>":"<div quill-editor-element></div>"),this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const i=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),a=Object.assign({},this.modules||this.service.config.modules);i?a.toolbar=i:void 0===a.toolbar&&(a.toolbar=Be.toolbar);let r=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===r&&(r="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(v=>{this.renderer.setStyle(this.editorElem,v,this.styles[v])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(v=>{const N=t.import(v.import);N.whitelist=v.whitelist,t.register(N,!0)}),this.customModules.forEach(({implementation:v,path:N})=>{t.register(N,v)});let d=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;d||(d=this.service.config.bounds?this.service.config.bounds:this.doc.body);let C=this.debug;!C&&!1!==C&&this.service.config.debug&&(C=this.service.config.debug);let O=this.readOnly;!O&&!1!==this.readOnly&&(O=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let E=this.scrollingContainer;!E&&null!==this.scrollingContainer&&(E=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let w=this.formats;if(!w&&void 0===w&&(w=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{this.quillEditor=new t(this.editorElem,{bounds:d,debug:C,formats:w,modules:a,placeholder:r,readOnly:O,scrollingContainer:E,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")})}),this.content){const v=me(this.format,this.service.config.format);if("object"===v)this.quillEditor.setContents(this.content,"silent");else if("text"===v)this.quillEditor.setText(this.content,"silent");else if("json"===v)try{this.quillEditor.setContents(JSON.parse(this.content),"silent")}catch(N){this.quillEditor.setText(this.content,"silent")}else{this.sanitize&&(this.content=this.domSanitizer.sanitize(e.q3G.HTML,this.content));const N=this.quillEditor.clipboard.convert(this.content);this.quillEditor.setContents(N,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.quillEditor.on("editor-change",this.editorChangeHandler),this.quillEditor.on("selection-change",this.selectionChangeHandler),this.quillEditor.on("text-change",this.textChangeHandler),setTimeout(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})})}ngOnDestroy(){this.quillEditor&&(this.quillEditor.off("selection-change",this.selectionChangeHandler),this.quillEditor.off("text-change",this.textChangeHandler),this.quillEditor.off("editor-change",this.editorChangeHandler))}ngOnChanges(t){if(this.quillEditor){if(t.readOnly&&this.quillEditor.enable(!t.readOnly.currentValue),t.placeholder&&(this.quillEditor.root.dataset.placeholder=t.placeholder.currentValue),t.styles){const i=t.styles.currentValue,a=t.styles.previousValue;a&&Object.keys(a).forEach(r=>{this.renderer.removeStyle(this.editorElem,r)}),i&&Object.keys(i).forEach(r=>{this.renderer.setStyle(this.editorElem,r,this.styles[r])})}if(t.classes){const i=t.classes.currentValue,a=t.classes.previousValue;a&&this.removeClasses(a),i&&this.addClasses(i)}}}addClasses(t){n.normalizeClassNames(t).forEach(i=>{this.renderer.addClass(this.editorElem,i)})}removeClasses(t){n.normalizeClassNames(t).forEach(i=>{this.renderer.removeClass(this.editorElem,i)})}writeValue(t){this.content=t;const i=me(this.format,this.service.config.format);if(this.quillEditor){if(t)return void("text"===i?this.quillEditor.setText(t):this.quillEditor.setContents(this.valueSetter(this.quillEditor,this.content)));this.quillEditor.setText("")}}setDisabledState(t=this.disabled){this.disabled=t,this.quillEditor&&(t?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}registerOnValidatorChange(t){this.onValidatorChanged=t}validate(){if(!this.quillEditor)return null;const t={};let i=!0;const a=this.quillEditor.getText(),r=this.trimOnValidation?a.trim().length:1===a.length&&0===a.trim().length?0:a.length-1;return this.minLength&&r&&r<this.minLength&&(t.minLengthError={given:r,minLength:this.minLength},i=!1),this.maxLength&&r>this.maxLength&&(t.maxLengthError={given:r,maxLength:this.maxLength},i=!1),this.required&&!r&&(t.requiredError={empty:!0},i=!1),i?null:t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(xe.H7),e.Y36(s.K0),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(de))},n.\u0275dir=e.lG2({type:n,inputs:{required:"required",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",customOptions:"customOptions",customModules:"customModules",preserveWhitespace:"preserveWhitespace",trimOnValidation:"trimOnValidation",valueGetter:"valueGetter",valueSetter:"valueSetter",format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",formats:"formats",scrollingContainer:"scrollingContainer",bounds:"bounds",trackChanges:"trackChanges",classes:"classes"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[e.TTD]}),n})(),pa=(()=>{class n extends da{constructor(t,i,a,r,d,C,O){super(t,i,a,r,d,C,O)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(xe.H7),e.Y36(s.K0),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(de))},n.\u0275cmp=e.Xpm({type:n,selectors:[["quill-editor"]],features:[e._Bn([{multi:!0,provide:l.JU,useExisting:(0,e.Gpc)(()=>n)},{multi:!0,provide:l.Cf,useExisting:(0,e.Gpc)(()=>n)}]),e.qOj],ngContentSelectors:ma,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(ca),e.Hsn(0))},encapsulation:2}),n})(),ua=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:De,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[de],imports:[s.ez]}),n})();function _a(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-chip",45),e.NdJ("removed",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.removeRol(r))}),e._uU(1),e.TgZ(2,"mat-icon",46),e._uU(3,"cancel"),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.Q6J("removable",!0),e.xp6(1),e.hij(" ",i.getNameRol(t)," ")}}function ha(n,o){if(1&n&&(e.TgZ(0,"mat-option",47),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name,"")}}function fa(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Fecha de financiaci\xf3n requerida"),e.qZA())}function ga(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.expandQuillEditor())}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}const Ca=function(n){return{"expand-quill":n}};let He=(()=>{class n extends Ce.${constructor(t,i,a){super(t,i,a),this.urlSave="admin/newsletter",this.title="Novedad del sistema",this.expandQuill=!1,this.form=new l.cw({title:new l.NI("",[l.kI.required]),description:new l.NI("",[l.kI.required]),image:new l.NI(null),roles:new l.NI([]),end_date:new l.NI("",[l.kI.required])}),this.roles=[],this.editorStyle={height:"100%"}}ngOnInit(){this.init()}expandQuillEditor(){this.expandQuill=!this.expandQuill}loaderDataForCreate(){this.standard_service.index("admin/newsletter/create").subscribe(t=>{this.roles=t.data})}getDataForSendServer(){if(this.form.valid){const t=this.form.value;return t.end_date=Re.F.convertDateForLaravelOfDataPicker(t.end_date),t}return I.J.swalFire({text:"Debe completar todos los campos",icon:"warning"}),null}getNameWareHouse(t){const i=this.roles.find(a=>a.id==t);return i?i.name:"Todas las bodegas"}setData(t){const i=t.newsletter;this.roles=t.roles,this.form.setValue({title:i.title,description:i.description,image:i.image,roles:i.roles.map(a=>a.id),end_date:new Date(Re.F.convertDateForLaravelOfDataPicker(i.end_date))})}go(){this.router.navigate(["/administracion-sistema/newsletter"])}removeRol(t){var i,a;const r=null===(i=this.form.get("roles"))||void 0===i?void 0:i.value,d=r.findIndex(C=>C===t);r.splice(d,1),null===(a=this.form.get("roles"))||void 0===a||a.setValue(r)}getNameRol(t){var i,a;return null===(a=null===(i=this.roles)||void 0===i?void 0:i.find(r=>r.id==t))||void 0===a?void 0:a.name}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(F.X),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-or-edit-newsletter"]],features:[e.qOj],decls:66,vars:13,consts:[[1,"font-4xl","font-weight-bold","my-3"],[1,"rounded-fz","shadow-sm"],[1,"row","card-body",3,"formGroup","ngSubmit"],[1,"col-12"],["matInput","","placeholder","Titulo","formControlName","title"],[1,"w-100","mb-5",3,"ngClass"],["formControlName","description","required","","placeholder","Ingrese la descripci\xf3n",1,"w-100","h-100",3,"styles"],["quill-editor-toolbar",""],[1,"ql-formats"],[1,"ql-font"],["selected",""],["value","serif"],["value","monospace"],[1,"ql-size"],["value","small"],["value","large"],["value","huge"],[1,"ql-bold"],[1,"ql-italic"],[1,"ql-underline"],[1,"ql-strike"],[1,"ql-color"],[1,"ql-background"],["value","ordered",1,"ql-list"],["value","bullet",1,"ql-list"],[1,"ql-align"],["value","center"],["value","right"],["value","justify"],[1,"ql-link"],[1,"ql-image"],[1,"col-12","p-0"],["mat-button","","type","button","color","primary",1,"",3,"click"],[1,"col-md-6"],["type","text","formControlName","roles","multiple",""],["select_warehouse",""],[3,"removable","removed",4,"ngFor","ngForOf"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","end_date",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["dp4",""],[4,"ngIf"],["type","submit","mat-raised-button","",3,"disabled"],["mat-fab","","class","quill-expand-btn","type","button",3,"click",4,"ngIf"],[3,"removable","removed"],["matChipRemove",""],[3,"value"],["mat-fab","","type","button",1,"quill-expand-btn",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div")(1,"h1",0),e._uU(2),e.qZA(),e.TgZ(3,"mat-card",1)(4,"form",2),e.NdJ("ngSubmit",function(){return i.saveInServer()}),e.TgZ(5,"mat-form-field",3),e._UZ(6,"input",4),e.qZA(),e.TgZ(7,"div",5)(8,"quill-editor",6)(9,"div",7)(10,"span",8)(11,"select",9),e._UZ(12,"option",10)(13,"option",11)(14,"option",12),e.qZA(),e.TgZ(15,"select",13),e._UZ(16,"option",14)(17,"option",10)(18,"option",15)(19,"option",16),e.qZA()(),e.TgZ(20,"span",8),e._UZ(21,"button",17)(22,"button",18)(23,"button",19)(24,"button",20),e.qZA(),e.TgZ(25,"span",8),e._UZ(26,"select",21)(27,"select",22),e.qZA(),e.TgZ(28,"span",8),e._UZ(29,"button",23)(30,"button",24),e.TgZ(31,"select",25),e._UZ(32,"option",10)(33,"option",26)(34,"option",27)(35,"option",28),e.qZA()(),e.TgZ(36,"span",8),e._UZ(37,"button",29)(38,"button",30),e.qZA()()()(),e.TgZ(39,"div",31)(40,"button",32),e.NdJ("click",function(){return i.expandQuillEditor()}),e._uU(41,"Expandir editor de texto "),e.TgZ(42,"mat-icon"),e._uU(43,"crop_free"),e.qZA()()(),e.TgZ(44,"mat-form-field",33)(45,"mat-label"),e._uU(46,"Todas los roles"),e.qZA(),e.TgZ(47,"mat-select",34,35)(49,"mat-select-trigger")(50,"mat-chip-list"),e.YNc(51,_a,4,2,"mat-chip",36),e.qZA()(),e.YNc(52,ha,2,2,"mat-option",37),e.qZA()(),e.TgZ(53,"mat-form-field",33)(54,"mat-label"),e._uU(55,"Fecha de financiaci\xf3n "),e.TgZ(56,"small"),e._uU(57,"(d/m/yyyy)"),e.qZA()(),e._UZ(58,"input",38)(59,"mat-datepicker-toggle",39)(60,"mat-datepicker",40,41),e.YNc(62,fa,2,0,"mat-error",42),e.qZA(),e.TgZ(63,"button",43),e._uU(64,"Guardar"),e.qZA()()(),e.YNc(65,ga,3,0,"button",44),e.qZA()),2&t){const a=e.MAs(61);let r;e.xp6(2),e.Oqu(i.title),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(3),e.Q6J("ngClass",e.VKq(11,Ca,i.expandQuill)),e.xp6(1),e.Q6J("styles",i.editorStyle),e.xp6(43),e.Q6J("ngForOf",null==(r=i.form.get("roles"))?null:r.value),e.xp6(1),e.Q6J("ngForOf",i.roles),e.xp6(6),e.Q6J("matDatepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(3),e.Q6J("ngIf",i.form.controls.end_date.invalid),e.xp6(1),e.Q6J("disabled",i.form.invalid),e.xp6(2),e.Q6J("ngIf",i.expandQuill)}},dependencies:[s.mk,s.sg,s.O5,A.Hw,y.lW,u.a8,T.TO,T.KE,T.hX,T.R9,q.Nt,D.gD,D.$L,L.ey,l._Y,l.YN,l.Kr,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,ee.Mq,ee.hl,ee.nW,x.qn,x.HS,x.qH,pa],styles:[".expand-quill[_ngcontent-%COMP%]{height:100vh;width:100vw;position:fixed;z-index:10000;background:white;top:0;left:0}.quill-expand-btn[_ngcontent-%COMP%]{position:fixed;z-index:10001;bottom:10px;right:10px;cursor:pointer;opacity:.5}.quill-expand-btn[_ngcontent-%COMP%]:hover{opacity:1}"]}),n})();const xa=function(n){return["./",n,"edit"]},Ta=function(n){return["./",n,"departments"]};function ba(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card",6)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.qZA()(),e.TgZ(4,"mat-card-content")(5,"div",7)(6,"mat-chip-list")(7,"mat-chip"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"mat-chip"),e._uU(11),e.qZA()()(),e.TgZ(12,"button",8)(13,"mat-icon"),e._uU(14,"edit"),e.qZA()(),e.TgZ(15,"button",9),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.deleteData(r.key))}),e.TgZ(16,"mat-icon"),e._uU(17,"delete"),e.qZA()(),e.TgZ(18,"button",10)(19,"mat-icon"),e._uU(20,"apartment"),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.value.name),e.xp6(5),e.Oqu(e.lcZ(9,5,t.value.created_at)),e.xp6(3),e.Oqu(t.value.country.name),e.xp6(1),e.Q6J("routerLink",e.VKq(7,xa,t.key)),e.xp6(6),e.Q6J("routerLink",e.VKq(9,Ta,t.key))}}const Za=function(){return{}},va=function(){return["./create"]};let Aa=(()=>{class n extends ge.r{constructor(t,i,a){super(),this.methodsHttp=t,this.snackBar=i,this.router=a,this.url="admin/companies"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.s),e.Y36(M.ux),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-index"]],features:[e.qOj],decls:10,vars:9,consts:[["title","Compa\xf1\xedas",3,"filter_data","url$","placeholder","data"],["data",""],["class","card card-body border-0 rounded-fz",4,"ngFor","ngForOf"],["menuBar",""],[1,"ml-1"],[1,"mat-btn-add",3,"routerLink"],[1,"card","card-body","border-0","rounded-fz"],[1,"mb-2"],["color","primary","mat-mini-fab","",3,"routerLink"],["color","warn","mat-mini-fab","",3,"click"],["color","accent","mat-mini-fab","",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"app-search-template",0),e.NdJ("data",function(r){return i.getData(r)}),e.ynx(1,1),e.YNc(2,ba,21,11,"mat-card",2),e.ALo(3,"keyvalue"),e.BQk(),e.ynx(4,3),e.TgZ(5,"mat-chip-list",4)(6,"mat-chip",5)(7,"mat-icon"),e._uU(8,"add_business"),e.qZA(),e._uU(9,"\xa0 Agregar compa\xf1\xeda"),e.qZA()(),e.BQk(),e.qZA()),2&t&&(e.Q6J("filter_data",e.DdM(7,Za))("url$","admin/companies")("placeholder","Buscador de compa\xf1\xedas"),e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,5,i.data)),e.xp6(4),e.Q6J("routerLink",e.DdM(8,va)))},dependencies:[s.sg,_.rH,A.Hw,y.lW,u.a8,u.dk,u.dn,u.n5,x.qn,x.HS,R._,s.uU,s.Nd]}),n})();function ya(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre es requerido "),e.qZA())}function ka(n,o){if(1&n&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}let Ve=(()=>{class n extends Ce.${constructor(t,i,a){super(t,i,a),this.form=new l.cw({name:new l.NI("",l.kI.required),country_id:new l.NI("",l.kI.required)}),this.title="Compa\xf1\xeda",this.urlSave="admin/companies",this.countries=[]}ngOnInit(){this.init()}setData(t){"create"!==this.status?(this.countries=t.countries,this.form.setValue({name:t.companies.name,country_id:t.companies.country_id})):this.countries=t.countries}go(){this.router.navigate(["/administracion-sistema/companies"])}getDataForSendServer(){return!!this.form.valid&&this.form.value}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(F.X),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-or-edit-company"]],features:[e.qOj],decls:16,vars:5,consts:[[1,"my-3"],[1,"font-4xl"],[1,"rounded-fz","shadow","my-2"],[1,"row","m-0",3,"formGroup"],[1,"col-md-6","col-12"],["matInput","","placeholder","Nombre","formControlName","name"],[4,"ngIf"],["placeholder","Selecciones un pa\xeds","formControlName","country_id"],[3,"value",4,"ngFor","ngForOf"],["color","primary","mat-raised-button","",3,"disabled","click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"h2",1),e._uU(3),e.qZA(),e.TgZ(4,"mat-card",2)(5,"form",3)(6,"mat-form-field",4),e._UZ(7,"input",5),e.YNc(8,ya,2,0,"mat-error",6),e.qZA(),e.TgZ(9,"mat-form-field",4)(10,"mat-select",7),e.YNc(11,ka,2,2,"mat-option",8),e.qZA()(),e.TgZ(12,"button",9),e.NdJ("click",function(){return i.saveInServer()}),e._uU(13,"Guardar "),e.TgZ(14,"mat-icon"),e._uU(15,"save_alt"),e.qZA()()()()()()),2&t){let a;e.xp6(3),e.Oqu(i.title),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(3),e.Q6J("ngIf",null==(a=i.form.get("name"))?null:a.hasError("required")),e.xp6(3),e.Q6J("ngForOf",i.countries),e.xp6(1),e.Q6J("disabled",i.isLoading||i.form.invalid)}},dependencies:[s.sg,s.O5,A.Hw,y.lW,u.a8,T.TO,T.KE,q.Nt,D.gD,L.ey,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u]}),n})();function Ea(n,o){if(1&n&&(e.TgZ(0,"mat-chip"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(null==t.value||null==t.value.parent?null:t.value.parent.name)}}const wa=function(n){return["./",n,"edit"]},qa=function(n){return["./",n,"positions"]};function Oa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card",6)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.qZA()(),e.TgZ(4,"mat-card-content")(5,"div",7)(6,"mat-chip-list")(7,"mat-chip"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.YNc(10,Ea,2,1,"mat-chip",8),e.qZA()(),e.TgZ(11,"button",9)(12,"mat-icon"),e._uU(13,"edit"),e.qZA()(),e.TgZ(14,"button",10),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.deleteData(r.key))}),e.TgZ(15,"mat-icon"),e._uU(16,"delete"),e.qZA()(),e.TgZ(17,"button",11)(18,"mat-icon"),e._uU(19,"reduce_capacity"),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(null==t.value?null:t.value.name),e.xp6(5),e.Oqu(e.lcZ(9,5,t.value.created_at)),e.xp6(2),e.Q6J("ngIf",null==t.value||null==t.value.parent?null:t.value.parent.name),e.xp6(1),e.Q6J("routerLink",e.VKq(7,wa,t.key)),e.xp6(6),e.Q6J("routerLink",e.VKq(9,qa,t.key))}}const Da=function(){return{}},Na=function(){return["./create"]};let Ua=(()=>{class n extends ge.r{constructor(t,i,a){super(),this.methodsHttp=t,this.snackBar=i,this.act_router=a,this.url=`admin/companies/${this.getParam()}/departments`}ngOnInit(){}getParam(t="company_id"){return this.act_router.snapshot.params[t]}getData(t){this.company=null==t?void 0:t.company,this.data=new Map(t.departments.data.map(i=>[i[this.key],i]))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.s),e.Y36(M.ux),e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-department-index"]],features:[e.qOj],decls:10,vars:11,consts:[[3,"title","key_paginator","filter_data","url$","placeholder","data"],["data",""],["class","card card-body border-0 rounded-fz",4,"ngFor","ngForOf"],["menuBar",""],[1,"ml-1"],[1,"mat-btn-add",3,"routerLink"],[1,"card","card-body","border-0","rounded-fz"],[1,"mb-2"],[4,"ngIf"],["color","primary","mat-mini-fab","",3,"routerLink"],["color","warn","mat-mini-fab","",3,"click"],["color","accent","mat-mini-fab","",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"app-search-template",0),e.NdJ("data",function(r){return i.getData(r)}),e.ynx(1,1),e.YNc(2,Oa,20,11,"mat-card",2),e.ALo(3,"keyvalue"),e.BQk(),e.ynx(4,3),e.TgZ(5,"mat-chip-list",4)(6,"mat-chip",5)(7,"mat-icon"),e._uU(8,"addchart"),e.qZA(),e._uU(9," \xa0 Agregar departamento "),e.qZA()(),e.BQk(),e.qZA()),2&t&&(e.MGl("title","Departamentos de ",null==i.company?null:i.company.name,""),e.Q6J("key_paginator","departments")("filter_data",e.DdM(9,Da))("url$",i.url)("placeholder","Buscar departamentos"),e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,7,i.data)),e.xp6(4),e.Q6J("routerLink",e.DdM(10,Na)))},dependencies:[s.sg,s.O5,_.rH,A.Hw,y.lW,u.a8,u.dk,u.dn,u.n5,x.qn,x.HS,R._,s.uU,s.Nd]}),n})();var Ia=m(28258),X=m(90149),We=m(79814);function Ma(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tree-node",11),e._UZ(1,"button",12),e.TgZ(2,"mat-radio-button",13),e.NdJ("change",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.changeValueSelectDepartment(a))}),e._uU(3),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Qa(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tree-node",14)(1,"button",15)(2,"mat-icon",16),e._uU(3),e.qZA()(),e.TgZ(4,"mat-radio-button",17),e.NdJ("change",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.changeValueSelectDepartment(a))}),e._uU(5),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw();e.xp6(3),e.hij(" ",i.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.xp6(1),e.Q6J("value",t.id)("checked",t.selected),e.xp6(1),e.Oqu(t.name)}}let je=(()=>{class n extends Ce.${constructor(t,i,a){super(t,i,a),this.act_router=t,this.standard_service=i,this.router=a,this.key_param="department_id",this.title="Departamento",this.departments=[],this.form=new l.cw({name:new l.NI("",l.kI.required)}),this.treeControl=new Ia.C2(r=>r.level,r=>r.expandable),this._transformer=(r,d)=>({expandable:!!r.childs&&r.childs.length>0,name:r.name,level:d,id:r.id,selected:(null==r?void 0:r.selected)||!1}),this.treeFlattener=new X.JZ(this._transformer,r=>r.level,r=>r.expandable,r=>r.childs),this.dataSource=new X.kc(this.treeControl,this.treeFlattener),this.hasChild=(r,d)=>d.expandable,this.urlSave=`admin/companies/${this.getId("company_id")}/departments`}ngOnInit(){this.init()}recursiveFind(t,i){if(t.id===i&&(t.selected=!0),t.childs.length>0)for(const a of t.childs)this.recursiveFind(a,i);return t}setData(t){var i;if("create"===this.status)this.dataSource.data=t.tree;else{this.company=t.company;const a=t.department.parent_department_id,r=t.tree.map(d=>this.recursiveFind(d,a));this.department_selected=a,this.dataSource.data=r,this.form.setValue({name:null===(i=null==t?void 0:t.department)||void 0===i?void 0:i.name})}}changeValueSelectDepartment(t){console.log(t),this.department_selected=t.value}getDataForSendServer(){return this.form.valid&&Number.isInteger(this.department_selected)?Object.assign(Object.assign({},this.form.value),{parent_department_id:this.department_selected,company_id:this.getId("company_id")}):(I.J.swalToast("Faltan datos por llenar","error"),!1)}go(){this.router.navigate(["/administracion-sistema/companies/",this.getId("company_id"),"departments"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(F.X),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-or-edit-department"]],features:[e.qOj],decls:18,vars:7,consts:[[1,"my-3"],[1,"m-0"],[1,"text-muted"],[1,"rounded-fz","shadow"],[3,"formGroup"],[1,"w-100"],["matInput","","placeholder","Nombre de departamento","formControlName","name"],[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["isExpanded","true","class","align-items-baseline","matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["mat-raised-button","","color","primary",3,"disabled","click"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"checklist-leaf-node",3,"value","change"],["isExpanded","true","matTreeNodePadding","",1,"align-items-baseline"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[1,"center",3,"value","checked","change"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.qZA(),e.TgZ(3,"h4",2),e._uU(4),e.qZA()(),e.TgZ(5,"mat-card",3)(6,"form",4)(7,"mat-form-field",5),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"h3"),e._uU(10,"Jerarquia"),e.qZA(),e.TgZ(11,"mat-tree",7),e.YNc(12,Ma,4,2,"mat-tree-node",8),e.YNc(13,Qa,6,4,"mat-tree-node",9),e.qZA(),e.TgZ(14,"button",10),e.NdJ("click",function(){return i.saveInServer()}),e._uU(15,"Guardar "),e.TgZ(16,"mat-icon"),e._uU(17,"save"),e.qZA()()()()),2&t&&(e.xp6(2),e.hij("",i.title," "),e.xp6(2),e.hij("Compa\xf1\xeda: ",null==i.company?null:i.company.name,""),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(5),e.Q6J("dataSource",i.dataSource)("treeControl",i.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",i.hasChild),e.xp6(1),e.Q6J("disabled",i.isLoading))},dependencies:[A.Hw,y.lW,u.a8,T.KE,q.Nt,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,X.fQ,X.ah,X.eu,X.gi,X.uo,We.U0]}),n})();const Sa=function(n){return["./",n,"edit"]};function Ja(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card",7)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"mat-card-content")(8,"div",8)(9,"mat-chip-list",9)(10,"mat-chip"),e._uU(11),e.qZA(),e.TgZ(12,"mat-chip"),e._uU(13),e.qZA()()(),e.TgZ(14,"button",10)(15,"mat-icon"),e._uU(16,"edit"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.deleteData(r.key))}),e.TgZ(18,"mat-icon"),e._uU(19,"delete"),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(3),e.Oqu(t.value.name),e.xp6(2),e.Oqu(e.lcZ(6,5,t.value.created_at)),e.xp6(6),e.Oqu(t.value.employe_type),e.xp6(2),e.Oqu(t.value.hierarchy_type),e.xp6(1),e.Q6J("routerLink",e.VKq(7,Sa,t.key))}}const Fa=function(){return["./create"]};let Pa=(()=>{class n extends ge.r{constructor(t,i,a,r){super(),this.methodsHttp=t,this.router=i,this.snackBar=a,this.activatedRoute=r,this.url=`admin/companies/${this.getParams("company_id")}/departments/${this.getParams("department_id")}/positions`}ngOnInit(){}getParams(t="id"){return this.activatedRoute.snapshot.params[t]}getData(t){this.department=null==t?void 0:t.department,this.data=new Map(t.positions.data.map(i=>[i.id,i]))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.s),e.Y36(_.F0),e.Y36(M.ux),e.Y36(_.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-positions-index"]],features:[e.qOj],decls:12,vars:8,consts:[[1,"m-0","mt-3"],[3,"key_paginator","url$","data"],["data",""],["class","rounded-fz shadow card border-0",4,"ngFor","ngForOf"],["menuBar",""],[1,"ml-1"],[3,"routerLink"],[1,"rounded-fz","shadow","card","border-0"],[1,"mb-2"],[1,"text-capitalize"],["color","primary","mat-mini-fab","",3,"routerLink"],["color","warn","mat-mini-fab","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"h1",0),e._uU(2),e.qZA()(),e.TgZ(3,"app-search-template",1),e.NdJ("data",function(r){return i.getData(r)}),e.ynx(4,2),e.YNc(5,Ja,20,9,"mat-card",3),e.ALo(6,"keyvalue"),e.BQk(),e.ynx(7,4),e.TgZ(8,"mat-chip-list",5)(9,"mat-chip",6)(10,"mat-icon"),e._uU(11,"add"),e.qZA()()(),e.BQk(),e.qZA()),2&t&&(e.xp6(2),e.hij(" Departamentos de ",null==i.department?null:i.department.name," "),e.xp6(1),e.Q6J("key_paginator","positions")("url$",i.url),e.xp6(2),e.Q6J("ngForOf",e.lcZ(6,5,i.data)),e.xp6(4),e.Q6J("routerLink",e.DdM(7,Fa)))},dependencies:[s.sg,_.rH,A.Hw,y.lW,u.a8,u.dk,u.dn,u.n5,u.$j,x.qn,x.HS,R._,s.uU,s.Nd]}),n})();function Ya(n,o){if(1&n&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.key),e.xp6(1),e.hij(" ",t.value," ")}}function La(n,o){if(1&n&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.key),e.xp6(1),e.hij(" ",t.value," ")}}let $e=(()=>{class n extends Ce.${constructor(t,i,a){super(t,i,a),this.act_router=t,this.standard_service=i,this.router=a,this.title="Posici\xf3n",this.hierarchy_types=[],this.employe_types=null,this.department=null,this.form=new l.cw({name:new l.NI("",[l.kI.required]),hierarchy_type:new l.NI("",[l.kI.required]),employe_type:new l.NI("",[l.kI.required])}),this.key_param="position_id",this.urlSave=`admin/companies/${this.getId("company_id")}/departments/${this.getId("department_id")}/positions`}ngOnInit(){this.init()}setData(t){this.hierarchy_types=t.hierarchy_types,this.employe_types=t.employe_types,this.department=t.department,"edit"===this.status&&this.form.setValue({name:t.position.name,hierarchy_type:t.position.hierarchy_type,employe_type:t.position.employe_type})}getDataForSendServer(){return!!this.form.valid&&this.form.value}go(){this.router.navigate(["/administracion-sistema/companies/"+this.getId("company_id")+"/departments/"+this.getId("department_id")+"/positions"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.gz),e.Y36(F.X),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-or-edit-position"]],features:[e.qOj],decls:22,vars:10,consts:[[1,"my-2"],[1,"rounded-fz","border-0"],[1,"row","m-0",3,"formGroup"],[1,"col-12"],["matInput","","formControlName","name","placeholder","Nombre de Cargo"],[1,"col-md-12","col-12"],["placeholder","Seleccione un tipo de jerarquia","formControlName","hierarchy_type"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Seleccione un tipo de empleado","formControlName","employe_type"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"h1",0),e._uU(2),e.qZA(),e.TgZ(3,"h4"),e._uU(4),e.qZA(),e.TgZ(5,"div")(6,"mat-card",1)(7,"form",2)(8,"mat-form-field",3),e._UZ(9,"input",4),e.qZA(),e.TgZ(10,"mat-form-field",5)(11,"mat-select",6),e.YNc(12,Ya,2,2,"mat-option",7),e.ALo(13,"keyvalue"),e.qZA()(),e.TgZ(14,"mat-form-field",5)(15,"mat-select",8),e.YNc(16,La,2,2,"mat-option",7),e.ALo(17,"keyvalue"),e.qZA()(),e.TgZ(18,"button",9),e.NdJ("click",function(){return i.saveInServer()}),e._uU(19,"Guardar "),e.TgZ(20,"mat-icon"),e._uU(21,"save"),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Oqu(i.title),e.xp6(2),e.hij("Departamento: ",null==i.department?null:i.department.name,""),e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(5),e.Q6J("ngForOf",e.lcZ(13,6,i.hierarchy_types)),e.xp6(4),e.Q6J("ngForOf",e.lcZ(17,8,i.employe_types)),e.xp6(2),e.Q6J("disabled",i.isLoading))},dependencies:[s.sg,A.Hw,y.lW,u.a8,T.KE,q.Nt,D.gD,L.ey,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,s.Nd]}),n})();var Ra=m(27761),Ba=m(39221);let Ge=(()=>{class n extends Ra.Y{constructor(t,i,a,r,d){super(t,i,d),this.s_standart=t,this.snack_bar=i,this.dialog=a,this.activateRoute=r,this.router=d,this.permissions={create:["super-admin","admin.countries.cities.create"],edit:["super-admin","admin.countries.cities.edit"],destroy:["super-admin","admin.countries.cities.destroy"]},this.itemRows=[{key:"id",title:"ID",isEditable:!1},{key:"name",title:"Nombre",isEditable:!0},{key:"code",title:"C\xf3digo",isEditable:!0},{key:"created_at",title:"Creado",isEditable:!1},{key:"updated_at",title:"Actualizado",isEditable:!1}],this.displayedColumns=["id","name","code","created_at","updated_at","actions"],this.url=`admin/countries/${this.getParams("country_id")}/cities`}ngOnInit(){}getParams(t){return this.activateRoute.snapshot.params[t]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F.X),e.Y36(M.ux),e.Y36(B.uw),e.Y36(_.gz),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cities-index"]],features:[e.qOj],decls:3,vars:6,consts:[["textBtnAdd","Agregar ciudad","title","Ciudades",3,"isEditable","itemRows","displayedColumns","permissions","url","placeholder","onClickDestroy"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"div")(2,"app-index-with-mat-table",0),e.NdJ("onClickDestroy",function(r){return i.deleteItem(r)}),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("isEditable",!0)("itemRows",i.itemRows)("displayedColumns",i.displayedColumns)("permissions",i.permissions)("url",i.url)("placeholder","Buscar ciudades"))},dependencies:[Ba.Z]}),n})();const b={usuarios:{index:["super-admin","admin.users.index"],show:["super-admin","admin.users.show"],create:["super-admin","admin.users.create"],edit:["super-admin","admin.users.edit"],delete:["super-admin","admin.users.destroy"]},roles:{index:["super-admin","admin.roles.index"],show:["super-admin","admin.roles.show"],create:["super-admin","admin.roles.create"],edit:["super-admin","admin.roles.edit"],delete:["super-admin","admin.roles.destroy"]},paises:{index:["super-admin","admin.countries.index"],show:["super-admin","admin.countries.show"],create:["super-admin","admin.countries.create"],edit:["super-admin","admin.countries.edit"],delete:["super-admin","admin.countries.destroy"]},cities:{index:["super-admin","admin.countries.cities.index"],show:["super-admin","admin.countries.cities.show"],create:["super-admin","admin.countries.cities.create"],edit:["super-admin","admin.countries.cities.edit"],delete:["super-admin","admin.countries.cities.destroy"]},personas:{index:["super-admin","admin.people.index"],show:["super-admin","admin.people.show"],create:["super-admin","admin.people.create"],edit:["super-admin","admin.people.edit"],delete:["super-admin","admin.people.destroy"]},mercado_libre:{index:["super-admin","ml.accounts.index"],show:["super-admin","ml.accounts.show"],create:["super-admin","ml.accounts.create"],edit:["super-admin","ml.accounts.edit"],delete:["super-admin","ml.accounts.destroy"]},facebook_ads_manager:{index:["super-admin","admin.facebook-ads.ads.index"],show:["super-admin","admin.facebook-ads.ads.show"],create:["super-admin","admin.facebook-ads.ads.create"],edit:["super-admin","admin.facebook-ads.ads.edit"],delete:["super-admin","admin.facebook-ads.ads.destroy"]},vtex_warehouses:{index:["super-admin","admin.vtex.warehouses.index"],show:["super-admin","admin.vtex.warehouses.show"],create:["super-admin","admin.vtex.warehouses.create"],edit:["super-admin","admin.vtex.warehouses.edit"],delete:["super-admin","admin.vtex.warehouses.destroy"]},vtex_sites:{index:["super-admin","admin.vtex.sites.index"],show:["super-admin","admin.vtex.sites.show"],create:["super-admin","admin.vtex.sites.create"],edit:["super-admin","admin.vtex.sites.edit"],delete:["super-admin","admin.vtex.sites.destroy"]},companies:{index:["super-admin","admin.companies.index"],show:["super-admin","admin.companies.show"],create:["super-admin","admin.companies.create"],edit:["super-admin","admin.companies.edit"],delete:["super-admin","admin.companies.destroy"]},permission:{index:["super-admin","admin.permission.index"]}},Ha=[{path:"usuarios",children:[{path:"",component:g,data:{permissions:{only:b.usuarios.index,all:b.usuarios}},canActivate:[h.DD]},{path:"create",component:Ie,data:{isEdit:!1,permissions:{only:b.usuarios.create}},canActivate:[h.DD]},{path:"edit/:id",component:Ie,data:{isEdit:!0,permissions:{only:b.usuarios.edit}},canActivate:[h.DD]}],data:{permissions:{only:b.usuarios.index}},canActivate:[h.DD]},{path:"personas",children:[{path:"",component:sn,data:{permissions:{only:b.personas.index,all:b.personas}},canActivate:[h.DD]},{path:"create",component:Qe,data:{isEdit:!1,permissions:{only:b.personas.create}},canActivate:[h.DD]},{path:"edit/:id",component:Qe,data:{isEdit:!0,permissions:{only:b.personas.edit}},canActivate:[h.DD]}],data:{permissions:{only:b.personas.index}},canActivate:[h.DD]},{path:"roles",children:[{path:"",component:yt,data:{permissions:{all:b.roles,only:b.roles.index}},canActivate:[h.DD]},{path:"create",component:_e,data:{isEdit:!1,permissions:{only:b.roles.create}},canActivate:[h.DD]},{path:"edit/:id",component:_e,data:{isEdit:!0,permissions:{only:b.roles.edit}},canActivate:[h.DD]}],data:{permissions:{only:b.roles.index}},canActivate:[h.DD]},{path:"paises",children:[{path:"",component:zt,data:{permissions:{only:b.paises.index}},canActivate:[h.DD]},{path:":country_id/ciudades",children:[{path:"",component:Ge,data:{permissions:{only:b.cities.index}},canActivate:[h.DD]},{path:"create",component:Ge,data:{permissions:{only:b.cities.index}},canActivate:[h.DD]}]},{path:"create",component:_e,data:{isEdit:!1,permissions:{only:b.paises.create}},canActivate:[h.DD]},{path:"edit/:id",component:_e,data:{isEdit:!0,permissions:{only:b.paises.edit}},canActivate:[h.DD]}],data:{permissions:{only:b.paises.index}},canActivate:[h.DD]},{path:"locations",loadChildren:()=>m.e(531).then(m.bind(m,70531)).then(n=>n.LocationModule)},{path:"workspaces-orders",loadChildren:()=>m.e(4283).then(m.bind(m,14283)).then(n=>n.WorkspacesOrdersModule)},{path:"mercado-libre/cuentas",children:[{path:"",component:ai,data:{permissions:{all:b.mercado_libre,only:b.mercado_libre.index}},canActivate:[h.DD]},{path:"create",component:fe,data:{isEdit:!1,permissions:{only:b.mercado_libre.create}},canActivate:[h.DD]},{path:"edit/:id",component:fe,data:{isEdit:!0,permissions:{only:b.mercado_libre.edit}},canActivate:[h.DD]}],data:{permissions:{only:b.mercado_libre.index}},canActivate:[h.DD]},{path:"facebook-ads-manager",children:[{path:"",component:go,data:{permissions:{all:b.facebook_ads_manager,only:b.facebook_ads_manager.index}},canActivate:[h.DD]},{path:"create",component:fe,data:{isEdit:!1,permissions:{only:b.facebook_ads_manager.create}},canActivate:[h.DD]},{path:"edit/:id",component:fe,data:{isEdit:!0,permissions:{only:b.facebook_ads_manager.edit}},canActivate:[h.DD]}],data:{permissions:{only:b.facebook_ads_manager.index}},canActivate:[h.DD]},{path:"vtex-sites",children:[{path:"",component:Ko,data:{permissions:{all:b.vtex_sites,only:b.vtex_sites.index}},canActivate:[h.DD]},{path:"create",component:Le,data:{isEdit:!1,permissions:{only:b.vtex_sites.create}},canActivate:[h.DD]},{path:"edit/:id",component:Le,data:{isEdit:!0,permissions:{only:b.vtex_sites.edit}},canActivate:[h.DD]},{path:":id/vtex-warehouses",children:[{path:"",component:So,data:{permissions:{all:b.vtex_warehouses,only:b.vtex_warehouses.index}},canActivate:[h.DD]},{path:"create",component:Pe,data:{isEdit:!1,permissions:{only:b.vtex_warehouses.create}},canActivate:[h.DD]},{path:"edit/:id",component:Pe,data:{isEdit:!0,permissions:{only:b.vtex_warehouses.edit}},canActivate:[h.DD]}],data:{permissions:{only:b.vtex_warehouses.index}},canActivate:[h.DD]}],data:{permissions:{only:b.vtex_sites.index}},canActivate:[h.DD]},{path:"companies",children:[{path:"",component:Aa,data:{permissions:{}},canActivate:[h.DD]},{path:"create",component:Ve,data:{isEdit:!1,permissions:{only:b.companies.create}},canActivate:[h.DD]},{path:":id/edit",component:Ve,data:{isEdit:!0,permissions:{only:b.companies.edit}},canActivate:[h.DD]},{path:":company_id/departments",children:[{path:"",component:Ua},{path:"create",component:je},{path:":department_id/edit",component:je,data:{isEdit:!0,permissions:{}}},{path:":department_id/positions",children:[{path:"",component:Pa},{path:"create",component:$e,data:{isEdit:!1,permissions:{}}},{path:":position_id/edit",component:$e,data:{isEdit:!0,permissions:{}}}]}]}]},{path:"newsletter",children:[{path:"",component:la},{path:"create",component:He,data:{isEdit:!1}},{path:"edit/:id",component:He,data:{isEdit:!0}}]},{path:"chatbot",loadChildren:()=>Promise.all([m.e(8592),m.e(9776)]).then(m.bind(m,29776)).then(n=>n.ChatBotsModule)},{path:"prices",loadChildren:()=>m.e(1953).then(m.bind(m,21953)).then(n=>n.PricesModule)},{path:"webhooks",loadChildren:()=>m.e(3358).then(m.bind(m,13358)).then(n=>n.WebhooksModule)},{path:"permissions",loadChildren:()=>Promise.all([m.e(9832),m.e(9696)]).then(m.bind(m,9696)).then(n=>n.PermissionsModule)},{path:"version-app",loadChildren:()=>m.e(5489).then(m.bind(m,95489)).then(n=>n.VersionModule)},{path:"sidebar",loadChildren:()=>Promise.all([m.e(5176),m.e(6518)]).then(m.bind(m,36518)).then(n=>n.SidebarModule)}];let Va=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz.forChild(Ha),_.Bz]}),n})();var Wa=m(9178),ja=m(31441),$a=m(91079),Ga=m(75401),za=m(87445),Ka=m(82085);let Xa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[s.ez,Va,A.Ps,y.ot,c.p0,j._G,h.VI,u.QW,U.p9,T.lN,q.c,D.LD,l.UX,Wa.q,Ee.TU,M.ZX,ke._t,l.u5,ja.u,ee.FA,L.XK,he.T5,x.Hi,$a.Bb,B.Is,qe.Nh,te.Tx,we.g,f.ef,Ye.hx,Ga.r,X.dp,We.Fk,ua.forRoot(),za.U,Ka.v]}),n})()},20773:(pe,z,m)=>{m.d(z,{Cq:()=>le,Ou:()=>V});var s=m(63191),_=m(70925),h=m(69808),c=m(5e3),S=m(90508),I=m(42654),e=m(29071);function J(Q,k){if(1&Q&&(c.O4$(),c._UZ(0,"circle",4)),2&Q){const Z=c.oxw(),P=c.MAs(1);c.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+Z._spinnerAnimationLabel)("stroke-dashoffset",Z._getStrokeDashOffset(),"px")("stroke-dasharray",Z._getStrokeCircumference(),"px")("stroke-width",Z._getCircleStrokeWidth(),"%")("transform-origin",Z._getCircleTransformOrigin(P)),c.uIk("r",Z._getCircleRadius())}}function M(Q,k){if(1&Q&&(c.O4$(),c._UZ(0,"circle",4)),2&Q){const Z=c.oxw(),P=c.MAs(1);c.Udp("stroke-dashoffset",Z._getStrokeDashOffset(),"px")("stroke-dasharray",Z._getStrokeCircumference(),"px")("stroke-width",Z._getCircleStrokeWidth(),"%")("transform-origin",Z._getCircleTransformOrigin(P)),c.uIk("r",Z._getCircleRadius())}}const x=(0,S.pj)(class{constructor(Q){this._elementRef=Q}},"primary"),R=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function j(){return{diameter:100}}});class V extends x{constructor(k,Z,P,W,Y,ne,ie,oe){super(k),this._document=P,this._diameter=100,this._value=0,this._resizeSubscription=I.w.EMPTY,this.mode="determinate";const ae=V._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),ae.has(P.head)||ae.set(P.head,new Set([100])),this._noopAnimations="NoopAnimations"===W&&!!Y&&!Y._forceAnimations,"mat-spinner"===k.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),Y&&(Y.color&&(this.color=this.defaultColor=Y.color),Y.diameter&&(this.diameter=Y.diameter),Y.strokeWidth&&(this.strokeWidth=Y.strokeWidth)),Z.isBrowser&&Z.SAFARI&&ie&&ne&&oe&&(this._resizeSubscription=ie.change(150).subscribe(()=>{"indeterminate"===this.mode&&oe.run(()=>ne.markForCheck())}))}get diameter(){return this._diameter}set diameter(k){this._diameter=(0,s.su)(k),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(k){this._strokeWidth=(0,s.su)(k)}get value(){return"determinate"===this.mode?this._value:0}set value(k){this._value=Math.max(0,Math.min(100,(0,s.su)(k)))}ngOnInit(){const k=this._elementRef.nativeElement;this._styleRoot=(0,_.kV)(k)||this._document.head,this._attachStyleNode(),k.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const k=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${k} ${k}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(k){var Z;const P=50*(null!==(Z=k.currentScale)&&void 0!==Z?Z:1);return`${P}% ${P}%`}_attachStyleNode(){const k=this._styleRoot,Z=this._diameter,P=V._diameters;let W=P.get(k);if(!W||!W.has(Z)){const Y=this._document.createElement("style");Y.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),Y.textContent=this._getAnimationText(),k.appendChild(Y),W||(W=new Set,P.set(k,W)),W.add(Z)}}_getAnimationText(){const k=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*k).replace(/END_VALUE/g,""+.2*k).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}V._diameters=new WeakMap,V.\u0275fac=function(k){return new(k||V)(c.Y36(c.SBq),c.Y36(_.t4),c.Y36(h.K0,8),c.Y36(c.QbO,8),c.Y36(R),c.Y36(c.sBO),c.Y36(e.rL),c.Y36(c.R0b))},V.\u0275cmp=c.Xpm({type:V,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(k,Z){2&k&&(c.uIk("aria-valuemin","determinate"===Z.mode?0:null)("aria-valuemax","determinate"===Z.mode?100:null)("aria-valuenow","determinate"===Z.mode?Z.value:null)("mode",Z.mode),c.Udp("width",Z.diameter,"px")("height",Z.diameter,"px"),c.ekj("_mat-animation-noopable",Z._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(k,Z){1&k&&(c.O4$(),c.TgZ(0,"svg",0,1),c.YNc(2,J,1,11,"circle",2),c.YNc(3,M,1,9,"circle",3),c.qZA()),2&k&&(c.Udp("width",Z.diameter,"px")("height",Z.diameter,"px"),c.Q6J("ngSwitch","indeterminate"===Z.mode),c.uIk("viewBox",Z._getViewBox()),c.xp6(2),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1))},dependencies:[h.RF,h.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let le=(()=>{class Q{}return Q.\u0275fac=function(Z){return new(Z||Q)},Q.\u0275mod=c.oAB({type:Q}),Q.\u0275inj=c.cJS({imports:[S.BQ,h.ez,S.BQ]}),Q})()}}]);